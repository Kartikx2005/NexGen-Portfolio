function _9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FL={exports:{}},Q_={},kL={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.element"),x9=Symbol.for("react.portal"),w9=Symbol.for("react.fragment"),C9=Symbol.for("react.strict_mode"),E9=Symbol.for("react.profiler"),S9=Symbol.for("react.provider"),b9=Symbol.for("react.context"),I9=Symbol.for("react.forward_ref"),B9=Symbol.for("react.suspense"),M9=Symbol.for("react.memo"),T9=Symbol.for("react.lazy"),NT=Symbol.iterator;function R9(t){return t===null||typeof t!="object"?null:(t=NT&&t[NT]||t["@@iterator"],typeof t=="function"?t:null)}var OL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NL=Object.assign,UL={};function Wp(t,e,n){this.props=t,this.context=e,this.refs=UL,this.updater=n||OL}Wp.prototype.isReactComponent={};Wp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zL(){}zL.prototype=Wp.prototype;function cI(t,e,n){this.props=t,this.context=e,this.refs=UL,this.updater=n||OL}var uI=cI.prototype=new zL;uI.constructor=cI;NL(uI,Wp.prototype);uI.isPureReactComponent=!0;var UT=Array.isArray,GL=Object.prototype.hasOwnProperty,dI={current:null},QL={key:!0,ref:!0,__self:!0,__source:!0};function HL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GL.call(e,r)&&!QL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:i0,type:t,key:s,ref:o,props:i,_owner:dI.current}}function P9(t,e){return{$$typeof:i0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fI(t){return typeof t=="object"&&t!==null&&t.$$typeof===i0}function D9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zT=/\/+/g;function zw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D9(""+t.key):e.toString(36)}function y1(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case i0:case x9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zw(o,0):r,UT(i)?(n="",t!=null&&(n=t.replace(zT,"$&/")+"/"),y1(i,e,n,"",function(c){return c})):i!=null&&(fI(i)&&(i=P9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",UT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zw(s,a);o+=y1(s,e,n,l,i)}else if(l=R9(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zw(s,a++),o+=y1(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zv(t,e,n){if(t==null)return t;var r=[],i=0;return y1(t,r,"","",function(s){return e.call(n,s,i++)}),r}function L9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fs={current:null},_1={transition:null},F9={ReactCurrentDispatcher:fs,ReactCurrentBatchConfig:_1,ReactCurrentOwner:dI};en.Children={map:Zv,forEach:function(t,e,n){Zv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zv(t,function(){e++}),e},toArray:function(t){return Zv(t,function(e){return e})||[]},only:function(t){if(!fI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};en.Component=Wp;en.Fragment=w9;en.Profiler=E9;en.PureComponent=cI;en.StrictMode=C9;en.Suspense=B9;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;en.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)GL.call(e,l)&&!QL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:i0,type:t.type,key:i,ref:s,props:r,_owner:o}};en.createContext=function(t){return t={$$typeof:b9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:S9,_context:t},t.Consumer=t};en.createElement=HL;en.createFactory=function(t){var e=HL.bind(null,t);return e.type=t,e};en.createRef=function(){return{current:null}};en.forwardRef=function(t){return{$$typeof:I9,render:t}};en.isValidElement=fI;en.lazy=function(t){return{$$typeof:T9,_payload:{_status:-1,_result:t},_init:L9}};en.memo=function(t,e){return{$$typeof:M9,type:t,compare:e===void 0?null:e}};en.startTransition=function(t){var e=_1.transition;_1.transition={};try{t()}finally{_1.transition=e}};en.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};en.useCallback=function(t,e){return fs.current.useCallback(t,e)};en.useContext=function(t){return fs.current.useContext(t)};en.useDebugValue=function(){};en.useDeferredValue=function(t){return fs.current.useDeferredValue(t)};en.useEffect=function(t,e){return fs.current.useEffect(t,e)};en.useId=function(){return fs.current.useId()};en.useImperativeHandle=function(t,e,n){return fs.current.useImperativeHandle(t,e,n)};en.useInsertionEffect=function(t,e){return fs.current.useInsertionEffect(t,e)};en.useLayoutEffect=function(t,e){return fs.current.useLayoutEffect(t,e)};en.useMemo=function(t,e){return fs.current.useMemo(t,e)};en.useReducer=function(t,e,n){return fs.current.useReducer(t,e,n)};en.useRef=function(t){return fs.current.useRef(t)};en.useState=function(t){return fs.current.useState(t)};en.useSyncExternalStore=function(t,e,n){return fs.current.useSyncExternalStore(t,e,n)};en.useTransition=function(){return fs.current.useTransition()};en.version="18.2.0";kL.exports=en;var M=kL.exports;const X=_f(M),k9=_9({__proto__:null,default:X},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O9=M,N9=Symbol.for("react.element"),U9=Symbol.for("react.fragment"),z9=Object.prototype.hasOwnProperty,G9=O9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q9={key:!0,ref:!0,__self:!0,__source:!0};function VL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)z9.call(e,r)&&!Q9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:N9,type:t,key:s,ref:o,props:i,_owner:G9.current}}Q_.Fragment=U9;Q_.jsx=VL;Q_.jsxs=VL;FL.exports=Q_;var hI=FL.exports;const ec=hI.Fragment,G=hI.jsx,Tt=hI.jsxs;var WL={exports:{}},uo={},jL={exports:{}},JL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,ne){var re=j.length;j.push(ne);e:for(;0<re;){var pe=re-1>>>1,te=j[pe];if(0<i(te,ne))j[pe]=ne,j[re]=te,re=pe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var ne=j[0],re=j.pop();if(re!==ne){j[0]=re;e:for(var pe=0,te=j.length,Se=te>>>1;pe<Se;){var xe=2*(pe+1)-1,ue=j[xe],Pe=xe+1,ke=j[Pe];if(0>i(ue,re))Pe<te&&0>i(ke,ue)?(j[pe]=ke,j[Pe]=re,pe=Pe):(j[pe]=ue,j[xe]=re,pe=xe);else if(Pe<te&&0>i(ke,re))j[pe]=ke,j[Pe]=re,pe=Pe;else break e}}return ne}function i(j,ne){var re=j.sortIndex-ne.sortIndex;return re!==0?re:j.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,A=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=j)r(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(c)}}function b(j){if(v=!1,E(j),!A)if(n(l)!==null)A=!0,de(P);else{var ne=n(c);ne!==null&&fe(b,ne.startTime-j)}}function P(j,ne){A=!1,v&&(v=!1,w(T),T=-1),g=!0;var re=p;try{for(E(ne),h=n(l);h!==null&&(!(h.expirationTime>ne)||j&&!W());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var te=pe(h.expirationTime<=ne);ne=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),E(ne)}else r(l);h=n(l)}if(h!==null)var Se=!0;else{var xe=n(c);xe!==null&&fe(b,xe.startTime-ne),Se=!1}return Se}finally{h=null,p=re,g=!1}}var R=!1,F=null,T=-1,O=5,U=-1;function W(){return!(t.unstable_now()-U<O)}function ee(){if(F!==null){var j=t.unstable_now();U=j;var ne=!0;try{ne=F(!0,j)}finally{ne?Z():(R=!1,F=null)}}else R=!1}var Z;if(typeof x=="function")Z=function(){x(ee)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,q=Y.port2;Y.port1.onmessage=ee,Z=function(){q.postMessage(null)}}else Z=function(){y(ee,0)};function de(j){F=j,R||(R=!0,Z())}function fe(j,ne){T=y(function(){j(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){A||g||(A=!0,de(P))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var re=p;p=ne;try{return j()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,ne){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var re=p;p=j;try{return ne()}finally{p=re}},t.unstable_scheduleCallback=function(j,ne,re){var pe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,j){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,j={id:u++,callback:ne,priorityLevel:j,startTime:re,expirationTime:te,sortIndex:-1},re>pe?(j.sortIndex=re,e(c,j),n(l)===null&&j===n(c)&&(v?(w(T),T=-1):v=!0,fe(b,re-pe))):(j.sortIndex=te,e(l,j),A||g||(A=!0,de(P))),j},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(j){var ne=p;return function(){var re=p;p=ne;try{return j.apply(this,arguments)}finally{p=re}}}})(JL);jL.exports=JL;var H9=jL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KL=M,lo=H9;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $L=new Set,CA={};function xf(t,e){Ip(t,e),Ip(t+"Capture",e)}function Ip(t,e){for(CA[t]=e,t=0;t<e.length;t++)$L.add(e[t])}var Kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VE=Object.prototype.hasOwnProperty,V9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GT={},QT={};function W9(t){return VE.call(QT,t)?!0:VE.call(GT,t)?!1:V9.test(t)?QT[t]=!0:(GT[t]=!0,!1)}function j9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J9(t,e,n,r){if(e===null||typeof e>"u"||j9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hs(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_i[t]=new hs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_i[e]=new hs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_i[t]=new hs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_i[t]=new hs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_i[t]=new hs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_i[t]=new hs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_i[t]=new hs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_i[t]=new hs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_i[t]=new hs(t,5,!1,t.toLowerCase(),null,!1,!1)});var pI=/[\-:]([a-z])/g;function mI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pI,mI);_i[e]=new hs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pI,mI);_i[e]=new hs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pI,mI);_i[e]=new hs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_i[t]=new hs(t,1,!1,t.toLowerCase(),null,!1,!1)});_i.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_i[t]=new hs(t,1,!1,t.toLowerCase(),null,!0,!0)});function gI(t,e,n,r){var i=_i.hasOwnProperty(e)?_i[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J9(e,n,i,r)&&(n=null),r||i===null?W9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tc=KL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ey=Symbol.for("react.element"),$h=Symbol.for("react.portal"),Yh=Symbol.for("react.fragment"),AI=Symbol.for("react.strict_mode"),WE=Symbol.for("react.profiler"),YL=Symbol.for("react.provider"),qL=Symbol.for("react.context"),vI=Symbol.for("react.forward_ref"),jE=Symbol.for("react.suspense"),JE=Symbol.for("react.suspense_list"),yI=Symbol.for("react.memo"),zc=Symbol.for("react.lazy"),XL=Symbol.for("react.offscreen"),HT=Symbol.iterator;function ug(t){return t===null||typeof t!="object"?null:(t=HT&&t[HT]||t["@@iterator"],typeof t=="function"?t:null)}var ur=Object.assign,Gw;function Hg(t){if(Gw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gw=e&&e[1]||""}return`
`+Gw+t}var Qw=!1;function Hw(t,e){if(!t||Qw)return"";Qw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hg(t):""}function K9(t){switch(t.tag){case 5:return Hg(t.type);case 16:return Hg("Lazy");case 13:return Hg("Suspense");case 19:return Hg("SuspenseList");case 0:case 2:case 15:return t=Hw(t.type,!1),t;case 11:return t=Hw(t.type.render,!1),t;case 1:return t=Hw(t.type,!0),t;default:return""}}function KE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yh:return"Fragment";case $h:return"Portal";case WE:return"Profiler";case AI:return"StrictMode";case jE:return"Suspense";case JE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qL:return(t.displayName||"Context")+".Consumer";case YL:return(t._context.displayName||"Context")+".Provider";case vI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yI:return e=t.displayName||null,e!==null?e:KE(t.type)||"Memo";case zc:e=t._payload,t=t._init;try{return KE(t(e))}catch{}}return null}function $9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KE(e);case 8:return e===AI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y9(t){var e=ZL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ty(t){t._valueTracker||(t._valueTracker=Y9(t))}function eF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function U1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $E(t,e){var n=e.checked;return ur({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tF(t,e){e=e.checked,e!=null&&gI(t,"checked",e,!1)}function YE(t,e){tF(t,e);var n=fu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qE(t,e.type,n):e.hasOwnProperty("defaultValue")&&qE(t,e.type,fu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qE(t,e,n){(e!=="number"||U1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vg=Array.isArray;function Ap(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return ur({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Qe(92));if(Vg(n)){if(1<n.length)throw Error(Qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fu(n)}}function nF(t,e){var n=fu(e.value),r=fu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function JT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ny,iF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ny=ny||document.createElement("div"),ny.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ny.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function EA(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q9=["Webkit","ms","Moz","O"];Object.keys(Yg).forEach(function(t){q9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yg[e]=Yg[t]})});function sF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yg.hasOwnProperty(t)&&Yg[t]?(""+e).trim():e+"px"}function oF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var X9=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eS(t,e){if(e){if(X9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function tS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nS=null;function _I(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rS=null,vp=null,yp=null;function KT(t){if(t=a0(t)){if(typeof rS!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=J_(e),rS(t.stateNode,t.type,e))}}function aF(t){vp?yp?yp.push(t):yp=[t]:vp=t}function lF(){if(vp){var t=vp,e=yp;if(yp=vp=null,KT(t),e)for(t=0;t<e.length;t++)KT(e[t])}}function cF(t,e){return t(e)}function uF(){}var Vw=!1;function dF(t,e,n){if(Vw)return t(e,n);Vw=!0;try{return cF(t,e,n)}finally{Vw=!1,(vp!==null||yp!==null)&&(uF(),lF())}}function SA(t,e){var n=t.stateNode;if(n===null)return null;var r=J_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Qe(231,e,typeof n));return n}var iS=!1;if(Kl)try{var dg={};Object.defineProperty(dg,"passive",{get:function(){iS=!0}}),window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,dg)}catch{iS=!1}function Z9(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var qg=!1,z1=null,G1=!1,sS=null,eH={onError:function(t){qg=!0,z1=t}};function tH(t,e,n,r,i,s,o,a,l){qg=!1,z1=null,Z9.apply(eH,arguments)}function nH(t,e,n,r,i,s,o,a,l){if(tH.apply(this,arguments),qg){if(qg){var c=z1;qg=!1,z1=null}else throw Error(Qe(198));G1||(G1=!0,sS=c)}}function wf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $T(t){if(wf(t)!==t)throw Error(Qe(188))}function rH(t){var e=t.alternate;if(!e){if(e=wf(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $T(i),t;if(s===r)return $T(i),e;s=s.sibling}throw Error(Qe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Qe(189))}}if(n.alternate!==r)throw Error(Qe(190))}if(n.tag!==3)throw Error(Qe(188));return n.stateNode.current===n?t:e}function hF(t){return t=rH(t),t!==null?pF(t):null}function pF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pF(t);if(e!==null)return e;t=t.sibling}return null}var mF=lo.unstable_scheduleCallback,YT=lo.unstable_cancelCallback,iH=lo.unstable_shouldYield,sH=lo.unstable_requestPaint,Ir=lo.unstable_now,oH=lo.unstable_getCurrentPriorityLevel,xI=lo.unstable_ImmediatePriority,gF=lo.unstable_UserBlockingPriority,Q1=lo.unstable_NormalPriority,aH=lo.unstable_LowPriority,AF=lo.unstable_IdlePriority,H_=null,ja=null;function lH(t){if(ja&&typeof ja.onCommitFiberRoot=="function")try{ja.onCommitFiberRoot(H_,t,void 0,(t.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:dH,cH=Math.log,uH=Math.LN2;function dH(t){return t>>>=0,t===0?32:31-(cH(t)/uH|0)|0}var ry=64,iy=4194304;function Wg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function H1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wg(a):(s&=o,s!==0&&(r=Wg(s)))}else o=n&~i,o!==0?r=Wg(o):s!==0&&(r=Wg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ea(e),i=1<<n,r|=t[n],e&=~i;return r}function fH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ea(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fH(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function oS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vF(){var t=ry;return ry<<=1,!(ry&4194240)&&(ry=64),t}function Ww(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function s0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ea(e),t[e]=n}function pH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ea(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ea(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var En=0;function yF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _F,CI,xF,wF,CF,aS=!1,sy=[],$c=null,Yc=null,qc=null,bA=new Map,IA=new Map,Vc=[],mH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qT(t,e){switch(t){case"focusin":case"focusout":$c=null;break;case"dragenter":case"dragleave":Yc=null;break;case"mouseover":case"mouseout":qc=null;break;case"pointerover":case"pointerout":bA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":IA.delete(e.pointerId)}}function fg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=a0(e),e!==null&&CI(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gH(t,e,n,r,i){switch(e){case"focusin":return $c=fg($c,t,e,n,r,i),!0;case"dragenter":return Yc=fg(Yc,t,e,n,r,i),!0;case"mouseover":return qc=fg(qc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bA.set(s,fg(bA.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,IA.set(s,fg(IA.get(s)||null,t,e,n,r,i)),!0}return!1}function EF(t){var e=Gd(t.target);if(e!==null){var n=wf(e);if(n!==null){if(e=n.tag,e===13){if(e=fF(n),e!==null){t.blockedOn=e,CF(t.priority,function(){xF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nS=r,n.target.dispatchEvent(r),nS=null}else return e=a0(n),e!==null&&CI(e),t.blockedOn=n,!1;e.shift()}return!0}function XT(t,e,n){x1(t)&&n.delete(e)}function AH(){aS=!1,$c!==null&&x1($c)&&($c=null),Yc!==null&&x1(Yc)&&(Yc=null),qc!==null&&x1(qc)&&(qc=null),bA.forEach(XT),IA.forEach(XT)}function hg(t,e){t.blockedOn===e&&(t.blockedOn=null,aS||(aS=!0,lo.unstable_scheduleCallback(lo.unstable_NormalPriority,AH)))}function BA(t){function e(i){return hg(i,t)}if(0<sy.length){hg(sy[0],t);for(var n=1;n<sy.length;n++){var r=sy[n];r.blockedOn===t&&(r.blockedOn=null)}}for($c!==null&&hg($c,t),Yc!==null&&hg(Yc,t),qc!==null&&hg(qc,t),bA.forEach(e),IA.forEach(e),n=0;n<Vc.length;n++)r=Vc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vc.length&&(n=Vc[0],n.blockedOn===null);)EF(n),n.blockedOn===null&&Vc.shift()}var _p=tc.ReactCurrentBatchConfig,V1=!0;function vH(t,e,n,r){var i=En,s=_p.transition;_p.transition=null;try{En=1,EI(t,e,n,r)}finally{En=i,_p.transition=s}}function yH(t,e,n,r){var i=En,s=_p.transition;_p.transition=null;try{En=4,EI(t,e,n,r)}finally{En=i,_p.transition=s}}function EI(t,e,n,r){if(V1){var i=lS(t,e,n,r);if(i===null)tC(t,e,r,W1,n),qT(t,r);else if(gH(i,t,e,n,r))r.stopPropagation();else if(qT(t,r),e&4&&-1<mH.indexOf(t)){for(;i!==null;){var s=a0(i);if(s!==null&&_F(s),s=lS(t,e,n,r),s===null&&tC(t,e,r,W1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tC(t,e,r,null,n)}}var W1=null;function lS(t,e,n,r){if(W1=null,t=_I(r),t=Gd(t),t!==null)if(e=wf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return W1=t,null}function SF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oH()){case xI:return 1;case gF:return 4;case Q1:case aH:return 16;case AF:return 536870912;default:return 16}default:return 16}}var jc=null,SI=null,w1=null;function bF(){if(w1)return w1;var t,e=SI,n=e.length,r,i="value"in jc?jc.value:jc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return w1=i.slice(t,1<r?1-r:void 0)}function C1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oy(){return!0}function ZT(){return!1}function fo(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oy:ZT,this.isPropagationStopped=ZT,this}return ur(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oy)},persist:function(){},isPersistent:oy}),e}var jp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bI=fo(jp),o0=ur({},jp,{view:0,detail:0}),_H=fo(o0),jw,Jw,pg,V_=ur({},o0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:II,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pg&&(pg&&t.type==="mousemove"?(jw=t.screenX-pg.screenX,Jw=t.screenY-pg.screenY):Jw=jw=0,pg=t),jw)},movementY:function(t){return"movementY"in t?t.movementY:Jw}}),e2=fo(V_),xH=ur({},V_,{dataTransfer:0}),wH=fo(xH),CH=ur({},o0,{relatedTarget:0}),Kw=fo(CH),EH=ur({},jp,{animationName:0,elapsedTime:0,pseudoElement:0}),SH=fo(EH),bH=ur({},jp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IH=fo(bH),BH=ur({},jp,{data:0}),t2=fo(BH),MH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RH[t])?!!e[t]:!1}function II(){return PH}var DH=ur({},o0,{key:function(t){if(t.key){var e=MH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=C1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:II,charCode:function(t){return t.type==="keypress"?C1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?C1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LH=fo(DH),FH=ur({},V_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n2=fo(FH),kH=ur({},o0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:II}),OH=fo(kH),NH=ur({},jp,{propertyName:0,elapsedTime:0,pseudoElement:0}),UH=fo(NH),zH=ur({},V_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GH=fo(zH),QH=[9,13,27,32],BI=Kl&&"CompositionEvent"in window,Xg=null;Kl&&"documentMode"in document&&(Xg=document.documentMode);var HH=Kl&&"TextEvent"in window&&!Xg,IF=Kl&&(!BI||Xg&&8<Xg&&11>=Xg),r2=String.fromCharCode(32),i2=!1;function BF(t,e){switch(t){case"keyup":return QH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qh=!1;function VH(t,e){switch(t){case"compositionend":return MF(e);case"keypress":return e.which!==32?null:(i2=!0,r2);case"textInput":return t=e.data,t===r2&&i2?null:t;default:return null}}function WH(t,e){if(qh)return t==="compositionend"||!BI&&BF(t,e)?(t=bF(),w1=SI=jc=null,qh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IF&&e.locale!=="ko"?null:e.data;default:return null}}var jH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jH[t.type]:e==="textarea"}function TF(t,e,n,r){aF(r),e=j1(e,"onChange"),0<e.length&&(n=new bI("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zg=null,MA=null;function JH(t){GF(t,0)}function W_(t){var e=ep(t);if(eF(e))return t}function KH(t,e){if(t==="change")return e}var RF=!1;if(Kl){var $w;if(Kl){var Yw="oninput"in document;if(!Yw){var o2=document.createElement("div");o2.setAttribute("oninput","return;"),Yw=typeof o2.oninput=="function"}$w=Yw}else $w=!1;RF=$w&&(!document.documentMode||9<document.documentMode)}function a2(){Zg&&(Zg.detachEvent("onpropertychange",PF),MA=Zg=null)}function PF(t){if(t.propertyName==="value"&&W_(MA)){var e=[];TF(e,MA,t,_I(t)),dF(JH,e)}}function $H(t,e,n){t==="focusin"?(a2(),Zg=e,MA=n,Zg.attachEvent("onpropertychange",PF)):t==="focusout"&&a2()}function YH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return W_(MA)}function qH(t,e){if(t==="click")return W_(e)}function XH(t,e){if(t==="input"||t==="change")return W_(e)}function ZH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ra=typeof Object.is=="function"?Object.is:ZH;function TA(t,e){if(ra(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!VE.call(e,i)||!ra(t[i],e[i]))return!1}return!0}function l2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c2(t,e){var n=l2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l2(n)}}function DF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LF(){for(var t=window,e=U1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=U1(t.document)}return e}function MI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e6(t){var e=LF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DF(n.ownerDocument.documentElement,n)){if(r!==null&&MI(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=c2(n,s);var o=c2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t6=Kl&&"documentMode"in document&&11>=document.documentMode,Xh=null,cS=null,eA=null,uS=!1;function u2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uS||Xh==null||Xh!==U1(r)||(r=Xh,"selectionStart"in r&&MI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eA&&TA(eA,r)||(eA=r,r=j1(cS,"onSelect"),0<r.length&&(e=new bI("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xh)))}function ay(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zh={animationend:ay("Animation","AnimationEnd"),animationiteration:ay("Animation","AnimationIteration"),animationstart:ay("Animation","AnimationStart"),transitionend:ay("Transition","TransitionEnd")},qw={},FF={};Kl&&(FF=document.createElement("div").style,"AnimationEvent"in window||(delete Zh.animationend.animation,delete Zh.animationiteration.animation,delete Zh.animationstart.animation),"TransitionEvent"in window||delete Zh.transitionend.transition);function j_(t){if(qw[t])return qw[t];if(!Zh[t])return t;var e=Zh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FF)return qw[t]=e[n];return t}var kF=j_("animationend"),OF=j_("animationiteration"),NF=j_("animationstart"),UF=j_("transitionend"),zF=new Map,d2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cu(t,e){zF.set(t,e),xf(e,[t])}for(var Xw=0;Xw<d2.length;Xw++){var Zw=d2[Xw],n6=Zw.toLowerCase(),r6=Zw[0].toUpperCase()+Zw.slice(1);Cu(n6,"on"+r6)}Cu(kF,"onAnimationEnd");Cu(OF,"onAnimationIteration");Cu(NF,"onAnimationStart");Cu("dblclick","onDoubleClick");Cu("focusin","onFocus");Cu("focusout","onBlur");Cu(UF,"onTransitionEnd");Ip("onMouseEnter",["mouseout","mouseover"]);Ip("onMouseLeave",["mouseout","mouseover"]);Ip("onPointerEnter",["pointerout","pointerover"]);Ip("onPointerLeave",["pointerout","pointerover"]);xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i6=new Set("cancel close invalid load scroll toggle".split(" ").concat(jg));function f2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nH(r,e,void 0,t),t.currentTarget=null}function GF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;f2(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;f2(i,a,c),s=l}}}if(G1)throw t=sS,G1=!1,sS=null,t}function Wn(t,e){var n=e[mS];n===void 0&&(n=e[mS]=new Set);var r=t+"__bubble";n.has(r)||(QF(e,t,2,!1),n.add(r))}function eC(t,e,n){var r=0;e&&(r|=4),QF(n,t,r,e)}var ly="_reactListening"+Math.random().toString(36).slice(2);function RA(t){if(!t[ly]){t[ly]=!0,$L.forEach(function(n){n!=="selectionchange"&&(i6.has(n)||eC(n,!1,t),eC(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ly]||(e[ly]=!0,eC("selectionchange",!1,e))}}function QF(t,e,n,r){switch(SF(e)){case 1:var i=vH;break;case 4:i=yH;break;default:i=EI}n=i.bind(null,e,n,t),i=void 0,!iS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tC(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gd(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dF(function(){var c=s,u=_I(n),h=[];e:{var p=zF.get(t);if(p!==void 0){var g=bI,A=t;switch(t){case"keypress":if(C1(n)===0)break e;case"keydown":case"keyup":g=LH;break;case"focusin":A="focus",g=Kw;break;case"focusout":A="blur",g=Kw;break;case"beforeblur":case"afterblur":g=Kw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=e2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OH;break;case kF:case OF:case NF:g=SH;break;case UF:g=UH;break;case"scroll":g=_H;break;case"wheel":g=GH;break;case"copy":case"cut":case"paste":g=IH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=n2}var v=(e&4)!==0,y=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var x=c,E;x!==null;){E=x;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,w!==null&&(b=SA(x,w),b!=null&&v.push(PA(x,b,E)))),y)break;x=x.return}0<v.length&&(p=new g(p,A,null,n,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==nS&&(A=n.relatedTarget||n.fromElement)&&(Gd(A)||A[$l]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(A=n.relatedTarget||n.toElement,g=c,A=A?Gd(A):null,A!==null&&(y=wf(A),A!==y||A.tag!==5&&A.tag!==6)&&(A=null)):(g=null,A=c),g!==A)){if(v=e2,b="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=n2,b="onPointerLeave",w="onPointerEnter",x="pointer"),y=g==null?p:ep(g),E=A==null?p:ep(A),p=new v(b,x+"leave",g,n,u),p.target=y,p.relatedTarget=E,b=null,Gd(u)===c&&(v=new v(w,x+"enter",A,n,u),v.target=E,v.relatedTarget=y,b=v),y=b,g&&A)t:{for(v=g,w=A,x=0,E=v;E;E=yh(E))x++;for(E=0,b=w;b;b=yh(b))E++;for(;0<x-E;)v=yh(v),x--;for(;0<E-x;)w=yh(w),E--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=yh(v),w=yh(w)}v=null}else v=null;g!==null&&h2(h,p,g,v,!1),A!==null&&y!==null&&h2(h,y,A,v,!0)}}e:{if(p=c?ep(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=KH;else if(s2(p))if(RF)P=XH;else{P=YH;var R=$H}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=qH);if(P&&(P=P(t,c))){TF(h,P,n,u);break e}R&&R(t,p,c),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&qE(p,"number",p.value)}switch(R=c?ep(c):window,t){case"focusin":(s2(R)||R.contentEditable==="true")&&(Xh=R,cS=c,eA=null);break;case"focusout":eA=cS=Xh=null;break;case"mousedown":uS=!0;break;case"contextmenu":case"mouseup":case"dragend":uS=!1,u2(h,n,u);break;case"selectionchange":if(t6)break;case"keydown":case"keyup":u2(h,n,u)}var F;if(BI)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else qh?BF(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(IF&&n.locale!=="ko"&&(qh||T!=="onCompositionStart"?T==="onCompositionEnd"&&qh&&(F=bF()):(jc=u,SI="value"in jc?jc.value:jc.textContent,qh=!0)),R=j1(c,T),0<R.length&&(T=new t2(T,t,null,n,u),h.push({event:T,listeners:R}),F?T.data=F:(F=MF(n),F!==null&&(T.data=F)))),(F=HH?VH(t,n):WH(t,n))&&(c=j1(c,"onBeforeInput"),0<c.length&&(u=new t2("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=F))}GF(h,e)})}function PA(t,e,n){return{instance:t,listener:e,currentTarget:n}}function j1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=SA(t,n),s!=null&&r.unshift(PA(t,s,i)),s=SA(t,e),s!=null&&r.push(PA(t,s,i))),t=t.return}return r}function yh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=SA(n,s),l!=null&&o.unshift(PA(n,l,a))):i||(l=SA(n,s),l!=null&&o.push(PA(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s6=/\r\n?/g,o6=/\u0000|\uFFFD/g;function p2(t){return(typeof t=="string"?t:""+t).replace(s6,`
`).replace(o6,"")}function cy(t,e,n){if(e=p2(e),p2(t)!==e&&n)throw Error(Qe(425))}function J1(){}var dS=null,fS=null;function hS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pS=typeof setTimeout=="function"?setTimeout:void 0,a6=typeof clearTimeout=="function"?clearTimeout:void 0,m2=typeof Promise=="function"?Promise:void 0,l6=typeof queueMicrotask=="function"?queueMicrotask:typeof m2<"u"?function(t){return m2.resolve(null).then(t).catch(c6)}:pS;function c6(t){setTimeout(function(){throw t})}function nC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),BA(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);BA(e)}function Xc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jp=Math.random().toString(36).slice(2),Qa="__reactFiber$"+Jp,DA="__reactProps$"+Jp,$l="__reactContainer$"+Jp,mS="__reactEvents$"+Jp,u6="__reactListeners$"+Jp,d6="__reactHandles$"+Jp;function Gd(t){var e=t[Qa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$l]||n[Qa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g2(t);t!==null;){if(n=t[Qa])return n;t=g2(t)}return e}t=n,n=t.parentNode}return null}function a0(t){return t=t[Qa]||t[$l],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ep(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function J_(t){return t[DA]||null}var gS=[],tp=-1;function Eu(t){return{current:t}}function Jn(t){0>tp||(t.current=gS[tp],gS[tp]=null,tp--)}function Qn(t,e){tp++,gS[tp]=t.current,t.current=e}var hu={},Hi=Eu(hu),Ps=Eu(!1),af=hu;function Bp(t,e){var n=t.type.contextTypes;if(!n)return hu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ds(t){return t=t.childContextTypes,t!=null}function K1(){Jn(Ps),Jn(Hi)}function A2(t,e,n){if(Hi.current!==hu)throw Error(Qe(168));Qn(Hi,e),Qn(Ps,n)}function HF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qe(108,$9(t)||"Unknown",i));return ur({},n,r)}function $1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hu,af=Hi.current,Qn(Hi,t),Qn(Ps,Ps.current),!0}function v2(t,e,n){var r=t.stateNode;if(!r)throw Error(Qe(169));n?(t=HF(t,e,af),r.__reactInternalMemoizedMergedChildContext=t,Jn(Ps),Jn(Hi),Qn(Hi,t)):Jn(Ps),Qn(Ps,n)}var Dl=null,K_=!1,rC=!1;function VF(t){Dl===null?Dl=[t]:Dl.push(t)}function f6(t){K_=!0,VF(t)}function Su(){if(!rC&&Dl!==null){rC=!0;var t=0,e=En;try{var n=Dl;for(En=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dl=null,K_=!1}catch(i){throw Dl!==null&&(Dl=Dl.slice(t+1)),mF(xI,Su),i}finally{En=e,rC=!1}}return null}var np=[],rp=0,Y1=null,q1=0,Co=[],Eo=0,lf=null,Ol=1,Nl="";function Dd(t,e){np[rp++]=q1,np[rp++]=Y1,Y1=t,q1=e}function WF(t,e,n){Co[Eo++]=Ol,Co[Eo++]=Nl,Co[Eo++]=lf,lf=t;var r=Ol;t=Nl;var i=32-ea(r)-1;r&=~(1<<i),n+=1;var s=32-ea(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ol=1<<32-ea(e)+i|n<<i|r,Nl=s+t}else Ol=1<<s|n<<i|r,Nl=t}function TI(t){t.return!==null&&(Dd(t,1),WF(t,1,0))}function RI(t){for(;t===Y1;)Y1=np[--rp],np[rp]=null,q1=np[--rp],np[rp]=null;for(;t===lf;)lf=Co[--Eo],Co[Eo]=null,Nl=Co[--Eo],Co[Eo]=null,Ol=Co[--Eo],Co[Eo]=null}var oo=null,io=null,qn=!1,Xo=null;function jF(t,e){var n=Io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oo=t,io=Xc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oo=t,io=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lf!==null?{id:Ol,overflow:Nl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,oo=t,io=null,!0):!1;default:return!1}}function AS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vS(t){if(qn){var e=io;if(e){var n=e;if(!y2(t,e)){if(AS(t))throw Error(Qe(418));e=Xc(n.nextSibling);var r=oo;e&&y2(t,e)?jF(r,n):(t.flags=t.flags&-4097|2,qn=!1,oo=t)}}else{if(AS(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,qn=!1,oo=t}}}function _2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oo=t}function uy(t){if(t!==oo)return!1;if(!qn)return _2(t),qn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hS(t.type,t.memoizedProps)),e&&(e=io)){if(AS(t))throw JF(),Error(Qe(418));for(;e;)jF(t,e),e=Xc(e.nextSibling)}if(_2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){io=Xc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}io=null}}else io=oo?Xc(t.stateNode.nextSibling):null;return!0}function JF(){for(var t=io;t;)t=Xc(t.nextSibling)}function Mp(){io=oo=null,qn=!1}function PI(t){Xo===null?Xo=[t]:Xo.push(t)}var h6=tc.ReactCurrentBatchConfig;function $o(t,e){if(t&&t.defaultProps){e=ur({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var X1=Eu(null),Z1=null,ip=null,DI=null;function LI(){DI=ip=Z1=null}function FI(t){var e=X1.current;Jn(X1),t._currentValue=e}function yS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xp(t,e){Z1=t,DI=ip=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ts=!0),t.firstContext=null)}function Ro(t){var e=t._currentValue;if(DI!==t)if(t={context:t,memoizedValue:e,next:null},ip===null){if(Z1===null)throw Error(Qe(308));ip=t,Z1.dependencies={lanes:0,firstContext:t}}else ip=ip.next=t;return e}var Qd=null;function kI(t){Qd===null?Qd=[t]:Qd.push(t)}function KF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kI(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yl(t,r)}function Yl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gc=!1;function OI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $F(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yl(t,n)}return i=r.interleaved,i===null?(e.next=e,kI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yl(t,n)}function E1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wI(t,n)}}function x2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function e_(t,e,n,r){var i=t.updateQueue;Gc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,v=a;switch(p=e,g=n,v.tag){case 1:if(A=v.payload,typeof A=="function"){h=A.call(g,h,p);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=v.payload,p=typeof A=="function"?A.call(g,h,p):A,p==null)break e;h=ur({},h,p);break e;case 2:Gc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uf|=o,t.lanes=o,t.memoizedState=h}}function w2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qe(191,i));i.call(r)}}}var YF=new KL.Component().refs;function _S(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ur({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $_={isMounted:function(t){return(t=t._reactInternals)?wf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cs(),i=tu(t),s=Hl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zc(t,s,i),e!==null&&(ta(e,t,i,r),E1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cs(),i=tu(t),s=Hl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zc(t,s,i),e!==null&&(ta(e,t,i,r),E1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cs(),r=tu(t),i=Hl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zc(t,i,r),e!==null&&(ta(e,t,r,n),E1(e,t,r))}};function C2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!TA(n,r)||!TA(i,s):!0}function qF(t,e,n){var r=!1,i=hu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ro(s):(i=Ds(e)?af:Hi.current,r=e.contextTypes,s=(r=r!=null)?Bp(t,i):hu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function E2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$_.enqueueReplaceState(e,e.state,null)}function xS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=YF,OI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ro(s):(s=Ds(e)?af:Hi.current,i.context=Bp(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_S(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$_.enqueueReplaceState(i,i.state,null),e_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qe(309));var r=n.stateNode}if(!r)throw Error(Qe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===YF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Qe(284));if(!n._owner)throw Error(Qe(290,t))}return t}function dy(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S2(t){var e=t._init;return e(t._payload)}function XF(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=nu(w,x),w.index=0,w.sibling=null,w}function s(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=2,x):E):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,E,b){return x===null||x.tag!==6?(x=uC(E,w.mode,b),x.return=w,x):(x=i(x,E),x.return=w,x)}function l(w,x,E,b){var P=E.type;return P===Yh?u(w,x,E.props.children,b,E.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zc&&S2(P)===x.type)?(b=i(x,E.props),b.ref=mg(w,x,E),b.return=w,b):(b=T1(E.type,E.key,E.props,null,w.mode,b),b.ref=mg(w,x,E),b.return=w,b)}function c(w,x,E,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=dC(E,w.mode,b),x.return=w,x):(x=i(x,E.children||[]),x.return=w,x)}function u(w,x,E,b,P){return x===null||x.tag!==7?(x=Zd(E,w.mode,b,P),x.return=w,x):(x=i(x,E),x.return=w,x)}function h(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=uC(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ey:return E=T1(x.type,x.key,x.props,null,w.mode,E),E.ref=mg(w,null,x),E.return=w,E;case $h:return x=dC(x,w.mode,E),x.return=w,x;case zc:var b=x._init;return h(w,b(x._payload),E)}if(Vg(x)||ug(x))return x=Zd(x,w.mode,E,null),x.return=w,x;dy(w,x)}return null}function p(w,x,E,b){var P=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(w,x,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ey:return E.key===P?l(w,x,E,b):null;case $h:return E.key===P?c(w,x,E,b):null;case zc:return P=E._init,p(w,x,P(E._payload),b)}if(Vg(E)||ug(E))return P!==null?null:u(w,x,E,b,null);dy(w,E)}return null}function g(w,x,E,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(E)||null,a(x,w,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ey:return w=w.get(b.key===null?E:b.key)||null,l(x,w,b,P);case $h:return w=w.get(b.key===null?E:b.key)||null,c(x,w,b,P);case zc:var R=b._init;return g(w,x,E,R(b._payload),P)}if(Vg(b)||ug(b))return w=w.get(E)||null,u(x,w,b,P,null);dy(x,b)}return null}function A(w,x,E,b){for(var P=null,R=null,F=x,T=x=0,O=null;F!==null&&T<E.length;T++){F.index>T?(O=F,F=null):O=F.sibling;var U=p(w,F,E[T],b);if(U===null){F===null&&(F=O);break}t&&F&&U.alternate===null&&e(w,F),x=s(U,x,T),R===null?P=U:R.sibling=U,R=U,F=O}if(T===E.length)return n(w,F),qn&&Dd(w,T),P;if(F===null){for(;T<E.length;T++)F=h(w,E[T],b),F!==null&&(x=s(F,x,T),R===null?P=F:R.sibling=F,R=F);return qn&&Dd(w,T),P}for(F=r(w,F);T<E.length;T++)O=g(F,w,T,E[T],b),O!==null&&(t&&O.alternate!==null&&F.delete(O.key===null?T:O.key),x=s(O,x,T),R===null?P=O:R.sibling=O,R=O);return t&&F.forEach(function(W){return e(w,W)}),qn&&Dd(w,T),P}function v(w,x,E,b){var P=ug(E);if(typeof P!="function")throw Error(Qe(150));if(E=P.call(E),E==null)throw Error(Qe(151));for(var R=P=null,F=x,T=x=0,O=null,U=E.next();F!==null&&!U.done;T++,U=E.next()){F.index>T?(O=F,F=null):O=F.sibling;var W=p(w,F,U.value,b);if(W===null){F===null&&(F=O);break}t&&F&&W.alternate===null&&e(w,F),x=s(W,x,T),R===null?P=W:R.sibling=W,R=W,F=O}if(U.done)return n(w,F),qn&&Dd(w,T),P;if(F===null){for(;!U.done;T++,U=E.next())U=h(w,U.value,b),U!==null&&(x=s(U,x,T),R===null?P=U:R.sibling=U,R=U);return qn&&Dd(w,T),P}for(F=r(w,F);!U.done;T++,U=E.next())U=g(F,w,T,U.value,b),U!==null&&(t&&U.alternate!==null&&F.delete(U.key===null?T:U.key),x=s(U,x,T),R===null?P=U:R.sibling=U,R=U);return t&&F.forEach(function(ee){return e(w,ee)}),qn&&Dd(w,T),P}function y(w,x,E,b){if(typeof E=="object"&&E!==null&&E.type===Yh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ey:e:{for(var P=E.key,R=x;R!==null;){if(R.key===P){if(P=E.type,P===Yh){if(R.tag===7){n(w,R.sibling),x=i(R,E.props.children),x.return=w,w=x;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zc&&S2(P)===R.type){n(w,R.sibling),x=i(R,E.props),x.ref=mg(w,R,E),x.return=w,w=x;break e}n(w,R);break}else e(w,R);R=R.sibling}E.type===Yh?(x=Zd(E.props.children,w.mode,b,E.key),x.return=w,w=x):(b=T1(E.type,E.key,E.props,null,w.mode,b),b.ref=mg(w,x,E),b.return=w,w=b)}return o(w);case $h:e:{for(R=E.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(w,x.sibling),x=i(x,E.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=dC(E,w.mode,b),x.return=w,w=x}return o(w);case zc:return R=E._init,y(w,x,R(E._payload),b)}if(Vg(E))return A(w,x,E,b);if(ug(E))return v(w,x,E,b);dy(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,E),x.return=w,w=x):(n(w,x),x=uC(E,w.mode,b),x.return=w,w=x),o(w)):n(w,x)}return y}var Tp=XF(!0),ZF=XF(!1),l0={},Ja=Eu(l0),LA=Eu(l0),FA=Eu(l0);function Hd(t){if(t===l0)throw Error(Qe(174));return t}function NI(t,e){switch(Qn(FA,e),Qn(LA,t),Qn(Ja,l0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ZE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ZE(e,t)}Jn(Ja),Qn(Ja,e)}function Rp(){Jn(Ja),Jn(LA),Jn(FA)}function ek(t){Hd(FA.current);var e=Hd(Ja.current),n=ZE(e,t.type);e!==n&&(Qn(LA,t),Qn(Ja,n))}function UI(t){LA.current===t&&(Jn(Ja),Jn(LA))}var ir=Eu(0);function t_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iC=[];function zI(){for(var t=0;t<iC.length;t++)iC[t]._workInProgressVersionPrimary=null;iC.length=0}var S1=tc.ReactCurrentDispatcher,sC=tc.ReactCurrentBatchConfig,cf=0,cr=null,Jr=null,si=null,n_=!1,tA=!1,kA=0,p6=0;function Li(){throw Error(Qe(321))}function GI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ra(t[n],e[n]))return!1;return!0}function QI(t,e,n,r,i,s){if(cf=s,cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,S1.current=t===null||t.memoizedState===null?v6:y6,t=n(r,i),tA){s=0;do{if(tA=!1,kA=0,25<=s)throw Error(Qe(301));s+=1,si=Jr=null,e.updateQueue=null,S1.current=_6,t=n(r,i)}while(tA)}if(S1.current=r_,e=Jr!==null&&Jr.next!==null,cf=0,si=Jr=cr=null,n_=!1,e)throw Error(Qe(300));return t}function HI(){var t=kA!==0;return kA=0,t}function Ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?cr.memoizedState=si=t:si=si.next=t,si}function Po(){if(Jr===null){var t=cr.alternate;t=t!==null?t.memoizedState:null}else t=Jr.next;var e=si===null?cr.memoizedState:si.next;if(e!==null)si=e,Jr=t;else{if(t===null)throw Error(Qe(310));Jr=t,t={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},si===null?cr.memoizedState=si=t:si=si.next=t}return si}function OA(t,e){return typeof e=="function"?e(t):e}function oC(t){var e=Po(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=Jr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((cf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,cr.lanes|=u,uf|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ra(r,e.memoizedState)||(Ts=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cr.lanes|=s,uf|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function aC(t){var e=Po(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ra(s,e.memoizedState)||(Ts=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tk(){}function nk(t,e){var n=cr,r=Po(),i=e(),s=!ra(r.memoizedState,i);if(s&&(r.memoizedState=i,Ts=!0),r=r.queue,VI(sk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||si!==null&&si.memoizedState.tag&1){if(n.flags|=2048,NA(9,ik.bind(null,n,r,i,e),void 0,null),ci===null)throw Error(Qe(349));cf&30||rk(n,e,i)}return i}function rk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ik(t,e,n,r){e.value=n,e.getSnapshot=r,ok(e)&&ak(t)}function sk(t,e,n){return n(function(){ok(e)&&ak(t)})}function ok(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ra(t,n)}catch{return!0}}function ak(t){var e=Yl(t,1);e!==null&&ta(e,t,1,-1)}function b2(t){var e=Ua();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:t},e.queue=t,t=t.dispatch=A6.bind(null,cr,t),[e.memoizedState,t]}function NA(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lk(){return Po().memoizedState}function b1(t,e,n,r){var i=Ua();cr.flags|=t,i.memoizedState=NA(1|e,n,void 0,r===void 0?null:r)}function Y_(t,e,n,r){var i=Po();r=r===void 0?null:r;var s=void 0;if(Jr!==null){var o=Jr.memoizedState;if(s=o.destroy,r!==null&&GI(r,o.deps)){i.memoizedState=NA(e,n,s,r);return}}cr.flags|=t,i.memoizedState=NA(1|e,n,s,r)}function I2(t,e){return b1(8390656,8,t,e)}function VI(t,e){return Y_(2048,8,t,e)}function ck(t,e){return Y_(4,2,t,e)}function uk(t,e){return Y_(4,4,t,e)}function dk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fk(t,e,n){return n=n!=null?n.concat([t]):null,Y_(4,4,dk.bind(null,e,t),n)}function WI(){}function hk(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pk(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mk(t,e,n){return cf&21?(ra(n,e)||(n=vF(),cr.lanes|=n,uf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ts=!0),t.memoizedState=n)}function m6(t,e){var n=En;En=n!==0&&4>n?n:4,t(!0);var r=sC.transition;sC.transition={};try{t(!1),e()}finally{En=n,sC.transition=r}}function gk(){return Po().memoizedState}function g6(t,e,n){var r=tu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ak(t))vk(e,n);else if(n=KF(t,e,n,r),n!==null){var i=cs();ta(n,t,r,i),yk(n,e,r)}}function A6(t,e,n){var r=tu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ak(t))vk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ra(a,o)){var l=e.interleaved;l===null?(i.next=i,kI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KF(t,e,i,r),n!==null&&(i=cs(),ta(n,t,r,i),yk(n,e,r))}}function Ak(t){var e=t.alternate;return t===cr||e!==null&&e===cr}function vk(t,e){tA=n_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wI(t,n)}}var r_={readContext:Ro,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},v6={readContext:Ro,useCallback:function(t,e){return Ua().memoizedState=[t,e===void 0?null:e],t},useContext:Ro,useEffect:I2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,b1(4194308,4,dk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return b1(4194308,4,t,e)},useInsertionEffect:function(t,e){return b1(4,2,t,e)},useMemo:function(t,e){var n=Ua();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ua();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g6.bind(null,cr,t),[r.memoizedState,t]},useRef:function(t){var e=Ua();return t={current:t},e.memoizedState=t},useState:b2,useDebugValue:WI,useDeferredValue:function(t){return Ua().memoizedState=t},useTransition:function(){var t=b2(!1),e=t[0];return t=m6.bind(null,t[1]),Ua().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cr,i=Ua();if(qn){if(n===void 0)throw Error(Qe(407));n=n()}else{if(n=e(),ci===null)throw Error(Qe(349));cf&30||rk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,I2(sk.bind(null,r,s,t),[t]),r.flags|=2048,NA(9,ik.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ua(),e=ci.identifierPrefix;if(qn){var n=Nl,r=Ol;n=(r&~(1<<32-ea(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kA++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y6={readContext:Ro,useCallback:hk,useContext:Ro,useEffect:VI,useImperativeHandle:fk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:pk,useReducer:oC,useRef:lk,useState:function(){return oC(OA)},useDebugValue:WI,useDeferredValue:function(t){var e=Po();return mk(e,Jr.memoizedState,t)},useTransition:function(){var t=oC(OA)[0],e=Po().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1},_6={readContext:Ro,useCallback:hk,useContext:Ro,useEffect:VI,useImperativeHandle:fk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:pk,useReducer:aC,useRef:lk,useState:function(){return aC(OA)},useDebugValue:WI,useDeferredValue:function(t){var e=Po();return Jr===null?e.memoizedState=t:mk(e,Jr.memoizedState,t)},useTransition:function(){var t=aC(OA)[0],e=Po().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1};function Pp(t,e){try{var n="",r=e;do n+=K9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lC(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x6=typeof WeakMap=="function"?WeakMap:Map;function _k(t,e,n){n=Hl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){s_||(s_=!0,PS=r),wS(t,e)},n}function xk(t,e,n){n=Hl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wS(t,e),typeof r!="function"&&(eu===null?eu=new Set([this]):eu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function B2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F6.bind(null,t,e,n),e.then(t,t))}function M2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hl(-1,1),e.tag=2,Zc(n,e,1))),n.lanes|=1),t)}var w6=tc.ReactCurrentOwner,Ts=!1;function is(t,e,n,r){e.child=t===null?ZF(e,null,n,r):Tp(e,t.child,n,r)}function R2(t,e,n,r,i){n=n.render;var s=e.ref;return xp(e,i),r=QI(t,e,n,r,s,i),n=HI(),t!==null&&!Ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ql(t,e,i)):(qn&&n&&TI(e),e.flags|=1,is(t,e,r,i),e.child)}function P2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ZI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wk(t,e,s,r,i)):(t=T1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:TA,n(o,r)&&t.ref===e.ref)return ql(t,e,i)}return e.flags|=1,t=nu(s,r),t.ref=e.ref,t.return=e,e.child=t}function wk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(TA(s,r)&&t.ref===e.ref)if(Ts=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ts=!0);else return e.lanes=t.lanes,ql(t,e,i)}return CS(t,e,n,r,i)}function Ck(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(op,ro),ro|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qn(op,ro),ro|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qn(op,ro),ro|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qn(op,ro),ro|=r;return is(t,e,i,n),e.child}function Ek(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function CS(t,e,n,r,i){var s=Ds(n)?af:Hi.current;return s=Bp(e,s),xp(e,i),n=QI(t,e,n,r,s,i),r=HI(),t!==null&&!Ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ql(t,e,i)):(qn&&r&&TI(e),e.flags|=1,is(t,e,n,i),e.child)}function D2(t,e,n,r,i){if(Ds(n)){var s=!0;$1(e)}else s=!1;if(xp(e,i),e.stateNode===null)I1(t,e),qF(e,n,r),xS(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ro(c):(c=Ds(n)?af:Hi.current,c=Bp(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&E2(e,o,r,c),Gc=!1;var p=e.memoizedState;o.state=p,e_(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ps.current||Gc?(typeof u=="function"&&(_S(e,n,u,r),l=e.memoizedState),(a=Gc||C2(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$F(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$o(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ro(l):(l=Ds(n)?af:Hi.current,l=Bp(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&E2(e,o,r,l),Gc=!1,p=e.memoizedState,o.state=p,e_(e,r,o,i);var A=e.memoizedState;a!==h||p!==A||Ps.current||Gc?(typeof g=="function"&&(_S(e,n,g,r),A=e.memoizedState),(c=Gc||C2(e,n,c,r,p,A,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ES(t,e,n,r,s,i)}function ES(t,e,n,r,i,s){Ek(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&v2(e,n,!1),ql(t,e,s);r=e.stateNode,w6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Tp(e,t.child,null,s),e.child=Tp(e,null,a,s)):is(t,e,a,s),e.memoizedState=r.state,i&&v2(e,n,!0),e.child}function Sk(t){var e=t.stateNode;e.pendingContext?A2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A2(t,e.context,!1),NI(t,e.containerInfo)}function L2(t,e,n,r,i){return Mp(),PI(i),e.flags|=256,is(t,e,n,r),e.child}var SS={dehydrated:null,treeContext:null,retryLane:0};function bS(t){return{baseLanes:t,cachePool:null,transitions:null}}function bk(t,e,n){var r=e.pendingProps,i=ir.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qn(ir,i&1),t===null)return vS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Z_(o,r,0,null),t=Zd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bS(n),e.memoizedState=SS,t):jI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return C6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nu(a,s):(s=Zd(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?bS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=SS,r}return s=t.child,t=s.sibling,r=nu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jI(t,e){return e=Z_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fy(t,e,n,r){return r!==null&&PI(r),Tp(e,t.child,null,n),t=jI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=lC(Error(Qe(422))),fy(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Z_({mode:"visible",children:r.children},i,0,null),s=Zd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Tp(e,t.child,null,o),e.child.memoizedState=bS(o),e.memoizedState=SS,s);if(!(e.mode&1))return fy(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Qe(419)),r=lC(s,r,void 0),fy(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ts||a){if(r=ci,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yl(t,i),ta(r,t,i,-1))}return XI(),r=lC(Error(Qe(421))),fy(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,io=Xc(i.nextSibling),oo=e,qn=!0,Xo=null,t!==null&&(Co[Eo++]=Ol,Co[Eo++]=Nl,Co[Eo++]=lf,Ol=t.id,Nl=t.overflow,lf=e),e=jI(e,r.children),e.flags|=4096,e)}function F2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yS(t.return,e,n)}function cC(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ik(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(is(t,e,r.children,n),r=ir.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F2(t,n,e);else if(t.tag===19)F2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qn(ir,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&t_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cC(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&t_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cC(e,!0,n,null,s);break;case"together":cC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function I1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ql(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,n=nu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function E6(t,e,n){switch(e.tag){case 3:Sk(e),Mp();break;case 5:ek(e);break;case 1:Ds(e.type)&&$1(e);break;case 4:NI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qn(X1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qn(ir,ir.current&1),e.flags|=128,null):n&e.child.childLanes?bk(t,e,n):(Qn(ir,ir.current&1),t=ql(t,e,n),t!==null?t.sibling:null);Qn(ir,ir.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ik(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qn(ir,ir.current),r)break;return null;case 22:case 23:return e.lanes=0,Ck(t,e,n)}return ql(t,e,n)}var Bk,IS,Mk,Tk;Bk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};IS=function(){};Mk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hd(Ja.current);var s=null;switch(n){case"input":i=$E(t,i),r=$E(t,r),s=[];break;case"select":i=ur({},i,{value:void 0}),r=ur({},r,{value:void 0}),s=[];break;case"textarea":i=XE(t,i),r=XE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=J1)}eS(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(CA.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(CA.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Tk=function(t,e,n,r){n!==r&&(e.flags|=4)};function gg(t,e){if(!qn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S6(t,e,n){var r=e.pendingProps;switch(RI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(e),null;case 1:return Ds(e.type)&&K1(),Fi(e),null;case 3:return r=e.stateNode,Rp(),Jn(Ps),Jn(Hi),zI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xo!==null&&(FS(Xo),Xo=null))),IS(t,e),Fi(e),null;case 5:UI(e);var i=Hd(FA.current);if(n=e.type,t!==null&&e.stateNode!=null)Mk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qe(166));return Fi(e),null}if(t=Hd(Ja.current),uy(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qa]=e,r[DA]=s,t=(e.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<jg.length;i++)Wn(jg[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":VT(r,s),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wn("invalid",r);break;case"textarea":jT(r,s),Wn("invalid",r)}eS(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cy(r.textContent,a,t),i=["children",""+a]):CA.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Wn("scroll",r)}switch(n){case"input":ty(r),WT(r,s,!0);break;case"textarea":ty(r),JT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=J1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qa]=e,t[DA]=r,Bk(t,e,!1,!1),e.stateNode=t;e:{switch(o=tS(n,r),n){case"dialog":Wn("cancel",t),Wn("close",t),i=r;break;case"iframe":case"object":case"embed":Wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<jg.length;i++)Wn(jg[i],t);i=r;break;case"source":Wn("error",t),i=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),i=r;break;case"details":Wn("toggle",t),i=r;break;case"input":VT(t,r),i=$E(t,r),Wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ur({},r,{value:void 0}),Wn("invalid",t);break;case"textarea":jT(t,r),i=XE(t,r),Wn("invalid",t);break;default:i=r}eS(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oF(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iF(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&EA(t,l):typeof l=="number"&&EA(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(CA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Wn("scroll",t):l!=null&&gI(t,s,l,o))}switch(n){case"input":ty(t),WT(t,r,!1);break;case"textarea":ty(t),JT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ap(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ap(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=J1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fi(e),null;case 6:if(t&&e.stateNode!=null)Tk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qe(166));if(n=Hd(FA.current),Hd(Ja.current),uy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qa]=e,(s=r.nodeValue!==n)&&(t=oo,t!==null))switch(t.tag){case 3:cy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qa]=e,e.stateNode=r}return Fi(e),null;case 13:if(Jn(ir),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qn&&io!==null&&e.mode&1&&!(e.flags&128))JF(),Mp(),e.flags|=98560,s=!1;else if(s=uy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[Qa]=e}else Mp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fi(e),s=!1}else Xo!==null&&(FS(Xo),Xo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ir.current&1?Kr===0&&(Kr=3):XI())),e.updateQueue!==null&&(e.flags|=4),Fi(e),null);case 4:return Rp(),IS(t,e),t===null&&RA(e.stateNode.containerInfo),Fi(e),null;case 10:return FI(e.type._context),Fi(e),null;case 17:return Ds(e.type)&&K1(),Fi(e),null;case 19:if(Jn(ir),s=e.memoizedState,s===null)return Fi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gg(s,!1);else{if(Kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=t_(t),o!==null){for(e.flags|=128,gg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qn(ir,ir.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ir()>Dp&&(e.flags|=128,r=!0,gg(s,!1),e.lanes=4194304)}else{if(!r)if(t=t_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qn)return Fi(e),null}else 2*Ir()-s.renderingStartTime>Dp&&n!==1073741824&&(e.flags|=128,r=!0,gg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ir(),e.sibling=null,n=ir.current,Qn(ir,r?n&1|2:n&1),e):(Fi(e),null);case 22:case 23:return qI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ro&1073741824&&(Fi(e),e.subtreeFlags&6&&(e.flags|=8192)):Fi(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function b6(t,e){switch(RI(e),e.tag){case 1:return Ds(e.type)&&K1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rp(),Jn(Ps),Jn(Hi),zI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return UI(e),null;case 13:if(Jn(ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));Mp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jn(ir),null;case 4:return Rp(),null;case 10:return FI(e.type._context),null;case 22:case 23:return qI(),null;case 24:return null;default:return null}}var hy=!1,Ui=!1,I6=typeof WeakSet=="function"?WeakSet:Set,ot=null;function sp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gr(t,e,r)}else n.current=null}function BS(t,e,n){try{n()}catch(r){gr(t,e,r)}}var k2=!1;function B6(t,e){if(dS=V1,t=LF(),MI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fS={focusedElem:t,selectionRange:n},V1=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var v=A.memoizedProps,y=A.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:$o(e.type,v),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(b){gr(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return A=k2,k2=!1,A}function nA(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&BS(e,n,s)}i=i.next}while(i!==r)}}function q_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function MS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rk(t){var e=t.alternate;e!==null&&(t.alternate=null,Rk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qa],delete e[DA],delete e[mS],delete e[u6],delete e[d6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pk(t){return t.tag===5||t.tag===3||t.tag===4}function O2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function TS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=J1));else if(r!==4&&(t=t.child,t!==null))for(TS(t,e,n),t=t.sibling;t!==null;)TS(t,e,n),t=t.sibling}function RS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(RS(t,e,n),t=t.sibling;t!==null;)RS(t,e,n),t=t.sibling}var pi=null,Yo=!1;function Bc(t,e,n){for(n=n.child;n!==null;)Dk(t,e,n),n=n.sibling}function Dk(t,e,n){if(ja&&typeof ja.onCommitFiberUnmount=="function")try{ja.onCommitFiberUnmount(H_,n)}catch{}switch(n.tag){case 5:Ui||sp(n,e);case 6:var r=pi,i=Yo;pi=null,Bc(t,e,n),pi=r,Yo=i,pi!==null&&(Yo?(t=pi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pi.removeChild(n.stateNode));break;case 18:pi!==null&&(Yo?(t=pi,n=n.stateNode,t.nodeType===8?nC(t.parentNode,n):t.nodeType===1&&nC(t,n),BA(t)):nC(pi,n.stateNode));break;case 4:r=pi,i=Yo,pi=n.stateNode.containerInfo,Yo=!0,Bc(t,e,n),pi=r,Yo=i;break;case 0:case 11:case 14:case 15:if(!Ui&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&BS(n,e,o),i=i.next}while(i!==r)}Bc(t,e,n);break;case 1:if(!Ui&&(sp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gr(n,e,a)}Bc(t,e,n);break;case 21:Bc(t,e,n);break;case 22:n.mode&1?(Ui=(r=Ui)||n.memoizedState!==null,Bc(t,e,n),Ui=r):Bc(t,e,n);break;default:Bc(t,e,n)}}function N2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I6),e.forEach(function(r){var i=O6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pi=a.stateNode,Yo=!1;break e;case 3:pi=a.stateNode.containerInfo,Yo=!0;break e;case 4:pi=a.stateNode.containerInfo,Yo=!0;break e}a=a.return}if(pi===null)throw Error(Qe(160));Dk(s,o,i),pi=null,Yo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lk(e,t),e=e.sibling}function Lk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wo(e,t),ka(t),r&4){try{nA(3,t,t.return),q_(3,t)}catch(v){gr(t,t.return,v)}try{nA(5,t,t.return)}catch(v){gr(t,t.return,v)}}break;case 1:Wo(e,t),ka(t),r&512&&n!==null&&sp(n,n.return);break;case 5:if(Wo(e,t),ka(t),r&512&&n!==null&&sp(n,n.return),t.flags&32){var i=t.stateNode;try{EA(i,"")}catch(v){gr(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tF(i,s),tS(a,o);var c=tS(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?oF(i,h):u==="dangerouslySetInnerHTML"?iF(i,h):u==="children"?EA(i,h):gI(i,u,h,c)}switch(a){case"input":YE(i,s);break;case"textarea":nF(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ap(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ap(i,!!s.multiple,s.defaultValue,!0):Ap(i,!!s.multiple,s.multiple?[]:"",!1))}i[DA]=s}catch(v){gr(t,t.return,v)}}break;case 6:if(Wo(e,t),ka(t),r&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){gr(t,t.return,v)}}break;case 3:if(Wo(e,t),ka(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{BA(e.containerInfo)}catch(v){gr(t,t.return,v)}break;case 4:Wo(e,t),ka(t);break;case 13:Wo(e,t),ka(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($I=Ir())),r&4&&N2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ui=(c=Ui)||u,Wo(e,t),Ui=c):Wo(e,t),ka(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ot=t,u=t.child;u!==null;){for(h=ot=u;ot!==null;){switch(p=ot,g=p.child,p.tag){case 0:case 11:case 14:case 15:nA(4,p,p.return);break;case 1:sp(p,p.return);var A=p.stateNode;if(typeof A.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(v){gr(r,n,v)}}break;case 5:sp(p,p.return);break;case 22:if(p.memoizedState!==null){z2(h);continue}}g!==null?(g.return=p,ot=g):z2(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sF("display",o))}catch(v){gr(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){gr(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wo(e,t),ka(t),r&4&&N2(t);break;case 21:break;default:Wo(e,t),ka(t)}}function ka(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pk(n)){var r=n;break e}n=n.return}throw Error(Qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(EA(i,""),r.flags&=-33);var s=O2(t);RS(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=O2(t);TS(t,a,o);break;default:throw Error(Qe(161))}}catch(l){gr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M6(t,e,n){ot=t,Fk(t)}function Fk(t,e,n){for(var r=(t.mode&1)!==0;ot!==null;){var i=ot,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ui;a=hy;var c=Ui;if(hy=o,(Ui=l)&&!c)for(ot=i;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?G2(i):l!==null?(l.return=o,ot=l):G2(i);for(;s!==null;)ot=s,Fk(s),s=s.sibling;ot=i,hy=a,Ui=c}U2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ot=s):U2(t)}}function U2(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ui||q_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ui)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$o(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&BA(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Ui||e.flags&512&&MS(e)}catch(p){gr(e,e.return,p)}}if(e===t){ot=null;break}if(n=e.sibling,n!==null){n.return=e.return,ot=n;break}ot=e.return}}function z2(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ot=n;break}ot=e.return}}function G2(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{q_(4,e)}catch(l){gr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gr(e,i,l)}}var s=e.return;try{MS(e)}catch(l){gr(e,s,l)}break;case 5:var o=e.return;try{MS(e)}catch(l){gr(e,o,l)}}}catch(l){gr(e,e.return,l)}if(e===t){ot=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ot=a;break}ot=e.return}}var T6=Math.ceil,i_=tc.ReactCurrentDispatcher,JI=tc.ReactCurrentOwner,Mo=tc.ReactCurrentBatchConfig,fn=0,ci=null,Nr=null,gi=0,ro=0,op=Eu(0),Kr=0,UA=null,uf=0,X_=0,KI=0,rA=null,Bs=null,$I=0,Dp=1/0,Tl=null,s_=!1,PS=null,eu=null,py=!1,Jc=null,o_=0,iA=0,DS=null,B1=-1,M1=0;function cs(){return fn&6?Ir():B1!==-1?B1:B1=Ir()}function tu(t){return t.mode&1?fn&2&&gi!==0?gi&-gi:h6.transition!==null?(M1===0&&(M1=vF()),M1):(t=En,t!==0||(t=window.event,t=t===void 0?16:SF(t.type)),t):1}function ta(t,e,n,r){if(50<iA)throw iA=0,DS=null,Error(Qe(185));s0(t,n,r),(!(fn&2)||t!==ci)&&(t===ci&&(!(fn&2)&&(X_|=n),Kr===4&&Wc(t,gi)),Ls(t,r),n===1&&fn===0&&!(e.mode&1)&&(Dp=Ir()+500,K_&&Su()))}function Ls(t,e){var n=t.callbackNode;hH(t,e);var r=H1(t,t===ci?gi:0);if(r===0)n!==null&&YT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&YT(n),e===1)t.tag===0?f6(Q2.bind(null,t)):VF(Q2.bind(null,t)),l6(function(){!(fn&6)&&Su()}),n=null;else{switch(yF(r)){case 1:n=xI;break;case 4:n=gF;break;case 16:n=Q1;break;case 536870912:n=AF;break;default:n=Q1}n=Hk(n,kk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kk(t,e){if(B1=-1,M1=0,fn&6)throw Error(Qe(327));var n=t.callbackNode;if(wp()&&t.callbackNode!==n)return null;var r=H1(t,t===ci?gi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=a_(t,r);else{e=r;var i=fn;fn|=2;var s=Nk();(ci!==t||gi!==e)&&(Tl=null,Dp=Ir()+500,Xd(t,e));do try{D6();break}catch(a){Ok(t,a)}while(1);LI(),i_.current=s,fn=i,Nr!==null?e=0:(ci=null,gi=0,e=Kr)}if(e!==0){if(e===2&&(i=oS(t),i!==0&&(r=i,e=LS(t,i))),e===1)throw n=UA,Xd(t,0),Wc(t,r),Ls(t,Ir()),n;if(e===6)Wc(t,r);else{if(i=t.current.alternate,!(r&30)&&!R6(i)&&(e=a_(t,r),e===2&&(s=oS(t),s!==0&&(r=s,e=LS(t,s))),e===1))throw n=UA,Xd(t,0),Wc(t,r),Ls(t,Ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Qe(345));case 2:Ld(t,Bs,Tl);break;case 3:if(Wc(t,r),(r&130023424)===r&&(e=$I+500-Ir(),10<e)){if(H1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pS(Ld.bind(null,t,Bs,Tl),e);break}Ld(t,Bs,Tl);break;case 4:if(Wc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ea(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T6(r/1960))-r,10<r){t.timeoutHandle=pS(Ld.bind(null,t,Bs,Tl),r);break}Ld(t,Bs,Tl);break;case 5:Ld(t,Bs,Tl);break;default:throw Error(Qe(329))}}}return Ls(t,Ir()),t.callbackNode===n?kk.bind(null,t):null}function LS(t,e){var n=rA;return t.current.memoizedState.isDehydrated&&(Xd(t,e).flags|=256),t=a_(t,e),t!==2&&(e=Bs,Bs=n,e!==null&&FS(e)),t}function FS(t){Bs===null?Bs=t:Bs.push.apply(Bs,t)}function R6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ra(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wc(t,e){for(e&=~KI,e&=~X_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ea(e),r=1<<n;t[n]=-1,e&=~r}}function Q2(t){if(fn&6)throw Error(Qe(327));wp();var e=H1(t,0);if(!(e&1))return Ls(t,Ir()),null;var n=a_(t,e);if(t.tag!==0&&n===2){var r=oS(t);r!==0&&(e=r,n=LS(t,r))}if(n===1)throw n=UA,Xd(t,0),Wc(t,e),Ls(t,Ir()),n;if(n===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ld(t,Bs,Tl),Ls(t,Ir()),null}function YI(t,e){var n=fn;fn|=1;try{return t(e)}finally{fn=n,fn===0&&(Dp=Ir()+500,K_&&Su())}}function df(t){Jc!==null&&Jc.tag===0&&!(fn&6)&&wp();var e=fn;fn|=1;var n=Mo.transition,r=En;try{if(Mo.transition=null,En=1,t)return t()}finally{En=r,Mo.transition=n,fn=e,!(fn&6)&&Su()}}function qI(){ro=op.current,Jn(op)}function Xd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a6(n)),Nr!==null)for(n=Nr.return;n!==null;){var r=n;switch(RI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&K1();break;case 3:Rp(),Jn(Ps),Jn(Hi),zI();break;case 5:UI(r);break;case 4:Rp();break;case 13:Jn(ir);break;case 19:Jn(ir);break;case 10:FI(r.type._context);break;case 22:case 23:qI()}n=n.return}if(ci=t,Nr=t=nu(t.current,null),gi=ro=e,Kr=0,UA=null,KI=X_=uf=0,Bs=rA=null,Qd!==null){for(e=0;e<Qd.length;e++)if(n=Qd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qd=null}return t}function Ok(t,e){do{var n=Nr;try{if(LI(),S1.current=r_,n_){for(var r=cr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}n_=!1}if(cf=0,si=Jr=cr=null,tA=!1,kA=0,JI.current=null,n===null||n.return===null){Kr=1,UA=e,Nr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=M2(o);if(g!==null){g.flags&=-257,T2(g,o,a,s,e),g.mode&1&&B2(s,c,e),e=g,l=c;var A=e.updateQueue;if(A===null){var v=new Set;v.add(l),e.updateQueue=v}else A.add(l);break e}else{if(!(e&1)){B2(s,c,e),XI();break e}l=Error(Qe(426))}}else if(qn&&a.mode&1){var y=M2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),T2(y,o,a,s,e),PI(Pp(l,a));break e}}s=l=Pp(l,a),Kr!==4&&(Kr=2),rA===null?rA=[s]:rA.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=_k(s,l,e);x2(s,w);break e;case 1:a=l;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(eu===null||!eu.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=xk(s,a,e);x2(s,b);break e}}s=s.return}while(s!==null)}zk(n)}catch(P){e=P,Nr===n&&n!==null&&(Nr=n=n.return);continue}break}while(1)}function Nk(){var t=i_.current;return i_.current=r_,t===null?r_:t}function XI(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),ci===null||!(uf&268435455)&&!(X_&268435455)||Wc(ci,gi)}function a_(t,e){var n=fn;fn|=2;var r=Nk();(ci!==t||gi!==e)&&(Tl=null,Xd(t,e));do try{P6();break}catch(i){Ok(t,i)}while(1);if(LI(),fn=n,i_.current=r,Nr!==null)throw Error(Qe(261));return ci=null,gi=0,Kr}function P6(){for(;Nr!==null;)Uk(Nr)}function D6(){for(;Nr!==null&&!iH();)Uk(Nr)}function Uk(t){var e=Qk(t.alternate,t,ro);t.memoizedProps=t.pendingProps,e===null?zk(t):Nr=e,JI.current=null}function zk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b6(n,e),n!==null){n.flags&=32767,Nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kr=6,Nr=null;return}}else if(n=S6(n,e,ro),n!==null){Nr=n;return}if(e=e.sibling,e!==null){Nr=e;return}Nr=e=t}while(e!==null);Kr===0&&(Kr=5)}function Ld(t,e,n){var r=En,i=Mo.transition;try{Mo.transition=null,En=1,L6(t,e,n,r)}finally{Mo.transition=i,En=r}return null}function L6(t,e,n,r){do wp();while(Jc!==null);if(fn&6)throw Error(Qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pH(t,s),t===ci&&(Nr=ci=null,gi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||py||(py=!0,Hk(Q1,function(){return wp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mo.transition,Mo.transition=null;var o=En;En=1;var a=fn;fn|=4,JI.current=null,B6(t,n),Lk(n,t),e6(fS),V1=!!dS,fS=dS=null,t.current=n,M6(n),sH(),fn=a,En=o,Mo.transition=s}else t.current=n;if(py&&(py=!1,Jc=t,o_=i),s=t.pendingLanes,s===0&&(eu=null),lH(n.stateNode),Ls(t,Ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(s_)throw s_=!1,t=PS,PS=null,t;return o_&1&&t.tag!==0&&wp(),s=t.pendingLanes,s&1?t===DS?iA++:(iA=0,DS=t):iA=0,Su(),null}function wp(){if(Jc!==null){var t=yF(o_),e=Mo.transition,n=En;try{if(Mo.transition=null,En=16>t?16:t,Jc===null)var r=!1;else{if(t=Jc,Jc=null,o_=0,fn&6)throw Error(Qe(331));var i=fn;for(fn|=4,ot=t.current;ot!==null;){var s=ot,o=s.child;if(ot.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ot=c;ot!==null;){var u=ot;switch(u.tag){case 0:case 11:case 15:nA(8,u,s)}var h=u.child;if(h!==null)h.return=u,ot=h;else for(;ot!==null;){u=ot;var p=u.sibling,g=u.return;if(Rk(u),u===c){ot=null;break}if(p!==null){p.return=g,ot=p;break}ot=g}}}var A=s.alternate;if(A!==null){var v=A.child;if(v!==null){A.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ot=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ot=o;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nA(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ot=w;break e}ot=s.return}}var x=t.current;for(ot=x;ot!==null;){o=ot;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ot=E;else e:for(o=x;ot!==null;){if(a=ot,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:q_(9,a)}}catch(P){gr(a,a.return,P)}if(a===o){ot=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ot=b;break e}ot=a.return}}if(fn=i,Su(),ja&&typeof ja.onPostCommitFiberRoot=="function")try{ja.onPostCommitFiberRoot(H_,t)}catch{}r=!0}return r}finally{En=n,Mo.transition=e}}return!1}function H2(t,e,n){e=Pp(n,e),e=_k(t,e,1),t=Zc(t,e,1),e=cs(),t!==null&&(s0(t,1,e),Ls(t,e))}function gr(t,e,n){if(t.tag===3)H2(t,t,n);else for(;e!==null;){if(e.tag===3){H2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eu===null||!eu.has(r))){t=Pp(n,t),t=xk(e,t,1),e=Zc(e,t,1),t=cs(),e!==null&&(s0(e,1,t),Ls(e,t));break}}e=e.return}}function F6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cs(),t.pingedLanes|=t.suspendedLanes&n,ci===t&&(gi&n)===n&&(Kr===4||Kr===3&&(gi&130023424)===gi&&500>Ir()-$I?Xd(t,0):KI|=n),Ls(t,e)}function Gk(t,e){e===0&&(t.mode&1?(e=iy,iy<<=1,!(iy&130023424)&&(iy=4194304)):e=1);var n=cs();t=Yl(t,e),t!==null&&(s0(t,e,n),Ls(t,n))}function k6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gk(t,n)}function O6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Qe(314))}r!==null&&r.delete(e),Gk(t,n)}var Qk;Qk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ps.current)Ts=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ts=!1,E6(t,e,n);Ts=!!(t.flags&131072)}else Ts=!1,qn&&e.flags&1048576&&WF(e,q1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;I1(t,e),t=e.pendingProps;var i=Bp(e,Hi.current);xp(e,n),i=QI(null,e,r,t,i,n);var s=HI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ds(r)?(s=!0,$1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OI(e),i.updater=$_,e.stateNode=i,i._reactInternals=e,xS(e,r,t,n),e=ES(null,e,r,!0,s,n)):(e.tag=0,qn&&s&&TI(e),is(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(I1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=U6(r),t=$o(r,t),i){case 0:e=CS(null,e,r,t,n);break e;case 1:e=D2(null,e,r,t,n);break e;case 11:e=R2(null,e,r,t,n);break e;case 14:e=P2(null,e,r,$o(r.type,t),n);break e}throw Error(Qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),CS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),D2(t,e,r,i,n);case 3:e:{if(Sk(e),t===null)throw Error(Qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$F(t,e),e_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pp(Error(Qe(423)),e),e=L2(t,e,r,n,i);break e}else if(r!==i){i=Pp(Error(Qe(424)),e),e=L2(t,e,r,n,i);break e}else for(io=Xc(e.stateNode.containerInfo.firstChild),oo=e,qn=!0,Xo=null,n=ZF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mp(),r===i){e=ql(t,e,n);break e}is(t,e,r,n)}e=e.child}return e;case 5:return ek(e),t===null&&vS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hS(r,i)?o=null:s!==null&&hS(r,s)&&(e.flags|=32),Ek(t,e),is(t,e,o,n),e.child;case 6:return t===null&&vS(e),null;case 13:return bk(t,e,n);case 4:return NI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tp(e,null,r,n):is(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),R2(t,e,r,i,n);case 7:return is(t,e,e.pendingProps,n),e.child;case 8:return is(t,e,e.pendingProps.children,n),e.child;case 12:return is(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qn(X1,r._currentValue),r._currentValue=o,s!==null)if(ra(s.value,o)){if(s.children===i.children&&!Ps.current){e=ql(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yS(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Qe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yS(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}is(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xp(e,n),i=Ro(i),r=r(i),e.flags|=1,is(t,e,r,n),e.child;case 14:return r=e.type,i=$o(r,e.pendingProps),i=$o(r.type,i),P2(t,e,r,i,n);case 15:return wk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$o(r,i),I1(t,e),e.tag=1,Ds(r)?(t=!0,$1(e)):t=!1,xp(e,n),qF(e,r,i),xS(e,r,i,n),ES(null,e,r,!0,t,n);case 19:return Ik(t,e,n);case 22:return Ck(t,e,n)}throw Error(Qe(156,e.tag))};function Hk(t,e){return mF(t,e)}function N6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(t,e,n,r){return new N6(t,e,n,r)}function ZI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U6(t){if(typeof t=="function")return ZI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vI)return 11;if(t===yI)return 14}return 2}function nu(t,e){var n=t.alternate;return n===null?(n=Io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function T1(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ZI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yh:return Zd(n.children,i,s,e);case AI:o=8,i|=8;break;case WE:return t=Io(12,n,e,i|2),t.elementType=WE,t.lanes=s,t;case jE:return t=Io(13,n,e,i),t.elementType=jE,t.lanes=s,t;case JE:return t=Io(19,n,e,i),t.elementType=JE,t.lanes=s,t;case XL:return Z_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YL:o=10;break e;case qL:o=9;break e;case vI:o=11;break e;case yI:o=14;break e;case zc:o=16,r=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=Io(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zd(t,e,n,r){return t=Io(7,t,r,e),t.lanes=n,t}function Z_(t,e,n,r){return t=Io(22,t,r,e),t.elementType=XL,t.lanes=n,t.stateNode={isHidden:!1},t}function uC(t,e,n){return t=Io(6,t,null,e),t.lanes=n,t}function dC(t,e,n){return e=Io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ww(0),this.expirationTimes=Ww(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ww(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eB(t,e,n,r,i,s,o,a,l){return t=new z6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Io(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},OI(s),t}function G6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$h,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vk(t){if(!t)return hu;t=t._reactInternals;e:{if(wf(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ds(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var n=t.type;if(Ds(n))return HF(t,n,e)}return e}function Wk(t,e,n,r,i,s,o,a,l){return t=eB(n,r,!0,t,i,s,o,a,l),t.context=Vk(null),n=t.current,r=cs(),i=tu(n),s=Hl(r,i),s.callback=e??null,Zc(n,s,i),t.current.lanes=i,s0(t,i,r),Ls(t,r),t}function ex(t,e,n,r){var i=e.current,s=cs(),o=tu(i);return n=Vk(n),e.context===null?e.context=n:e.pendingContext=n,e=Hl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zc(i,e,o),t!==null&&(ta(t,i,o,s),E1(t,i,o)),o}function l_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tB(t,e){V2(t,e),(t=t.alternate)&&V2(t,e)}function Q6(){return null}var jk=typeof reportError=="function"?reportError:function(t){console.error(t)};function nB(t){this._internalRoot=t}tx.prototype.render=nB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));ex(t,e,null,null)};tx.prototype.unmount=nB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;df(function(){ex(null,t,null,null)}),e[$l]=null}};function tx(t){this._internalRoot=t}tx.prototype.unstable_scheduleHydration=function(t){if(t){var e=wF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vc.length&&e!==0&&e<Vc[n].priority;n++);Vc.splice(n,0,t),n===0&&EF(t)}};function rB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W2(){}function H6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=l_(o);s.call(c)}}var o=Wk(e,r,t,0,null,!1,!1,"",W2);return t._reactRootContainer=o,t[$l]=o.current,RA(t.nodeType===8?t.parentNode:t),df(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=l_(l);a.call(c)}}var l=eB(t,0,!1,null,null,!1,!1,"",W2);return t._reactRootContainer=l,t[$l]=l.current,RA(t.nodeType===8?t.parentNode:t),df(function(){ex(e,l,n,r)}),l}function rx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=l_(o);a.call(l)}}ex(e,o,t,i)}else o=H6(n,e,t,i,r);return l_(o)}_F=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wg(e.pendingLanes);n!==0&&(wI(e,n|1),Ls(e,Ir()),!(fn&6)&&(Dp=Ir()+500,Su()))}break;case 13:df(function(){var r=Yl(t,1);if(r!==null){var i=cs();ta(r,t,1,i)}}),tB(t,1)}};CI=function(t){if(t.tag===13){var e=Yl(t,134217728);if(e!==null){var n=cs();ta(e,t,134217728,n)}tB(t,134217728)}};xF=function(t){if(t.tag===13){var e=tu(t),n=Yl(t,e);if(n!==null){var r=cs();ta(n,t,e,r)}tB(t,e)}};wF=function(){return En};CF=function(t,e){var n=En;try{return En=t,e()}finally{En=n}};rS=function(t,e,n){switch(e){case"input":if(YE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=J_(r);if(!i)throw Error(Qe(90));eF(r),YE(r,i)}}}break;case"textarea":nF(t,n);break;case"select":e=n.value,e!=null&&Ap(t,!!n.multiple,e,!1)}};cF=YI;uF=df;var V6={usingClientEntryPoint:!1,Events:[a0,ep,J_,aF,lF,YI]},Ag={findFiberByHostInstance:Gd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},W6={bundleType:Ag.bundleType,version:Ag.version,rendererPackageName:Ag.rendererPackageName,rendererConfig:Ag.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hF(t),t===null?null:t.stateNode},findFiberByHostInstance:Ag.findFiberByHostInstance||Q6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var my=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!my.isDisabled&&my.supportsFiber)try{H_=my.inject(W6),ja=my}catch{}}uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V6;uo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rB(e))throw Error(Qe(200));return G6(t,e,null,n)};uo.createRoot=function(t,e){if(!rB(t))throw Error(Qe(299));var n=!1,r="",i=jk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=eB(t,1,!1,null,null,n,!1,r,i),t[$l]=e.current,RA(t.nodeType===8?t.parentNode:t),new nB(e)};uo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=hF(e),t=t===null?null:t.stateNode,t};uo.flushSync=function(t){return df(t)};uo.hydrate=function(t,e,n){if(!nx(e))throw Error(Qe(200));return rx(null,t,e,!0,n)};uo.hydrateRoot=function(t,e,n){if(!rB(t))throw Error(Qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wk(e,null,t,1,n??null,i,!1,s,o),t[$l]=e.current,RA(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tx(e)};uo.render=function(t,e,n){if(!nx(e))throw Error(Qe(200));return rx(null,t,e,!1,n)};uo.unmountComponentAtNode=function(t){if(!nx(t))throw Error(Qe(40));return t._reactRootContainer?(df(function(){rx(null,null,t,!1,function(){t._reactRootContainer=null,t[$l]=null})}),!0):!1};uo.unstable_batchedUpdates=YI;uo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nx(n))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return rx(t,e,n,!1,r)};uo.version="18.2.0-next-9e3b772b8-20220608";function Jk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jk)}catch(t){console.error(t)}}Jk(),WL.exports=uo;var Kk=WL.exports;const $k=_f(Kk);var iB,j2=Kk;iB=j2.createRoot,j2.hydrateRoot;var Yk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J2=X.createContext&&X.createContext(Yk),ru=globalThis&&globalThis.__assign||function(){return ru=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ru.apply(this,arguments)},j6=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qk(t){return t&&t.map(function(e,n){return X.createElement(e.tag,ru({key:n},e.attr),qk(e.child))})}function ks(t){return function(e){return X.createElement(J6,ru({attr:ru({},t.attr)},e),qk(t.child))}}function J6(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=j6(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),X.createElement("svg",ru({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ru(ru({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&X.createElement("title",null,s),t.children)};return J2!==void 0?X.createElement(J2.Consumer,null,function(n){return e(n)}):e(Yk)}function K6(t){return ks({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"}}]})(t)}const K2=t=>{let e;const n=new Set,r=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const h=e;e=c??typeof u!="object"?u:Object.assign({},e,u),n.forEach(p=>p(e,h))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,a),a},$6=t=>t?K2(t):K2;var Xk={exports:{}},Zk={},eO={exports:{}},tO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=M;function Y6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var q6=typeof Object.is=="function"?Object.is:Y6,X6=Lp.useState,Z6=Lp.useEffect,e8=Lp.useLayoutEffect,t8=Lp.useDebugValue;function n8(t,e){var n=e(),r=X6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return e8(function(){i.value=n,i.getSnapshot=e,fC(i)&&s({inst:i})},[t,n,e]),Z6(function(){return fC(i)&&s({inst:i}),t(function(){fC(i)&&s({inst:i})})},[t]),t8(n),n}function fC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!q6(t,n)}catch{return!0}}function r8(t,e){return e()}var i8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r8:n8;tO.useSyncExternalStore=Lp.useSyncExternalStore!==void 0?Lp.useSyncExternalStore:i8;eO.exports=tO;var s8=eO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=M,o8=s8;function a8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var l8=typeof Object.is=="function"?Object.is:a8,c8=o8.useSyncExternalStore,u8=ix.useRef,d8=ix.useEffect,f8=ix.useMemo,h8=ix.useDebugValue;Zk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=u8(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=f8(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),i!==void 0&&o.hasValue){var A=o.value;if(i(A,g))return h=A}return h=g}if(A=h,l8(u,g))return A;var v=r(g);return i!==void 0&&i(A,v)?A:(u=g,h=v)}var c=!1,u,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=c8(t,s[0],s[1]);return d8(function(){o.hasValue=!0,o.value=a},[a]),h8(a),a};Xk.exports=Zk;var p8=Xk.exports;const m8=_f(p8),{useSyncExternalStoreWithSelector:g8}=m8;function A8(t,e=t.getState,n){const r=g8(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return M.useDebugValue(r),r}const $2=t=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?$6(t):t,n=(r,i)=>A8(e,r,i);return Object.assign(n,e),n},v8=t=>t?$2(t):$2,y8=t=>({soundLevel:1,updateSoundLevel:e=>t(()=>({soundLevel:e})),soundControlIsVisible:!1,toggleSoundControlVisibility:()=>t(e=>({soundControlIsVisible:!e.soundControlIsVisible})),cursorType:"pointer",updateCursorType:e=>t(()=>({cursorType:e})),activeNav:"about",updateActiveNav:e=>t(()=>({activeNav:e}))}),bu=v8(y8);function _8({setReady:t}){return M.useEffect(()=>()=>void t(!0),[]),null}function x8({children:t}){const e=bu(o=>o.updateCursorType),[n,r]=M.useState(!1),[i,s]=M.useState(!1);return Tt(ec,{children:[G(M.Suspense,{fallback:G(_8,{setReady:s}),children:M.cloneElement(t,{ready:n&&i})}),G("div",{className:`fullscreen bg ${i?"ready":"notready"} ${n&&"clicked"}`,children:G("div",{className:"loader-container",onClick:()=>r(!0),children:i?G("button",{"aria-label":"continue",className:"play-btn",onMouseEnter:()=>e("hover"),onMouseLeave:()=>e("pointer"),children:G(K6,{})}):G("img",{className:"fox-loader",src:"./image/loading.gif"})})})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const nc="150",w8={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},C8={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},nO=0,kS=1,rO=2,E8=3,iO=0,sx=1,sA=2,Vd=3,ia=0,li=1,as=2,S8=2,Ai=0,ef=1,OS=2,NS=3,US=4,sO=5,Ud=100,oO=101,aO=102,zS=103,GS=104,lO=200,cO=201,uO=202,dO=203,sB=204,oB=205,fO=206,hO=207,pO=208,mO=209,gO=210,AO=0,vO=1,yO=2,c_=3,_O=4,xO=5,wO=6,CO=7,c0=0,EO=1,SO=2,na=0,bO=1,IO=2,BO=3,aB=4,MO=5,ox=300,pu=301,mu=302,zA=303,GA=304,Kp=306,gu=1e3,Ur=1001,Fp=1002,vn=1003,QA=1004,b8=1004,Cp=1005,I8=1005,sn=1006,ax=1007,B8=1007,Do=1008,M8=1008,Gn=1009,TO=1010,RO=1011,lB=1012,PO=1013,Ul=1014,Ar=1015,To=1016,DO=1017,LO=1018,iu=1020,FO=1021,yr=1023,kO=1024,OO=1025,su=1026,Au=1027,ap=1028,NO=1029,lp=1030,UO=1031,zO=1033,oA=33776,R1=33777,P1=33778,aA=33779,u_=35840,QS=35841,d_=35842,HS=35843,cB=36196,f_=37492,h_=37496,p_=37808,VS=37809,WS=37810,jS=37811,JS=37812,KS=37813,$S=37814,YS=37815,qS=37816,XS=37817,ZS=37818,eb=37819,tb=37820,nb=37821,lA=36492,GO=36283,rb=36284,ib=36285,sb=36286,QO=2200,HO=2201,VO=2202,kp=2300,ff=2301,D1=2302,Wd=2400,jd=2401,HA=2402,lx=2500,uB=2501,WO=0,dB=1,m_=2,ds=3e3,St=3001,Iu=3200,jO=3201,Bu=0,JO=1,T8="",qo="srgb",Op="srgb-linear",fB="display-p3",R8=0,L1=7680,P8=7681,D8=7682,L8=7683,F8=34055,k8=34056,O8=5386,N8=512,U8=513,z8=514,G8=515,Q8=516,H8=517,V8=518,KO=519,VA=35044,ob=35048,W8=35040,j8=35045,J8=35049,K8=35041,$8=35046,Y8=35050,q8=35042,X8="100",ab="300 es",g_=1035;class Lo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ki=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Y2=1234567;const tf=Math.PI/180,WA=180/Math.PI;function ao(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ki[t&255]+ki[t>>8&255]+ki[t>>16&255]+ki[t>>24&255]+"-"+ki[e&255]+ki[e>>8&255]+"-"+ki[e>>16&15|64]+ki[e>>24&255]+"-"+ki[n&63|128]+ki[n>>8&255]+"-"+ki[n>>16&255]+ki[n>>24&255]+ki[r&255]+ki[r>>8&255]+ki[r>>16&255]+ki[r>>24&255]).toLowerCase()}function Br(t,e,n){return Math.max(e,Math.min(n,t))}function hB(t,e){return(t%e+e)%e}function Z8(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function eV(t,e,n){return t!==e?(n-t)/(e-t):0}function cA(t,e,n){return(1-n)*t+n*e}function tV(t,e,n,r){return cA(t,e,1-Math.exp(-n*r))}function nV(t,e=1){return e-Math.abs(hB(t,e*2)-e)}function rV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function iV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function sV(t,e){return t+Math.floor(Math.random()*(e-t+1))}function oV(t,e){return t+Math.random()*(e-t)}function aV(t){return t*(.5-Math.random())}function lV(t){t!==void 0&&(Y2=t);let e=Y2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function cV(t){return t*tf}function uV(t){return t*WA}function lb(t){return(t&t-1)===0&&t!==0}function $O(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function YO(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function dV(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),g=s((r-e)/2),A=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*A,l*g,a*c);break;case"YXY":t.set(l*g,a*u,l*A,a*c);break;case"ZYZ":t.set(l*A,l*g,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function zl(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const os={DEG2RAD:tf,RAD2DEG:WA,generateUUID:ao,clamp:Br,euclideanModulo:hB,mapLinear:Z8,inverseLerp:eV,lerp:cA,damp:tV,pingpong:nV,smoothstep:rV,smootherstep:iV,randInt:sV,randFloat:oV,randFloatSpread:aV,seededRandom:lV,degToRad:cV,radToDeg:uV,isPowerOfTwo:lb,ceilPowerOfTwo:$O,floorPowerOfTwo:YO,setQuaternionFromProperEuler:dV,normalize:Pn,denormalize:zl};class Ee{constructor(e=0,n=0){Ee.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mi{constructor(){mi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],p=r[2],g=r[5],A=r[8],v=i[0],y=i[3],w=i[6],x=i[1],E=i[4],b=i[7],P=i[2],R=i[5],F=i[8];return s[0]=o*v+a*x+l*P,s[3]=o*y+a*E+l*R,s[6]=o*w+a*b+l*F,s[1]=c*v+u*x+h*P,s[4]=c*y+u*E+h*R,s[7]=c*w+u*b+h*F,s[2]=p*v+g*x+A*P,s[5]=p*y+g*E+A*R,s[8]=p*w+g*b+A*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,p=a*l-u*s,g=c*s-o*l,A=n*h+r*p+i*g;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/A;return e[0]=h*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=p*v,e[4]=(u*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=g*v,e[7]=(r*l-c*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(hC.makeScale(e,n)),this}rotate(e){return this.premultiply(hC.makeRotation(-e)),this}translate(e,n){return this.premultiply(hC.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const hC=new mi;function qO(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const fV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function cp(t,e){return new fV[t](e)}function jA(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}class Yr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const p=s[o+0],g=s[o+1],A=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=g,e[n+2]=A,e[n+3]=v;return}if(h!==v||l!==p||c!==g||u!==A){let y=1-a;const w=l*p+c*g+u*A+h*v,x=w>=0?1:-1,E=1-w*w;if(E>Number.EPSILON){const P=Math.sqrt(E),R=Math.atan2(P,w*x);y=Math.sin(y*R)/P,a=Math.sin(a*R)/P}const b=a*x;if(l=l*y+p*b,c=c*y+g*b,u=u*y+A*b,h=h*y+v*b,y===1-a){const P=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=P,c*=P,u*=P,h*=P}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],p=s[o+1],g=s[o+2],A=s[o+3];return e[n]=a*A+u*h+l*g-c*p,e[n+1]=l*A+u*p+c*h-a*g,e[n+2]=c*A+u*g+a*p-l*h,e[n+3]=u*A-a*h-l*p-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),p=l(r/2),g=l(i/2),A=l(s/2);switch(o){case"XYZ":this._x=p*u*h+c*g*A,this._y=c*g*h-p*u*A,this._z=c*u*A+p*g*h,this._w=c*u*h-p*g*A;break;case"YXZ":this._x=p*u*h+c*g*A,this._y=c*g*h-p*u*A,this._z=c*u*A-p*g*h,this._w=c*u*h+p*g*A;break;case"ZXY":this._x=p*u*h-c*g*A,this._y=c*g*h+p*u*A,this._z=c*u*A+p*g*h,this._w=c*u*h-p*g*A;break;case"ZYX":this._x=p*u*h-c*g*A,this._y=c*g*h+p*u*A,this._z=c*u*A-p*g*h,this._w=c*u*h+p*g*A;break;case"YZX":this._x=p*u*h+c*g*A,this._y=c*g*h+p*u*A,this._z=c*u*A-p*g*h,this._w=c*u*h-p*g*A;break;case"XZY":this._x=p*u*h-c*g*A,this._y=c*g*h-p*u*A,this._z=c*u*A+p*g*h,this._w=c*u*h+p*g*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],p=r+a+h;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(u-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>h){const g=2*Math.sqrt(1+r-a-h);this._w=(u-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>h){const g=2*Math.sqrt(1+a-r-h);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+u)/g}else{const g=2*Math.sqrt(1+h-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+u)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Br(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,n=0,r=0){H.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(q2.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(q2.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,h=l*i+s*r-o*n,p=-s*n-o*r-a*i;return this.x=c*l+p*-s+u*-a-h*-o,this.y=u*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return pC.copy(this).projectOnVector(e),this.sub(pC)}reflect(e){return this.sub(pC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const pC=new H,q2=new Yr;function Ep(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function mC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const hV=new mi().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),pV=new mi().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Kc=new H;function mV(t){return t.convertSRGBToLinear(),Kc.set(t.r,t.g,t.b).applyMatrix3(pV),t.setRGB(Kc.x,Kc.y,Kc.z)}function gV(t){return Kc.set(t.r,t.g,t.b).applyMatrix3(hV),t.setRGB(Kc.x,Kc.y,Kc.z).convertLinearToSRGB()}const AV={[Op]:t=>t,[qo]:t=>t.convertSRGBToLinear(),[fB]:mV},vV={[Op]:t=>t,[qo]:t=>t.convertLinearToSRGB(),[fB]:gV},Ni={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Op},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=AV[e],i=vV[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let _h;class pB{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{_h===void 0&&(_h=jA("canvas")),_h.width=e.width,_h.height=e.height;const r=_h.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=_h}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=jA("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ep(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ep(n[r]/255)*255):n[r]=Ep(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Jd{constructor(e=null){this.isSource=!0,this.uuid=ao(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(gC(i[o].image)):s.push(gC(i[o]))}else s=gC(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function gC(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?pB.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yV=0;class Tn extends Lo{constructor(e=Tn.DEFAULT_IMAGE,n=Tn.DEFAULT_MAPPING,r=Ur,i=Ur,s=sn,o=Do,a=yr,l=Gn,c=Tn.DEFAULT_ANISOTROPY,u=ds){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yV++}),this.uuid=ao(),this.name="",this.source=new Jd(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ee(0,0),this.repeat=new Ee(1,1),this.center=new Ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ox)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case gu:e.x=e.x-Math.floor(e.x);break;case Ur:e.x=e.x<0?0:1;break;case Fp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case gu:e.y=e.y-Math.floor(e.y);break;case Ur:e.y=e.y<0?0:1;break;case Fp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Tn.DEFAULT_IMAGE=null;Tn.DEFAULT_MAPPING=ox;Tn.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,n=0,r=0,i=1){dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],g=l[5],A=l[9],v=l[2],y=l[6],w=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-v)<.01&&Math.abs(A-y)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+v)<.1&&Math.abs(A+y)<.1&&Math.abs(c+g+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(c+1)/2,b=(g+1)/2,P=(w+1)/2,R=(u+p)/4,F=(h+v)/4,T=(A+y)/4;return E>b&&E>P?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=R/r,s=F/r):b>P?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=R/i,s=T/i):P<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(P),r=F/s,i=T/s),this.set(r,i,s,n),this}let x=Math.sqrt((y-A)*(y-A)+(h-v)*(h-v)+(p-u)*(p-u));return Math.abs(x)<.001&&(x=1),this.x=(y-A)/x,this.y=(h-v)/x,this.z=(p-u)/x,this.w=Math.acos((c+g+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Zn extends Lo{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new dn(0,0,e,n),this.scissorTest=!1,this.viewport=new dn(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Tn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:sn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Jd(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cx extends Tn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=vn,this.minFilter=vn,this.wrapR=Ur,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _V extends Zn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new cx(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class ou extends Tn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=vn,this.minFilter=vn,this.wrapR=Ur,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xV extends Zn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new ou(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class wV extends Zn{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Mu{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],h=e[l+1],p=e[l+2];u<n&&(n=u),h<r&&(r=h),p<i&&(i=p),u>s&&(s=u),h>o&&(o=h),p>a&&(a=p)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),h=e.getY(l),p=e.getZ(l);u<n&&(n=u),h<r&&(r=h),p<i&&(i=p),u>s&&(s=u),h>o&&(o=h),p>a&&(a=p)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Cd.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Cd.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Cd)}else r.boundingBox===null&&r.computeBoundingBox(),AC.copy(r.boundingBox),AC.applyMatrix4(e.matrixWorld),this.union(AC);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Cd),Cd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(vg),gy.subVectors(this.max,vg),xh.subVectors(e.a,vg),wh.subVectors(e.b,vg),Ch.subVectors(e.c,vg),Mc.subVectors(wh,xh),Tc.subVectors(Ch,wh),Ed.subVectors(xh,Ch);let n=[0,-Mc.z,Mc.y,0,-Tc.z,Tc.y,0,-Ed.z,Ed.y,Mc.z,0,-Mc.x,Tc.z,0,-Tc.x,Ed.z,0,-Ed.x,-Mc.y,Mc.x,0,-Tc.y,Tc.x,0,-Ed.y,Ed.x,0];return!vC(n,xh,wh,Ch,gy)||(n=[1,0,0,0,1,0,0,0,1],!vC(n,xh,wh,Ch,gy))?!1:(Ay.crossVectors(Mc,Tc),n=[Ay.x,Ay.y,Ay.z],vC(n,xh,wh,Ch,gy))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cd).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cd).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xl=[new H,new H,new H,new H,new H,new H,new H,new H],Cd=new H,AC=new Mu,xh=new H,wh=new H,Ch=new H,Mc=new H,Tc=new H,Ed=new H,vg=new H,gy=new H,Ay=new H,Sd=new H;function vC(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Sd.fromArray(t,s);const a=i.x*Math.abs(Sd.x)+i.y*Math.abs(Sd.y)+i.z*Math.abs(Sd.z),l=e.dot(Sd),c=n.dot(Sd),u=r.dot(Sd);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const CV=new Mu,yg=new H,yC=new H;class Tu{constructor(e=new H,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):CV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;yg.subVectors(e,this.center);const n=yg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(yg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(yC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(yg.copy(e.center).add(yC)),this.expandByPoint(yg.copy(e.center).sub(yC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wl=new H,_C=new H,vy=new H,Rc=new H,xC=new H,yy=new H,wC=new H;class u0{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=wl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(wl.copy(this.origin).addScaledVector(this.direction,n),wl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){_C.copy(e).add(n).multiplyScalar(.5),vy.copy(n).sub(e).normalize(),Rc.copy(this.origin).sub(_C);const s=e.distanceTo(n)*.5,o=-this.direction.dot(vy),a=Rc.dot(this.direction),l=-Rc.dot(vy),c=Rc.lengthSq(),u=Math.abs(1-o*o);let h,p,g,A;if(u>0)if(h=o*l-a,p=o*a-l,A=s*u,h>=0)if(p>=-A)if(p<=A){const v=1/u;h*=v,p*=v,g=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+c;else p<=-A?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),g=-h*h+p*(p+2*l)+c):p<=A?(h=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),g=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(_C).addScaledVector(vy,p),g}intersectSphere(e,n){wl.subVectors(e.center,this.origin);const r=wl.dot(this.direction),i=wl.dot(wl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,wl)!==null}intersectTriangle(e,n,r,i,s){xC.subVectors(n,e),yy.subVectors(r,e),wC.crossVectors(xC,yy);let o=this.direction.dot(wC),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Rc.subVectors(this.origin,e);const l=a*this.direction.dot(yy.crossVectors(Rc,yy));if(l<0)return null;const c=a*this.direction.dot(xC.cross(Rc));if(c<0||l+c>o)return null;const u=-a*Rc.dot(wC);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class It{constructor(){It.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,c,u,h,p,g,A,v,y){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=c,w[6]=u,w[10]=h,w[14]=p,w[3]=g,w[7]=A,w[11]=v,w[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new It().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Eh.setFromMatrixColumn(e,0).length(),s=1/Eh.setFromMatrixColumn(e,1).length(),o=1/Eh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*u,g=o*h,A=a*u,v=a*h;n[0]=l*u,n[4]=-l*h,n[8]=c,n[1]=g+A*c,n[5]=p-v*c,n[9]=-a*l,n[2]=v-p*c,n[6]=A+g*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,g=l*h,A=c*u,v=c*h;n[0]=p+v*a,n[4]=A*a-g,n[8]=o*c,n[1]=o*h,n[5]=o*u,n[9]=-a,n[2]=g*a-A,n[6]=v+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,g=l*h,A=c*u,v=c*h;n[0]=p-v*a,n[4]=-o*h,n[8]=A+g*a,n[1]=g+A*a,n[5]=o*u,n[9]=v-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,g=o*h,A=a*u,v=a*h;n[0]=l*u,n[4]=A*c-g,n[8]=p*c+v,n[1]=l*h,n[5]=v*c+p,n[9]=g*c-A,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*c,A=a*l,v=a*c;n[0]=l*u,n[4]=v-p*h,n[8]=A*h+g,n[1]=h,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=g*h+A,n[10]=p-v*h}else if(e.order==="XZY"){const p=o*l,g=o*c,A=a*l,v=a*c;n[0]=l*u,n[4]=-h,n[8]=c*u,n[1]=p*h+v,n[5]=o*u,n[9]=g*h-A,n[2]=A*h-g,n[6]=a*u,n[10]=v*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(EV,e,SV)}lookAt(e,n,r){const i=this.elements;return to.subVectors(e,n),to.lengthSq()===0&&(to.z=1),to.normalize(),Pc.crossVectors(r,to),Pc.lengthSq()===0&&(Math.abs(r.z)===1?to.x+=1e-4:to.z+=1e-4,to.normalize(),Pc.crossVectors(r,to)),Pc.normalize(),_y.crossVectors(to,Pc),i[0]=Pc.x,i[4]=_y.x,i[8]=to.x,i[1]=Pc.y,i[5]=_y.y,i[9]=to.y,i[2]=Pc.z,i[6]=_y.z,i[10]=to.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],p=r[9],g=r[13],A=r[2],v=r[6],y=r[10],w=r[14],x=r[3],E=r[7],b=r[11],P=r[15],R=i[0],F=i[4],T=i[8],O=i[12],U=i[1],W=i[5],ee=i[9],Z=i[13],Y=i[2],q=i[6],de=i[10],fe=i[14],j=i[3],ne=i[7],re=i[11],pe=i[15];return s[0]=o*R+a*U+l*Y+c*j,s[4]=o*F+a*W+l*q+c*ne,s[8]=o*T+a*ee+l*de+c*re,s[12]=o*O+a*Z+l*fe+c*pe,s[1]=u*R+h*U+p*Y+g*j,s[5]=u*F+h*W+p*q+g*ne,s[9]=u*T+h*ee+p*de+g*re,s[13]=u*O+h*Z+p*fe+g*pe,s[2]=A*R+v*U+y*Y+w*j,s[6]=A*F+v*W+y*q+w*ne,s[10]=A*T+v*ee+y*de+w*re,s[14]=A*O+v*Z+y*fe+w*pe,s[3]=x*R+E*U+b*Y+P*j,s[7]=x*F+E*W+b*q+P*ne,s[11]=x*T+E*ee+b*de+P*re,s[15]=x*O+E*Z+b*fe+P*pe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],g=e[14],A=e[3],v=e[7],y=e[11],w=e[15];return A*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*g-r*l*g)+v*(+n*l*g-n*c*p+s*o*p-i*o*g+i*c*u-s*l*u)+y*(+n*c*h-n*a*g-s*o*h+r*o*g+s*a*u-r*c*u)+w*(-i*a*u-n*l*h+n*a*p+i*o*h-r*o*p+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],g=e[11],A=e[12],v=e[13],y=e[14],w=e[15],x=h*y*c-v*p*c+v*l*g-a*y*g-h*l*w+a*p*w,E=A*p*c-u*y*c-A*l*g+o*y*g+u*l*w-o*p*w,b=u*v*c-A*h*c+A*a*g-o*v*g-u*a*w+o*h*w,P=A*h*l-u*v*l-A*a*p+o*v*p+u*a*y-o*h*y,R=n*x+r*E+i*b+s*P;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/R;return e[0]=x*F,e[1]=(v*p*s-h*y*s-v*i*g+r*y*g+h*i*w-r*p*w)*F,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*w+r*l*w)*F,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*g-r*l*g)*F,e[4]=E*F,e[5]=(u*y*s-A*p*s+A*i*g-n*y*g-u*i*w+n*p*w)*F,e[6]=(A*l*s-o*y*s-A*i*c+n*y*c+o*i*w-n*l*w)*F,e[7]=(o*p*s-u*l*s+u*i*c-n*p*c-o*i*g+n*l*g)*F,e[8]=b*F,e[9]=(A*h*s-u*v*s-A*r*g+n*v*g+u*r*w-n*h*w)*F,e[10]=(o*v*s-A*a*s+A*r*c-n*v*c-o*r*w+n*a*w)*F,e[11]=(u*a*s-o*h*s-u*r*c+n*h*c+o*r*g-n*a*g)*F,e[12]=P*F,e[13]=(u*v*i-A*h*i+A*r*p-n*v*p-u*r*y+n*h*y)*F,e[14]=(A*a*i-o*v*i-A*r*l+n*v*l+o*r*y-n*a*y)*F,e[15]=(o*h*i-u*a*i+u*r*l-n*h*l-o*r*p+n*a*p)*F,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,h=a+a,p=s*c,g=s*u,A=s*h,v=o*u,y=o*h,w=a*h,x=l*c,E=l*u,b=l*h,P=r.x,R=r.y,F=r.z;return i[0]=(1-(v+w))*P,i[1]=(g+b)*P,i[2]=(A-E)*P,i[3]=0,i[4]=(g-b)*R,i[5]=(1-(p+w))*R,i[6]=(y+x)*R,i[7]=0,i[8]=(A+E)*F,i[9]=(y-x)*F,i[10]=(1-(p+v))*F,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Eh.set(i[0],i[1],i[2]).length();const o=Eh.set(i[4],i[5],i[6]).length(),a=Eh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],jo.copy(this);const c=1/s,u=1/o,h=1/a;return jo.elements[0]*=c,jo.elements[1]*=c,jo.elements[2]*=c,jo.elements[4]*=u,jo.elements[5]*=u,jo.elements[6]*=u,jo.elements[8]*=h,jo.elements[9]*=h,jo.elements[10]*=h,n.setFromRotationMatrix(jo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),c=2*s/(r-i),u=(n+e)/(n-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),c=1/(r-i),u=1/(o-s),h=(n+e)*l,p=(r+i)*c,g=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Eh=new H,jo=new It,EV=new H(0,0,0),SV=new H(1,1,1),Pc=new H,_y=new H,to=new H,X2=new It,Z2=new Yr;class d0{constructor(e=0,n=0,r=0,i=d0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],p=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Br(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Br(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Br(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Br(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Br(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Br(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return X2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X2,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Z2.setFromEuler(this),this.setFromQuaternion(Z2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}d0.DEFAULT_ORDER="XYZ";class nf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bV=0;const eR=new H,Sh=new Yr,Cl=new It,xy=new H,_g=new H,IV=new H,BV=new Yr,tR=new H(1,0,0),nR=new H(0,1,0),rR=new H(0,0,1),MV={type:"added"},iR={type:"removed"};class qt extends Lo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bV++}),this.uuid=ao(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qt.DEFAULT_UP.clone();const e=new H,n=new d0,r=new Yr,i=new H(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new It},normalMatrix:{value:new mi}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=qt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new nf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Sh.setFromAxisAngle(e,n),this.quaternion.multiply(Sh),this}rotateOnWorldAxis(e,n){return Sh.setFromAxisAngle(e,n),this.quaternion.premultiply(Sh),this}rotateX(e){return this.rotateOnAxis(tR,e)}rotateY(e){return this.rotateOnAxis(nR,e)}rotateZ(e){return this.rotateOnAxis(rR,e)}translateOnAxis(e,n){return eR.copy(e).applyQuaternion(this.quaternion),this.position.add(eR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(tR,e)}translateY(e){return this.translateOnAxis(nR,e)}translateZ(e){return this.translateOnAxis(rR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Cl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?xy.copy(e):xy.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),_g.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Cl.lookAt(_g,xy,this.up):Cl.lookAt(xy,_g,this.up),this.quaternion.setFromRotationMatrix(Cl),i&&(Cl.extractRotation(i.matrixWorld),Sh.setFromRotationMatrix(Cl),this.quaternion.premultiply(Sh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(MV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(iR)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(iR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Cl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Cl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Cl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_g,e,IV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_g,BV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),p=o(e.skeletons),g=o(e.animations),A=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),A.length>0&&(r.nodes=A)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}qt.DEFAULT_UP=new H(0,1,0);qt.DEFAULT_MATRIX_AUTO_UPDATE=!0;qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jo=new H,El=new H,CC=new H,Sl=new H,bh=new H,Ih=new H,sR=new H,EC=new H,SC=new H,bC=new H;class bo{constructor(e=new H,n=new H,r=new H){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Jo.subVectors(e,n),i.cross(Jo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Jo.subVectors(i,n),El.subVectors(r,n),CC.subVectors(e,n);const o=Jo.dot(Jo),a=Jo.dot(El),l=Jo.dot(CC),c=El.dot(El),u=El.dot(CC),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,g=(c*l-a*u)*p,A=(o*u-a*l)*p;return s.set(1-g-A,A,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Sl),Sl.x>=0&&Sl.y>=0&&Sl.x+Sl.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Sl),l.set(0,0),l.addScaledVector(s,Sl.x),l.addScaledVector(o,Sl.y),l.addScaledVector(a,Sl.z),l}static isFrontFacing(e,n,r,i){return Jo.subVectors(r,n),El.subVectors(e,n),Jo.cross(El).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jo.subVectors(this.c,this.b),El.subVectors(this.a,this.b),Jo.cross(El).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return bo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return bo.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return bo.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return bo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return bo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;bh.subVectors(i,r),Ih.subVectors(s,r),EC.subVectors(e,r);const l=bh.dot(EC),c=Ih.dot(EC);if(l<=0&&c<=0)return n.copy(r);SC.subVectors(e,i);const u=bh.dot(SC),h=Ih.dot(SC);if(u>=0&&h<=u)return n.copy(i);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(bh,o);bC.subVectors(e,s);const g=bh.dot(bC),A=Ih.dot(bC);if(A>=0&&g<=A)return n.copy(s);const v=g*c-l*A;if(v<=0&&c>=0&&A<=0)return a=c/(c-A),n.copy(r).addScaledVector(Ih,a);const y=u*A-g*h;if(y<=0&&h-u>=0&&g-A>=0)return sR.subVectors(s,i),a=(h-u)/(h-u+(g-A)),n.copy(i).addScaledVector(sR,a);const w=1/(y+v+p);return o=v*w,a=p*w,n.copy(r).addScaledVector(bh,o).addScaledVector(Ih,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let TV=0;class _r extends Lo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:TV++}),this.uuid=ao(),this.name="",this.type="Material",this.blending=ef,this.side=ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=sB,this.blendDst=oB,this.blendEquation=Ud,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=c_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=KO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=L1,this.stencilZFail=L1,this.stencilZPass=L1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ef&&(r.blending=this.blending),this.side!==ia&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const XO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ko={h:0,s:0,l:0},wy={h:0,s:0,l:0};function IC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Ve=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=qo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ni.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Ni.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ni.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Ni.workingColorSpace){if(e=hB(e,1),n=Br(n,0,1),r=Br(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=IC(o,s,e+1/3),this.g=IC(o,s,e),this.b=IC(o,s,e-1/3)}return Ni.toWorkingColorSpace(this,i),this}setStyle(e,n=qo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ni.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ni.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ni.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ni.toWorkingColorSpace(this,n),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=qo){const r=XO[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ep(e.r),this.g=Ep(e.g),this.b=Ep(e.b),this}copyLinearToSRGB(e){return this.r=mC(e.r),this.g=mC(e.g),this.b=mC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qo){return Ni.fromWorkingColorSpace(Oi.copy(this),e),Br(Oi.r*255,0,255)<<16^Br(Oi.g*255,0,255)<<8^Br(Oi.b*255,0,255)<<0}getHexString(e=qo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ni.workingColorSpace){Ni.fromWorkingColorSpace(Oi.copy(this),n);const r=Oi.r,i=Oi.g,s=Oi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Ni.workingColorSpace){return Ni.fromWorkingColorSpace(Oi.copy(this),n),e.r=Oi.r,e.g=Oi.g,e.b=Oi.b,e}getStyle(e=qo){Ni.fromWorkingColorSpace(Oi.copy(this),e);const n=Oi.r,r=Oi.g,i=Oi.b;return e!==qo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${n*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,n,r){return this.getHSL(Ko),Ko.h+=e,Ko.s+=n,Ko.l+=r,this.setHSL(Ko.h,Ko.s,Ko.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ko),e.getHSL(wy);const r=cA(Ko.h,wy.h,n),i=cA(Ko.s,wy.s,n),s=cA(Ko.l,wy.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Oi=new Ve;Ve.NAMES=XO;class so extends _r{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Fr=new H,Cy=new Ee;class Ft{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=VA,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Cy.fromBufferAttribute(this,n),Cy.applyMatrix3(e),this.setXY(n,Cy.x,Cy.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.applyMatrix3(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.applyMatrix4(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.applyNormalMatrix(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.transformDirection(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=zl(n,this.array)),n}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=zl(n,this.array)),n}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=zl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=zl(n,this.array)),n}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),s=Pn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==VA&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class RV extends Ft{constructor(e,n,r){super(new Int8Array(e),n,r)}}class PV extends Ft{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class DV extends Ft{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class LV extends Ft{constructor(e,n,r){super(new Int16Array(e),n,r)}}class mB extends Ft{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class FV extends Ft{constructor(e,n,r){super(new Int32Array(e),n,r)}}class gB extends Ft{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class kV extends Ft{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class ft extends Ft{constructor(e,n,r){super(new Float32Array(e),n,r)}}class OV extends Ft{constructor(e,n,r){super(new Float64Array(e),n,r)}}let NV=0;const yo=new It,BC=new qt,Bh=new H,no=new Mu,xg=new Mu,ii=new H;class kt extends Lo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:NV++}),this.uuid=ao(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qO(e)?gB:mB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new mi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yo.makeRotationFromQuaternion(e),this.applyMatrix4(yo),this}rotateX(e){return yo.makeRotationX(e),this.applyMatrix4(yo),this}rotateY(e){return yo.makeRotationY(e),this.applyMatrix4(yo),this}rotateZ(e){return yo.makeRotationZ(e),this.applyMatrix4(yo),this}translate(e,n,r){return yo.makeTranslation(e,n,r),this.applyMatrix4(yo),this}scale(e,n,r){return yo.makeScale(e,n,r),this.applyMatrix4(yo),this}lookAt(e){return BC.lookAt(e),BC.updateMatrix(),this.applyMatrix4(BC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bh).negate(),this.translate(Bh.x,Bh.y,Bh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ft(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Mu);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];no.setFromBufferAttribute(s),this.morphTargetsRelative?(ii.addVectors(this.boundingBox.min,no.min),this.boundingBox.expandByPoint(ii),ii.addVectors(this.boundingBox.max,no.max),this.boundingBox.expandByPoint(ii)):(this.boundingBox.expandByPoint(no.min),this.boundingBox.expandByPoint(no.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Tu);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(no.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];xg.setFromBufferAttribute(a),this.morphTargetsRelative?(ii.addVectors(no.min,xg.min),no.expandByPoint(ii),ii.addVectors(no.max,xg.max),no.expandByPoint(ii)):(no.expandByPoint(xg.min),no.expandByPoint(xg.max))}no.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ii.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ii));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ii.fromBufferAttribute(a,c),l&&(Bh.fromBufferAttribute(e,c),ii.add(Bh)),i=Math.max(i,r.distanceToSquared(ii))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ft(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let U=0;U<a;U++)c[U]=new H,u[U]=new H;const h=new H,p=new H,g=new H,A=new Ee,v=new Ee,y=new Ee,w=new H,x=new H;function E(U,W,ee){h.fromArray(i,U*3),p.fromArray(i,W*3),g.fromArray(i,ee*3),A.fromArray(o,U*2),v.fromArray(o,W*2),y.fromArray(o,ee*2),p.sub(h),g.sub(h),v.sub(A),y.sub(A);const Z=1/(v.x*y.y-y.x*v.y);isFinite(Z)&&(w.copy(p).multiplyScalar(y.y).addScaledVector(g,-v.y).multiplyScalar(Z),x.copy(g).multiplyScalar(v.x).addScaledVector(p,-y.x).multiplyScalar(Z),c[U].add(w),c[W].add(w),c[ee].add(w),u[U].add(x),u[W].add(x),u[ee].add(x))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let U=0,W=b.length;U<W;++U){const ee=b[U],Z=ee.start,Y=ee.count;for(let q=Z,de=Z+Y;q<de;q+=3)E(r[q+0],r[q+1],r[q+2])}const P=new H,R=new H,F=new H,T=new H;function O(U){F.fromArray(s,U*3),T.copy(F);const W=c[U];P.copy(W),P.sub(F.multiplyScalar(F.dot(W))).normalize(),R.crossVectors(T,W);const Z=R.dot(u[U])<0?-1:1;l[U*4]=P.x,l[U*4+1]=P.y,l[U*4+2]=P.z,l[U*4+3]=Z}for(let U=0,W=b.length;U<W;++U){const ee=b[U],Z=ee.start,Y=ee.count;for(let q=Z,de=Z+Y;q<de;q+=3)O(r[q+0]),O(r[q+1]),O(r[q+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ft(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new H,s=new H,o=new H,a=new H,l=new H,c=new H,u=new H,h=new H;if(e)for(let p=0,g=e.count;p<g;p+=3){const A=e.getX(p+0),v=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,A),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,A),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(A,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,g=n.count;p<g;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ii.fromBufferAttribute(e,n),ii.normalize(),e.setXYZ(n,ii.x,ii.y,ii.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,p=new c.constructor(l.length*u);let g=0,A=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?g=l[v]*a.data.stride+a.offset:g=l[v]*u;for(let w=0;w<u;w++)p[A++]=c[g++]}return new Ft(p,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const p=c[u],g=e(p,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++){const g=c[h];u.push(g.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let p=0,g=h.length;p<g;p++)u.push(h[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const oR=new It,Oa=new u0,Ey=new Tu,aR=new H,wg=new H,Cg=new H,Eg=new H,MC=new H,Sy=new H,by=new Ee,Iy=new Ee,By=new Ee,TC=new H,My=new H;class $r extends qt{constructor(e=new kt,n=new so){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Sy.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(MC.fromBufferAttribute(h,e),o?Sy.addScaledVector(MC,u):Sy.addScaledVector(MC.sub(n),u))}n.add(Sy)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Ey.copy(r.boundingSphere),Ey.applyMatrix4(s),Oa.copy(e.ray).recast(e.near),Ey.containsPoint(Oa.origin)===!1&&(Oa.intersectSphere(Ey,aR)===null||Oa.origin.distanceToSquared(aR)>(e.far-e.near)**2))||(oR.copy(s).invert(),Oa.copy(e.ray).applyMatrix4(oR),r.boundingBox!==null&&Oa.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,h=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,A=h.length;g<A;g++){const v=h[g],y=i[v.materialIndex],w=Math.max(v.start,p.start),x=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let E=w,b=x;E<b;E+=3){const P=a.getX(E),R=a.getX(E+1),F=a.getX(E+2);o=Ty(this,y,e,Oa,c,u,P,R,F),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const g=Math.max(0,p.start),A=Math.min(a.count,p.start+p.count);for(let v=g,y=A;v<y;v+=3){const w=a.getX(v),x=a.getX(v+1),E=a.getX(v+2);o=Ty(this,i,e,Oa,c,u,w,x,E),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,A=h.length;g<A;g++){const v=h[g],y=i[v.materialIndex],w=Math.max(v.start,p.start),x=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let E=w,b=x;E<b;E+=3){const P=E,R=E+1,F=E+2;o=Ty(this,y,e,Oa,c,u,P,R,F),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const g=Math.max(0,p.start),A=Math.min(l.count,p.start+p.count);for(let v=g,y=A;v<y;v+=3){const w=v,x=v+1,E=v+2;o=Ty(this,i,e,Oa,c,u,w,x,E),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}}}function UV(t,e,n,r,i,s,o,a){let l;if(e.side===li?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ia,a),l===null)return null;My.copy(a),My.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(My);return c<n.near||c>n.far?null:{distance:c,point:My.clone(),object:t}}function Ty(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,wg),t.getVertexPosition(a,Cg),t.getVertexPosition(l,Eg);const c=UV(t,e,n,r,wg,Cg,Eg,TC);if(c){i&&(by.fromBufferAttribute(i,o),Iy.fromBufferAttribute(i,a),By.fromBufferAttribute(i,l),c.uv=bo.getUV(TC,wg,Cg,Eg,by,Iy,By,new Ee)),s&&(by.fromBufferAttribute(s,o),Iy.fromBufferAttribute(s,a),By.fromBufferAttribute(s,l),c.uv2=bo.getUV(TC,wg,Cg,Eg,by,Iy,By,new Ee));const u={a:o,b:a,c:l,normal:new H,materialIndex:0};bo.getNormal(wg,Cg,Eg,u.normal),c.face=u}return c}class Ru extends kt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let p=0,g=0;A("z","y","x",-1,-1,r,n,e,o,s,0),A("z","y","x",1,-1,r,n,-e,o,s,1),A("x","z","y",1,1,e,r,n,i,o,2),A("x","z","y",1,-1,e,r,-n,i,o,3),A("x","y","z",1,-1,e,n,r,i,s,4),A("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ft(c,3)),this.setAttribute("normal",new ft(u,3)),this.setAttribute("uv",new ft(h,2));function A(v,y,w,x,E,b,P,R,F,T,O){const U=b/F,W=P/T,ee=b/2,Z=P/2,Y=R/2,q=F+1,de=T+1;let fe=0,j=0;const ne=new H;for(let re=0;re<de;re++){const pe=re*W-Z;for(let te=0;te<q;te++){const Se=te*U-ee;ne[v]=Se*x,ne[y]=pe*E,ne[w]=Y,c.push(ne.x,ne.y,ne.z),ne[v]=0,ne[y]=0,ne[w]=R>0?1:-1,u.push(ne.x,ne.y,ne.z),h.push(te/F),h.push(1-re/T),fe+=1}}for(let re=0;re<T;re++)for(let pe=0;pe<F;pe++){const te=p+pe+q*re,Se=p+pe+q*(re+1),xe=p+(pe+1)+q*(re+1),ue=p+(pe+1)+q*re;l.push(te,Se,ue),l.push(Se,xe,ue),j+=6}a.addGroup(g,j,O),g+=j,p+=fe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ru(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Np(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ns(t){const e={};for(let n=0;n<t.length;n++){const r=Np(t[n]);for(const i in r)e[i]=r[i]}return e}function zV(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function ZO(t){return t.getRenderTarget()===null&&t.outputEncoding===St?qo:Op}const eN={clone:Np,merge:ns};var GV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,QV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zr extends _r{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=GV,this.fragmentShader=QV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Np(e.uniforms),this.uniformsGroups=zV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class $p extends qt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It,this.projectionMatrixInverse=new It}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let vr=class extends $p{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=WA*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(tf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return WA*2*Math.atan(Math.tan(tf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(tf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const Mh=-90,Th=1;class tN extends qt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new vr(Mh,Th,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new vr(Mh,Th,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new vr(Mh,Th,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new vr(Mh,Th,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new vr(Mh,Th,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new vr(Mh,Th,e,n);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=na,e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=g,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class f0 extends Tn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:pu,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nN extends Zn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new f0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:sn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ru(5,5,5),s=new zr({name:"CubemapFromEquirect",uniforms:Np(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:li,blending:Ai});s.uniforms.tEquirect.value=n;const o=new $r(i,s),a=n.minFilter;return n.minFilter===Do&&(n.minFilter=sn),new tN(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const RC=new H,HV=new H,VV=new mi;class Qc{constructor(e=new H(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=RC.subVectors(r,n).cross(HV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(RC),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||VV.getNormalMatrix(e),i=this.coplanarPoint(RC).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rh=new Tu,Ry=new H;class ux{constructor(e=new Qc,n=new Qc,r=new Qc,i=new Qc,s=new Qc,o=new Qc){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],h=r[7],p=r[8],g=r[9],A=r[10],v=r[11],y=r[12],w=r[13],x=r[14],E=r[15];return n[0].setComponents(a-i,h-l,v-p,E-y).normalize(),n[1].setComponents(a+i,h+l,v+p,E+y).normalize(),n[2].setComponents(a+s,h+c,v+g,E+w).normalize(),n[3].setComponents(a-s,h-c,v-g,E-w).normalize(),n[4].setComponents(a-o,h-u,v-A,E-x).normalize(),n[5].setComponents(a+o,h+u,v+A,E+x).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Rh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Rh)}intersectsSprite(e){return Rh.center.set(0,0,0),Rh.radius=.7071067811865476,Rh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Ry.x=i.normal.x>0?e.max.x:e.min.x,Ry.y=i.normal.y>0?e.max.y:e.min.y,Ry.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ry)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function rN(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function WV(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,p=c.usage,g=t.createBuffer();t.bindBuffer(u,g),t.bufferData(u,h,p),c.onUploadCallback();let A;if(h instanceof Float32Array)A=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)A=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else A=5123;else if(h instanceof Int16Array)A=5122;else if(h instanceof Uint32Array)A=5125;else if(h instanceof Int32Array)A=5124;else if(h instanceof Int8Array)A=5120;else if(h instanceof Uint8Array)A=5121;else if(h instanceof Uint8ClampedArray)A=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:g,type:A,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const p=u.array,g=u.updateRange;t.bindBuffer(h,c),g.count===-1?t.bufferSubData(h,0,p):(n?t.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):t.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class Yp extends kt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,p=n/l,g=[],A=[],v=[],y=[];for(let w=0;w<u;w++){const x=w*p-o;for(let E=0;E<c;E++){const b=E*h-s;A.push(b,-x,0),v.push(0,0,1),y.push(E/a),y.push(1-w/l)}}for(let w=0;w<l;w++)for(let x=0;x<a;x++){const E=x+c*w,b=x+c*(w+1),P=x+1+c*(w+1),R=x+1+c*w;g.push(E,b,R),g.push(b,P,R)}this.setIndex(g),this.setAttribute("position",new ft(A,3)),this.setAttribute("normal",new ft(v,3)),this.setAttribute("uv",new ft(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yp(e.width,e.height,e.widthSegments,e.heightSegments)}}var jV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,JV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,$V=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,YV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,qV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,XV="vec3 transformed = vec3( position );",ZV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,e7=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,t7=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,n7=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,r7=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,i7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,s7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,o7=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,a7=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,l7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,c7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,u7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,d7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,f7=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,h7=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,p7=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,m7=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,g7=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,A7=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,v7="gl_FragColor = linearToOutputTexel( gl_FragColor );",y7=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,x7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,w7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,C7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,E7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,S7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,b7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,I7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,B7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,M7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,T7=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,R7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,P7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,D7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,L7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,F7=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,k7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,O7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,N7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,U7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,z7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,G7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Q7=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,H7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,V7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,W7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,j7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,J7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,K7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,$7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Y7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,q7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,X7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Z7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tW=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,rW=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,iW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,sW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,oW=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,aW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,dW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,fW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,hW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,pW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,AW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_W=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,CW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,EW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,SW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,IW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,BW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,MW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,TW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,RW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,PW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,DW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,LW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,FW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,kW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,OW=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,NW=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,UW=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,zW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,GW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,QW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,HW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const VW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$W=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YW=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,XW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ZW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ej=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ij=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aj=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,mj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_j=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Kt={alphamap_fragment:jV,alphamap_pars_fragment:JV,alphatest_fragment:KV,alphatest_pars_fragment:$V,aomap_fragment:YV,aomap_pars_fragment:qV,begin_vertex:XV,beginnormal_vertex:ZV,bsdfs:e7,iridescence_fragment:t7,bumpmap_pars_fragment:n7,clipping_planes_fragment:r7,clipping_planes_pars_fragment:i7,clipping_planes_pars_vertex:s7,clipping_planes_vertex:o7,color_fragment:a7,color_pars_fragment:l7,color_pars_vertex:c7,color_vertex:u7,common:d7,cube_uv_reflection_fragment:f7,defaultnormal_vertex:h7,displacementmap_pars_vertex:p7,displacementmap_vertex:m7,emissivemap_fragment:g7,emissivemap_pars_fragment:A7,encodings_fragment:v7,encodings_pars_fragment:y7,envmap_fragment:_7,envmap_common_pars_fragment:x7,envmap_pars_fragment:w7,envmap_pars_vertex:C7,envmap_physical_pars_fragment:F7,envmap_vertex:E7,fog_vertex:S7,fog_pars_vertex:b7,fog_fragment:I7,fog_pars_fragment:B7,gradientmap_pars_fragment:M7,lightmap_fragment:T7,lightmap_pars_fragment:R7,lights_lambert_fragment:P7,lights_lambert_pars_fragment:D7,lights_pars_begin:L7,lights_toon_fragment:k7,lights_toon_pars_fragment:O7,lights_phong_fragment:N7,lights_phong_pars_fragment:U7,lights_physical_fragment:z7,lights_physical_pars_fragment:G7,lights_fragment_begin:Q7,lights_fragment_maps:H7,lights_fragment_end:V7,logdepthbuf_fragment:W7,logdepthbuf_pars_fragment:j7,logdepthbuf_pars_vertex:J7,logdepthbuf_vertex:K7,map_fragment:$7,map_pars_fragment:Y7,map_particle_fragment:q7,map_particle_pars_fragment:X7,metalnessmap_fragment:Z7,metalnessmap_pars_fragment:eW,morphcolor_vertex:tW,morphnormal_vertex:nW,morphtarget_pars_vertex:rW,morphtarget_vertex:iW,normal_fragment_begin:sW,normal_fragment_maps:oW,normal_pars_fragment:aW,normal_pars_vertex:lW,normal_vertex:cW,normalmap_pars_fragment:uW,clearcoat_normal_fragment_begin:dW,clearcoat_normal_fragment_maps:fW,clearcoat_pars_fragment:hW,iridescence_pars_fragment:pW,output_fragment:mW,packing:gW,premultiplied_alpha_fragment:AW,project_vertex:vW,dithering_fragment:yW,dithering_pars_fragment:_W,roughnessmap_fragment:xW,roughnessmap_pars_fragment:wW,shadowmap_pars_fragment:CW,shadowmap_pars_vertex:EW,shadowmap_vertex:SW,shadowmask_pars_fragment:bW,skinbase_vertex:IW,skinning_pars_vertex:BW,skinning_vertex:MW,skinnormal_vertex:TW,specularmap_fragment:RW,specularmap_pars_fragment:PW,tonemapping_fragment:DW,tonemapping_pars_fragment:LW,transmission_fragment:FW,transmission_pars_fragment:kW,uv_pars_fragment:OW,uv_pars_vertex:NW,uv_vertex:UW,uv2_pars_fragment:zW,uv2_pars_vertex:GW,uv2_vertex:QW,worldpos_vertex:HW,background_vert:VW,background_frag:WW,backgroundCube_vert:jW,backgroundCube_frag:JW,cube_vert:KW,cube_frag:$W,depth_vert:YW,depth_frag:qW,distanceRGBA_vert:XW,distanceRGBA_frag:ZW,equirect_vert:ej,equirect_frag:tj,linedashed_vert:nj,linedashed_frag:rj,meshbasic_vert:ij,meshbasic_frag:sj,meshlambert_vert:oj,meshlambert_frag:aj,meshmatcap_vert:lj,meshmatcap_frag:cj,meshnormal_vert:uj,meshnormal_frag:dj,meshphong_vert:fj,meshphong_frag:hj,meshphysical_vert:pj,meshphysical_frag:mj,meshtoon_vert:gj,meshtoon_frag:Aj,points_vert:vj,points_frag:yj,shadow_vert:_j,shadow_frag:xj,sprite_vert:wj,sprite_frag:Cj},$e={common:{diffuse:{value:new Ve(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new mi},uv2Transform:{value:new mi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ve(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mi}},sprite:{diffuse:{value:new Ve(16777215)},opacity:{value:1},center:{value:new Ee(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mi}}},Zo={basic:{uniforms:ns([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:Kt.meshbasic_vert,fragmentShader:Kt.meshbasic_frag},lambert:{uniforms:ns([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Kt.meshlambert_vert,fragmentShader:Kt.meshlambert_frag},phong:{uniforms:ns([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Ve(0)},specular:{value:new Ve(1118481)},shininess:{value:30}}]),vertexShader:Kt.meshphong_vert,fragmentShader:Kt.meshphong_frag},standard:{uniforms:ns([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new Ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag},toon:{uniforms:ns([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Kt.meshtoon_vert,fragmentShader:Kt.meshtoon_frag},matcap:{uniforms:ns([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:Kt.meshmatcap_vert,fragmentShader:Kt.meshmatcap_frag},points:{uniforms:ns([$e.points,$e.fog]),vertexShader:Kt.points_vert,fragmentShader:Kt.points_frag},dashed:{uniforms:ns([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kt.linedashed_vert,fragmentShader:Kt.linedashed_frag},depth:{uniforms:ns([$e.common,$e.displacementmap]),vertexShader:Kt.depth_vert,fragmentShader:Kt.depth_frag},normal:{uniforms:ns([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:Kt.meshnormal_vert,fragmentShader:Kt.meshnormal_frag},sprite:{uniforms:ns([$e.sprite,$e.fog]),vertexShader:Kt.sprite_vert,fragmentShader:Kt.sprite_frag},background:{uniforms:{uvTransform:{value:new mi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Kt.background_vert,fragmentShader:Kt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Kt.backgroundCube_vert,fragmentShader:Kt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Kt.cube_vert,fragmentShader:Kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kt.equirect_vert,fragmentShader:Kt.equirect_frag},distanceRGBA:{uniforms:ns([$e.common,$e.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kt.distanceRGBA_vert,fragmentShader:Kt.distanceRGBA_frag},shadow:{uniforms:ns([$e.lights,$e.fog,{color:{value:new Ve(0)},opacity:{value:1}}]),vertexShader:Kt.shadow_vert,fragmentShader:Kt.shadow_frag}};Zo.physical={uniforms:ns([Zo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ee(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ve(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ve(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ve(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag};const Py={r:0,b:0,g:0};function Ej(t,e,n,r,i,s,o){const a=new Ve(0);let l=s===!0?0:1,c,u,h=null,p=0,g=null;function A(y,w){let x=!1,E=w.isScene===!0?w.background:null;E&&E.isTexture&&(E=(w.backgroundBlurriness>0?n:e).get(E));const b=t.xr,P=b.getSession&&b.getSession();P&&P.environmentBlendMode==="additive"&&(E=null),E===null?v(a,l):E&&E.isColor&&(v(E,1),x=!0),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),E&&(E.isCubeTexture||E.mapping===Kp)?(u===void 0&&(u=new $r(new Ru(1,1,1),new zr({name:"BackgroundCubeMaterial",uniforms:Np(Zo.backgroundCube.uniforms),vertexShader:Zo.backgroundCube.vertexShader,fragmentShader:Zo.backgroundCube.fragmentShader,side:li,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,F,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=E.encoding!==St,(h!==E||p!==E.version||g!==t.toneMapping)&&(u.material.needsUpdate=!0,h=E,p=E.version,g=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new $r(new Yp(2,2),new zr({name:"BackgroundMaterial",uniforms:Np(Zo.background.uniforms),vertexShader:Zo.background.vertexShader,fragmentShader:Zo.background.fragmentShader,side:ia,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=E.encoding!==St,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(h!==E||p!==E.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,h=E,p=E.version,g=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,w){y.getRGB(Py,ZO(t)),r.buffers.color.setClear(Py.r,Py.g,Py.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(y,w=1){a.set(y),l=w,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:A}}function Sj(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function h(Y,q,de,fe,j){let ne=!1;if(o){const re=v(fe,de,q);c!==re&&(c=re,g(c.object)),ne=w(Y,fe,de,j),ne&&x(Y,fe,de,j)}else{const re=q.wireframe===!0;(c.geometry!==fe.id||c.program!==de.id||c.wireframe!==re)&&(c.geometry=fe.id,c.program=de.id,c.wireframe=re,ne=!0)}j!==null&&n.update(j,34963),(ne||u)&&(u=!1,T(Y,q,de,fe),j!==null&&t.bindBuffer(34963,n.get(j).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function g(Y){return r.isWebGL2?t.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function A(Y){return r.isWebGL2?t.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function v(Y,q,de){const fe=de.wireframe===!0;let j=a[Y.id];j===void 0&&(j={},a[Y.id]=j);let ne=j[q.id];ne===void 0&&(ne={},j[q.id]=ne);let re=ne[fe];return re===void 0&&(re=y(p()),ne[fe]=re),re}function y(Y){const q=[],de=[],fe=[];for(let j=0;j<i;j++)q[j]=0,de[j]=0,fe[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:de,attributeDivisors:fe,object:Y,attributes:{},index:null}}function w(Y,q,de,fe){const j=c.attributes,ne=q.attributes;let re=0;const pe=de.getAttributes();for(const te in pe)if(pe[te].location>=0){const xe=j[te];let ue=ne[te];if(ue===void 0&&(te==="instanceMatrix"&&Y.instanceMatrix&&(ue=Y.instanceMatrix),te==="instanceColor"&&Y.instanceColor&&(ue=Y.instanceColor)),xe===void 0||xe.attribute!==ue||ue&&xe.data!==ue.data)return!0;re++}return c.attributesNum!==re||c.index!==fe}function x(Y,q,de,fe){const j={},ne=q.attributes;let re=0;const pe=de.getAttributes();for(const te in pe)if(pe[te].location>=0){let xe=ne[te];xe===void 0&&(te==="instanceMatrix"&&Y.instanceMatrix&&(xe=Y.instanceMatrix),te==="instanceColor"&&Y.instanceColor&&(xe=Y.instanceColor));const ue={};ue.attribute=xe,xe&&xe.data&&(ue.data=xe.data),j[te]=ue,re++}c.attributes=j,c.attributesNum=re,c.index=fe}function E(){const Y=c.newAttributes;for(let q=0,de=Y.length;q<de;q++)Y[q]=0}function b(Y){P(Y,0)}function P(Y,q){const de=c.newAttributes,fe=c.enabledAttributes,j=c.attributeDivisors;de[Y]=1,fe[Y]===0&&(t.enableVertexAttribArray(Y),fe[Y]=1),j[Y]!==q&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,q),j[Y]=q)}function R(){const Y=c.newAttributes,q=c.enabledAttributes;for(let de=0,fe=q.length;de<fe;de++)q[de]!==Y[de]&&(t.disableVertexAttribArray(de),q[de]=0)}function F(Y,q,de,fe,j,ne){r.isWebGL2===!0&&(de===5124||de===5125)?t.vertexAttribIPointer(Y,q,de,j,ne):t.vertexAttribPointer(Y,q,de,fe,j,ne)}function T(Y,q,de,fe){if(r.isWebGL2===!1&&(Y.isInstancedMesh||fe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const j=fe.attributes,ne=de.getAttributes(),re=q.defaultAttributeValues;for(const pe in ne){const te=ne[pe];if(te.location>=0){let Se=j[pe];if(Se===void 0&&(pe==="instanceMatrix"&&Y.instanceMatrix&&(Se=Y.instanceMatrix),pe==="instanceColor"&&Y.instanceColor&&(Se=Y.instanceColor)),Se!==void 0){const xe=Se.normalized,ue=Se.itemSize,Pe=n.get(Se);if(Pe===void 0)continue;const ke=Pe.buffer,je=Pe.type,Ye=Pe.bytesPerElement;if(Se.isInterleavedBufferAttribute){const ze=Se.data,Fe=ze.stride,Me=Se.offset;if(ze.isInstancedInterleavedBuffer){for(let we=0;we<te.locationSize;we++)P(te.location+we,ze.meshPerAttribute);Y.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let we=0;we<te.locationSize;we++)b(te.location+we);t.bindBuffer(34962,ke);for(let we=0;we<te.locationSize;we++)F(te.location+we,ue/te.locationSize,je,xe,Fe*Ye,(Me+ue/te.locationSize*we)*Ye)}else{if(Se.isInstancedBufferAttribute){for(let ze=0;ze<te.locationSize;ze++)P(te.location+ze,Se.meshPerAttribute);Y.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let ze=0;ze<te.locationSize;ze++)b(te.location+ze);t.bindBuffer(34962,ke);for(let ze=0;ze<te.locationSize;ze++)F(te.location+ze,ue/te.locationSize,je,xe,ue*Ye,ue/te.locationSize*ze*Ye)}}else if(re!==void 0){const xe=re[pe];if(xe!==void 0)switch(xe.length){case 2:t.vertexAttrib2fv(te.location,xe);break;case 3:t.vertexAttrib3fv(te.location,xe);break;case 4:t.vertexAttrib4fv(te.location,xe);break;default:t.vertexAttrib1fv(te.location,xe)}}}}R()}function O(){ee();for(const Y in a){const q=a[Y];for(const de in q){const fe=q[de];for(const j in fe)A(fe[j].object),delete fe[j];delete q[de]}delete a[Y]}}function U(Y){if(a[Y.id]===void 0)return;const q=a[Y.id];for(const de in q){const fe=q[de];for(const j in fe)A(fe[j].object),delete fe[j];delete q[de]}delete a[Y.id]}function W(Y){for(const q in a){const de=a[q];if(de[Y.id]===void 0)continue;const fe=de[Y.id];for(const j in fe)A(fe[j].object),delete fe[j];delete de[Y.id]}}function ee(){Z(),u=!0,c!==l&&(c=l,g(c.object))}function Z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:ee,resetDefaultState:Z,dispose:O,releaseStatesOfGeometry:U,releaseStatesOfProgram:W,initAttributes:E,enableAttribute:b,disableUnusedAttributes:R}}function bj(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,h){if(h===0)return;let p,g;if(i)p=t,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,c,u,h),n.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function Ij(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(F){if(F==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";F="mediump"}return F==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,h=t.getParameter(34930),p=t.getParameter(35660),g=t.getParameter(3379),A=t.getParameter(34076),v=t.getParameter(34921),y=t.getParameter(36347),w=t.getParameter(36348),x=t.getParameter(36349),E=p>0,b=o||e.has("OES_texture_float"),P=E&&b,R=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:A,maxAttributes:v,maxVertexUniforms:y,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:E,floatFragmentTextures:b,floatVertexTextures:P,maxSamples:R}}function Bj(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Qc,a=new mi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const g=h.length!==0||p||r!==0||i;return i=p,r=h.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=u(h,p,0)},this.setState=function(h,p,g){const A=h.clippingPlanes,v=h.clipIntersection,y=h.clipShadows,w=t.get(h);if(!i||A===null||A.length===0||s&&!y)s?u(null):c();else{const x=s?0:r,E=x*4;let b=w.clippingState||null;l.value=b,b=u(A,p,E,g);for(let P=0;P!==E;++P)b[P]=n[P];w.clippingState=b,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,p,g,A){const v=h!==null?h.length:0;let y=null;if(v!==0){if(y=l.value,A!==!0||y===null){const w=g+v*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<w)&&(y=new Float32Array(w));for(let E=0,b=g;E!==v;++E,b+=4)o.copy(h[E]).applyMatrix4(x,a),o.normal.toArray(y,b),y[b+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function Mj(t){let e=new WeakMap;function n(o,a){return a===zA?o.mapping=pu:a===GA&&(o.mapping=mu),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===zA||a===GA)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new nN(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Pu extends $p{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const up=4,lR=[.125,.215,.35,.446,.526,.582],zd=20,PC=new Pu,cR=new Ve;let DC=null;const Fd=(1+Math.sqrt(5))/2,Ph=1/Fd,uR=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Fd,Ph),new H(0,Fd,-Ph),new H(Ph,0,Fd),new H(-Ph,0,Fd),new H(Fd,Ph,0),new H(-Fd,Ph,0)];class cb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){DC=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=hR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=fR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(DC),e.scissorTest=!1,Dy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===pu||e.mapping===mu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),DC=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:sn,minFilter:sn,generateMipmaps:!1,type:To,format:yr,encoding:ds,depthBuffer:!1},i=dR(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dR(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Tj(s)),this._blurMaterial=Rj(s,e,n)}return i}_compileMaterial(e){const n=new $r(this._lodPlanes[0],e);this._renderer.compile(n,PC)}_sceneToCubeUV(e,n,r,i){const a=new vr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.toneMapping;u.getClearColor(cR),u.toneMapping=na,u.autoClear=!1;const g=new so({name:"PMREM.Background",side:li,depthWrite:!1,depthTest:!1}),A=new $r(new Ru,g);let v=!1;const y=e.background;y?y.isColor&&(g.color.copy(y),e.background=null,v=!0):(g.color.copy(cR),v=!0);for(let w=0;w<6;w++){const x=w%3;x===0?(a.up.set(0,l[w],0),a.lookAt(c[w],0,0)):x===1?(a.up.set(0,0,l[w]),a.lookAt(0,c[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,c[w]));const E=this._cubeSize;Dy(i,x*E,w>2?E:0,E,E),u.setRenderTarget(i),v&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=p,u.autoClear=h,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===pu||e.mapping===mu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=hR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=fR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new $r(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Dy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,PC)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=uR[(i-1)%uR.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new $r(this._lodPlanes[i],c),p=c.uniforms,g=this._sizeLods[r]-1,A=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*zd-1),v=s/A,y=isFinite(s)?1+Math.floor(u*v):zd;y>zd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${zd}`);const w=[];let x=0;for(let F=0;F<zd;++F){const T=F/v,O=Math.exp(-T*T/2);w.push(O),F===0?x+=O:F<y&&(x+=2*O)}for(let F=0;F<w.length;F++)w[F]=w[F]/x;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:E}=this;p.dTheta.value=A,p.mipInt.value=E-r;const b=this._sizeLods[i],P=3*b*(i>E-up?i-E+up:0),R=4*(this._cubeSize-b);Dy(n,P,R,3*b,2*b),l.setRenderTarget(n),l.render(h,PC)}}function Tj(t){const e=[],n=[],r=[];let i=t;const s=t-up+1+lR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-up?l=lR[o-t+up-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,p=[u,u,h,u,h,h,u,u,h,h,u,h],g=6,A=6,v=3,y=2,w=1,x=new Float32Array(v*A*g),E=new Float32Array(y*A*g),b=new Float32Array(w*A*g);for(let R=0;R<g;R++){const F=R%3*2/3-1,T=R>2?0:-1,O=[F,T,0,F+2/3,T,0,F+2/3,T+1,0,F,T,0,F+2/3,T+1,0,F,T+1,0];x.set(O,v*A*R),E.set(p,y*A*R);const U=[R,R,R,R,R,R];b.set(U,w*A*R)}const P=new kt;P.setAttribute("position",new Ft(x,v)),P.setAttribute("uv",new Ft(E,y)),P.setAttribute("faceIndex",new Ft(b,w)),e.push(P),i>up&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function dR(t,e,n){const r=new Zn(t,e,n);return r.texture.mapping=Kp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Rj(t,e,n){const r=new Float32Array(zd),i=new H(0,1,0);return new zr({name:"SphericalGaussianBlur",defines:{n:zd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:AB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ai,depthTest:!1,depthWrite:!1})}function fR(){return new zr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:AB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ai,depthTest:!1,depthWrite:!1})}function hR(){return new zr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:AB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ai,depthTest:!1,depthWrite:!1})}function AB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Pj(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===zA||l===GA,u=l===pu||l===mu;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new cb(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){n===null&&(n=new cb(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Dj(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Lj(t,e,n,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const A in p.attributes)e.remove(p.attributes[A]);p.removeEventListener("dispose",o),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const A in p)e.update(p[A],34962);const g=h.morphAttributes;for(const A in g){const v=g[A];for(let y=0,w=v.length;y<w;y++)e.update(v[y],34962)}}function c(h){const p=[],g=h.index,A=h.attributes.position;let v=0;if(g!==null){const x=g.array;v=g.version;for(let E=0,b=x.length;E<b;E+=3){const P=x[E+0],R=x[E+1],F=x[E+2];p.push(P,R,R,F,F,P)}}else{const x=A.array;v=A.version;for(let E=0,b=x.length/3-1;E<b;E+=3){const P=E+0,R=E+1,F=E+2;p.push(P,R,R,F,F,P)}}const y=new(qO(p)?gB:mB)(p,1);y.version=v;const w=s.get(h);w&&e.remove(w),s.set(h,y)}function u(h){const p=s.get(h);if(p){const g=h.index;g!==null&&p.version<g.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Fj(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,g){t.drawElements(s,g,a,p*l),n.update(g,s,1)}function h(p,g,A){if(A===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,g,a,p*l,A),n.update(g,s,A)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function kj(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Oj(t,e){return t[0]-e[0]}function Nj(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Uj(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new dn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const A=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=A!==void 0?A.length:0;let y=s.get(u);if(y===void 0||y.count!==v){let q=function(){Z.dispose(),s.delete(u),u.removeEventListener("dispose",q)};var g=q;y!==void 0&&y.texture.dispose();const E=u.morphAttributes.position!==void 0,b=u.morphAttributes.normal!==void 0,P=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],F=u.morphAttributes.normal||[],T=u.morphAttributes.color||[];let O=0;E===!0&&(O=1),b===!0&&(O=2),P===!0&&(O=3);let U=u.attributes.position.count*O,W=1;U>e.maxTextureSize&&(W=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const ee=new Float32Array(U*W*4*v),Z=new cx(ee,U,W,v);Z.type=Ar,Z.needsUpdate=!0;const Y=O*4;for(let de=0;de<v;de++){const fe=R[de],j=F[de],ne=T[de],re=U*W*4*de;for(let pe=0;pe<fe.count;pe++){const te=pe*Y;E===!0&&(o.fromBufferAttribute(fe,pe),ee[re+te+0]=o.x,ee[re+te+1]=o.y,ee[re+te+2]=o.z,ee[re+te+3]=0),b===!0&&(o.fromBufferAttribute(j,pe),ee[re+te+4]=o.x,ee[re+te+5]=o.y,ee[re+te+6]=o.z,ee[re+te+7]=0),P===!0&&(o.fromBufferAttribute(ne,pe),ee[re+te+8]=o.x,ee[re+te+9]=o.y,ee[re+te+10]=o.z,ee[re+te+11]=ne.itemSize===4?o.w:1)}}y={count:v,texture:Z,size:new Ee(U,W)},s.set(u,y),u.addEventListener("dispose",q)}let w=0;for(let E=0;E<p.length;E++)w+=p[E];const x=u.morphTargetsRelative?1:1-w;h.getUniforms().setValue(t,"morphTargetBaseInfluence",x),h.getUniforms().setValue(t,"morphTargetInfluences",p),h.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const A=p===void 0?0:p.length;let v=r[u.id];if(v===void 0||v.length!==A){v=[];for(let b=0;b<A;b++)v[b]=[b,0];r[u.id]=v}for(let b=0;b<A;b++){const P=v[b];P[0]=b,P[1]=p[b]}v.sort(Nj);for(let b=0;b<8;b++)b<A&&v[b][1]?(a[b][0]=v[b][0],a[b][1]=v[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(Oj);const y=u.morphAttributes.position,w=u.morphAttributes.normal;let x=0;for(let b=0;b<8;b++){const P=a[b],R=P[0],F=P[1];R!==Number.MAX_SAFE_INTEGER&&F?(y&&u.getAttribute("morphTarget"+b)!==y[R]&&u.setAttribute("morphTarget"+b,y[R]),w&&u.getAttribute("morphNormal"+b)!==w[R]&&u.setAttribute("morphNormal"+b,w[R]),i[b]=F,x+=F):(y&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),w&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),i[b]=0)}const E=u.morphTargetsRelative?1:1-x;h.getUniforms().setValue(t,"morphTargetBaseInfluence",E),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function zj(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);return i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const iN=new Tn,sN=new cx,oN=new ou,aN=new f0,pR=[],mR=[],gR=new Float32Array(16),AR=new Float32Array(9),vR=new Float32Array(4);function qp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=pR[i];if(s===void 0&&(s=new Float32Array(i),pR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function qr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Xr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function dx(t,e){let n=mR[e];n===void 0&&(n=new Int32Array(e),mR[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Gj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Qj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2fv(this.addr,e),Xr(n,e)}}function Hj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(qr(n,e))return;t.uniform3fv(this.addr,e),Xr(n,e)}}function Vj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4fv(this.addr,e),Xr(n,e)}}function Wj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Xr(n,e)}else{if(qr(n,r))return;vR.set(r),t.uniformMatrix2fv(this.addr,!1,vR),Xr(n,r)}}function jj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Xr(n,e)}else{if(qr(n,r))return;AR.set(r),t.uniformMatrix3fv(this.addr,!1,AR),Xr(n,r)}}function Jj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Xr(n,e)}else{if(qr(n,r))return;gR.set(r),t.uniformMatrix4fv(this.addr,!1,gR),Xr(n,r)}}function Kj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $j(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2iv(this.addr,e),Xr(n,e)}}function Yj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qr(n,e))return;t.uniform3iv(this.addr,e),Xr(n,e)}}function qj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4iv(this.addr,e),Xr(n,e)}}function Xj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Zj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2uiv(this.addr,e),Xr(n,e)}}function eJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qr(n,e))return;t.uniform3uiv(this.addr,e),Xr(n,e)}}function tJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4uiv(this.addr,e),Xr(n,e)}}function nJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||iN,i)}function rJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||oN,i)}function iJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||aN,i)}function sJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||sN,i)}function oJ(t){switch(t){case 5126:return Gj;case 35664:return Qj;case 35665:return Hj;case 35666:return Vj;case 35674:return Wj;case 35675:return jj;case 35676:return Jj;case 5124:case 35670:return Kj;case 35667:case 35671:return $j;case 35668:case 35672:return Yj;case 35669:case 35673:return qj;case 5125:return Xj;case 36294:return Zj;case 36295:return eJ;case 36296:return tJ;case 35678:case 36198:case 36298:case 36306:case 35682:return nJ;case 35679:case 36299:case 36307:return rJ;case 35680:case 36300:case 36308:case 36293:return iJ;case 36289:case 36303:case 36311:case 36292:return sJ}}function aJ(t,e){t.uniform1fv(this.addr,e)}function lJ(t,e){const n=qp(e,this.size,2);t.uniform2fv(this.addr,n)}function cJ(t,e){const n=qp(e,this.size,3);t.uniform3fv(this.addr,n)}function uJ(t,e){const n=qp(e,this.size,4);t.uniform4fv(this.addr,n)}function dJ(t,e){const n=qp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function fJ(t,e){const n=qp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function hJ(t,e){const n=qp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function pJ(t,e){t.uniform1iv(this.addr,e)}function mJ(t,e){t.uniform2iv(this.addr,e)}function gJ(t,e){t.uniform3iv(this.addr,e)}function AJ(t,e){t.uniform4iv(this.addr,e)}function vJ(t,e){t.uniform1uiv(this.addr,e)}function yJ(t,e){t.uniform2uiv(this.addr,e)}function _J(t,e){t.uniform3uiv(this.addr,e)}function xJ(t,e){t.uniform4uiv(this.addr,e)}function wJ(t,e,n){const r=this.cache,i=e.length,s=dx(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Xr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||iN,s[o])}function CJ(t,e,n){const r=this.cache,i=e.length,s=dx(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Xr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||oN,s[o])}function EJ(t,e,n){const r=this.cache,i=e.length,s=dx(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Xr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||aN,s[o])}function SJ(t,e,n){const r=this.cache,i=e.length,s=dx(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Xr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||sN,s[o])}function bJ(t){switch(t){case 5126:return aJ;case 35664:return lJ;case 35665:return cJ;case 35666:return uJ;case 35674:return dJ;case 35675:return fJ;case 35676:return hJ;case 5124:case 35670:return pJ;case 35667:case 35671:return mJ;case 35668:case 35672:return gJ;case 35669:case 35673:return AJ;case 5125:return vJ;case 36294:return yJ;case 36295:return _J;case 36296:return xJ;case 35678:case 36198:case 36298:case 36306:case 35682:return wJ;case 35679:case 36299:case 36307:return CJ;case 35680:case 36300:case 36308:case 36293:return EJ;case 36289:case 36303:case 36311:case 36292:return SJ}}class IJ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=oJ(n.type)}}class BJ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=bJ(n.type)}}class MJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const LC=/(\w+)(\])?(\[|\.)?/g;function yR(t,e){t.seq.push(e),t.map[e.id]=e}function TJ(t,e,n){const r=t.name,i=r.length;for(LC.lastIndex=0;;){const s=LC.exec(r),o=LC.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){yR(n,c===void 0?new IJ(a,t,e):new BJ(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new MJ(a),yR(n,h)),n=h}}}class F1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);TJ(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function _R(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let RJ=0;function PJ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function DJ(t){switch(t){case ds:return["Linear","( value )"];case St:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function xR(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+PJ(t.getShaderSource(e),o)}else return i}function LJ(t,e){const n=DJ(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function FJ(t,e){let n;switch(e){case bO:n="Linear";break;case IO:n="Reinhard";break;case BO:n="OptimizedCineon";break;case aB:n="ACESFilmic";break;case MO:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function kJ(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jg).join(`
`)}function OJ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function NJ(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Jg(t){return t!==""}function wR(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function CR(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const UJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function ub(t){return t.replace(UJ,zJ)}function zJ(t,e){const n=Kt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return ub(n)}const GJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ER(t){return t.replace(GJ,QJ)}function QJ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function SR(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function HJ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===sx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===sA?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Vd&&(e="SHADOWMAP_TYPE_VSM"),e}function VJ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case pu:case mu:e="ENVMAP_TYPE_CUBE";break;case Kp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function WJ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case mu:e="ENVMAP_MODE_REFRACTION";break}return e}function jJ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case c0:e="ENVMAP_BLENDING_MULTIPLY";break;case EO:e="ENVMAP_BLENDING_MIX";break;case SO:e="ENVMAP_BLENDING_ADD";break}return e}function JJ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function KJ(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=HJ(n),c=VJ(n),u=WJ(n),h=jJ(n),p=JJ(n),g=n.isWebGL2?"":kJ(n),A=OJ(s),v=i.createProgram();let y,w,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[A].filter(Jg).join(`
`),y.length>0&&(y+=`
`),w=[g,A].filter(Jg).join(`
`),w.length>0&&(w+=`
`)):(y=[SR(n),"#define SHADER_NAME "+n.shaderName,A,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jg).join(`
`),w=[g,SR(n),"#define SHADER_NAME "+n.shaderName,A,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==na?"#define TONE_MAPPING":"",n.toneMapping!==na?Kt.tonemapping_pars_fragment:"",n.toneMapping!==na?FJ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Kt.encodings_pars_fragment,LJ("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Jg).join(`
`)),o=ub(o),o=wR(o,n),o=CR(o,n),a=ub(a),a=wR(a,n),a=CR(a,n),o=ER(o),a=ER(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,w=["#define varying in",n.glslVersion===ab?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===ab?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const E=x+y+o,b=x+w+a,P=_R(i,35633,E),R=_R(i,35632,b);if(i.attachShader(v,P),i.attachShader(v,R),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const O=i.getProgramInfoLog(v).trim(),U=i.getShaderInfoLog(P).trim(),W=i.getShaderInfoLog(R).trim();let ee=!0,Z=!0;if(i.getProgramParameter(v,35714)===!1){ee=!1;const Y=xR(i,P,"vertex"),q=xR(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+O+`
`+Y+`
`+q)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(U===""||W==="")&&(Z=!1);Z&&(this.diagnostics={runnable:ee,programLog:O,vertexShader:{log:U,prefix:y},fragmentShader:{log:W,prefix:w}})}i.deleteShader(P),i.deleteShader(R);let F;this.getUniforms=function(){return F===void 0&&(F=new F1(i,v)),F};let T;return this.getAttributes=function(){return T===void 0&&(T=NJ(i,v)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=RJ++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=P,this.fragmentShader=R,this}let $J=0;class YJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new qJ(e),n.set(e,r)),r}}class qJ{constructor(e){this.id=$J++,this.code=e,this.usedTimes=0}}function XJ(t,e,n,r,i,s,o){const a=new nf,l=new YJ,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let g=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T,O,U,W,ee){const Z=W.fog,Y=ee.geometry,q=T.isMeshStandardMaterial?W.environment:null,de=(T.isMeshStandardMaterial?n:e).get(T.envMap||q),fe=de&&de.mapping===Kp?de.image.height:null,j=A[T.type];T.precision!==null&&(g=i.getMaxPrecision(T.precision),g!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",g,"instead."));const ne=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,re=ne!==void 0?ne.length:0;let pe=0;Y.morphAttributes.position!==void 0&&(pe=1),Y.morphAttributes.normal!==void 0&&(pe=2),Y.morphAttributes.color!==void 0&&(pe=3);let te,Se,xe,ue;if(j){const Fe=Zo[j];te=Fe.vertexShader,Se=Fe.fragmentShader}else te=T.vertexShader,Se=T.fragmentShader,l.update(T),xe=l.getVertexShaderID(T),ue=l.getFragmentShaderID(T);const Pe=t.getRenderTarget(),ke=T.alphaTest>0,je=T.clearcoat>0,Ye=T.iridescence>0;return{isWebGL2:u,shaderID:j,shaderName:T.type,vertexShader:te,fragmentShader:Se,defines:T.defines,customVertexShaderID:xe,customFragmentShaderID:ue,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:g,instancing:ee.isInstancedMesh===!0,instancingColor:ee.isInstancedMesh===!0&&ee.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Pe===null?t.outputEncoding:Pe.isXRRenderTarget===!0?Pe.texture.encoding:ds,map:!!T.map,matcap:!!T.matcap,envMap:!!de,envMapMode:de&&de.mapping,envMapCubeUVHeight:fe,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===JO,tangentSpaceNormalMap:T.normalMapType===Bu,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===St,clearcoat:je,clearcoatMap:je&&!!T.clearcoatMap,clearcoatRoughnessMap:je&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:je&&!!T.clearcoatNormalMap,iridescence:Ye,iridescenceMap:Ye&&!!T.iridescenceMap,iridescenceThicknessMap:Ye&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===ef,alphaMap:!!T.alphaMap,alphaTest:ke,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!Y.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!Z,useFog:T.fog===!0,fogExp2:Z&&Z.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:h,skinning:ee.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:pe,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&U.length>0,shadowMapType:t.shadowMap.type,toneMapping:T.toneMapped?t.toneMapping:na,useLegacyLights:t.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===as,flipSided:T.side===li,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function y(T){const O=[];if(T.shaderID?O.push(T.shaderID):(O.push(T.customVertexShaderID),O.push(T.customFragmentShaderID)),T.defines!==void 0)for(const U in T.defines)O.push(U),O.push(T.defines[U]);return T.isRawShaderMaterial===!1&&(w(O,T),x(O,T),O.push(t.outputEncoding)),O.push(T.customProgramCacheKey),O.join()}function w(T,O){T.push(O.precision),T.push(O.outputEncoding),T.push(O.envMapMode),T.push(O.envMapCubeUVHeight),T.push(O.combine),T.push(O.vertexUvs),T.push(O.fogExp2),T.push(O.sizeAttenuation),T.push(O.morphTargetsCount),T.push(O.morphAttributeCount),T.push(O.numDirLights),T.push(O.numPointLights),T.push(O.numSpotLights),T.push(O.numSpotLightMaps),T.push(O.numHemiLights),T.push(O.numRectAreaLights),T.push(O.numDirLightShadows),T.push(O.numPointLightShadows),T.push(O.numSpotLightShadows),T.push(O.numSpotLightShadowsWithMaps),T.push(O.shadowMapType),T.push(O.toneMapping),T.push(O.numClippingPlanes),T.push(O.numClipIntersection),T.push(O.depthPacking)}function x(T,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.map&&a.enable(4),O.matcap&&a.enable(5),O.envMap&&a.enable(6),O.lightMap&&a.enable(7),O.aoMap&&a.enable(8),O.emissiveMap&&a.enable(9),O.bumpMap&&a.enable(10),O.normalMap&&a.enable(11),O.objectSpaceNormalMap&&a.enable(12),O.tangentSpaceNormalMap&&a.enable(13),O.clearcoat&&a.enable(14),O.clearcoatMap&&a.enable(15),O.clearcoatRoughnessMap&&a.enable(16),O.clearcoatNormalMap&&a.enable(17),O.iridescence&&a.enable(18),O.iridescenceMap&&a.enable(19),O.iridescenceThicknessMap&&a.enable(20),O.displacementMap&&a.enable(21),O.specularMap&&a.enable(22),O.roughnessMap&&a.enable(23),O.metalnessMap&&a.enable(24),O.gradientMap&&a.enable(25),O.alphaMap&&a.enable(26),O.alphaTest&&a.enable(27),O.vertexColors&&a.enable(28),O.vertexAlphas&&a.enable(29),O.vertexUvs&&a.enable(30),O.vertexTangents&&a.enable(31),O.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.useLegacyLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.specularIntensityMap&&a.enable(15),O.specularColorMap&&a.enable(16),O.transmission&&a.enable(17),O.transmissionMap&&a.enable(18),O.thicknessMap&&a.enable(19),O.sheen&&a.enable(20),O.sheenColorMap&&a.enable(21),O.sheenRoughnessMap&&a.enable(22),O.decodeVideoTexture&&a.enable(23),O.opaque&&a.enable(24),T.push(a.mask)}function E(T){const O=A[T.type];let U;if(O){const W=Zo[O];U=eN.clone(W.uniforms)}else U=T.uniforms;return U}function b(T,O){let U;for(let W=0,ee=c.length;W<ee;W++){const Z=c[W];if(Z.cacheKey===O){U=Z,++U.usedTimes;break}}return U===void 0&&(U=new KJ(t,O,T,s),c.push(U)),U}function P(T){if(--T.usedTimes===0){const O=c.indexOf(T);c[O]=c[c.length-1],c.pop(),T.destroy()}}function R(T){l.remove(T)}function F(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:E,acquireProgram:b,releaseProgram:P,releaseShaderCache:R,programs:c,dispose:F}}function ZJ(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function eK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function bR(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function IR(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,p,g,A,v,y){let w=t[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:g,groupOrder:A,renderOrder:h.renderOrder,z:v,group:y},t[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=g,w.groupOrder=A,w.renderOrder=h.renderOrder,w.z=v,w.group=y),e++,w}function a(h,p,g,A,v,y){const w=o(h,p,g,A,v,y);g.transmission>0?r.push(w):g.transparent===!0?i.push(w):n.push(w)}function l(h,p,g,A,v,y){const w=o(h,p,g,A,v,y);g.transmission>0?r.unshift(w):g.transparent===!0?i.unshift(w):n.unshift(w)}function c(h,p){n.length>1&&n.sort(h||eK),r.length>1&&r.sort(p||bR),i.length>1&&i.sort(p||bR)}function u(){for(let h=e,p=t.length;h<p;h++){const g=t[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function tK(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new IR,t.set(r,[o])):i>=s.length?(o=new IR,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function nK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new Ve};break;case"SpotLight":n={position:new H,direction:new H,color:new Ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new Ve,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new Ve,groundColor:new Ve};break;case"RectAreaLight":n={color:new Ve,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function rK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let iK=0;function sK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function oK(t,e){const n=new nK,r=rK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new H);const s=new H,o=new It,a=new It;function l(u,h){let p=0,g=0,A=0;for(let W=0;W<9;W++)i.probe[W].set(0,0,0);let v=0,y=0,w=0,x=0,E=0,b=0,P=0,R=0,F=0,T=0;u.sort(sK);const O=h===!0?Math.PI:1;for(let W=0,ee=u.length;W<ee;W++){const Z=u[W],Y=Z.color,q=Z.intensity,de=Z.distance,fe=Z.shadow&&Z.shadow.map?Z.shadow.map.texture:null;if(Z.isAmbientLight)p+=Y.r*q*O,g+=Y.g*q*O,A+=Y.b*q*O;else if(Z.isLightProbe)for(let j=0;j<9;j++)i.probe[j].addScaledVector(Z.sh.coefficients[j],q);else if(Z.isDirectionalLight){const j=n.get(Z);if(j.color.copy(Z.color).multiplyScalar(Z.intensity*O),Z.castShadow){const ne=Z.shadow,re=r.get(Z);re.shadowBias=ne.bias,re.shadowNormalBias=ne.normalBias,re.shadowRadius=ne.radius,re.shadowMapSize=ne.mapSize,i.directionalShadow[v]=re,i.directionalShadowMap[v]=fe,i.directionalShadowMatrix[v]=Z.shadow.matrix,b++}i.directional[v]=j,v++}else if(Z.isSpotLight){const j=n.get(Z);j.position.setFromMatrixPosition(Z.matrixWorld),j.color.copy(Y).multiplyScalar(q*O),j.distance=de,j.coneCos=Math.cos(Z.angle),j.penumbraCos=Math.cos(Z.angle*(1-Z.penumbra)),j.decay=Z.decay,i.spot[w]=j;const ne=Z.shadow;if(Z.map&&(i.spotLightMap[F]=Z.map,F++,ne.updateMatrices(Z),Z.castShadow&&T++),i.spotLightMatrix[w]=ne.matrix,Z.castShadow){const re=r.get(Z);re.shadowBias=ne.bias,re.shadowNormalBias=ne.normalBias,re.shadowRadius=ne.radius,re.shadowMapSize=ne.mapSize,i.spotShadow[w]=re,i.spotShadowMap[w]=fe,R++}w++}else if(Z.isRectAreaLight){const j=n.get(Z);j.color.copy(Y).multiplyScalar(q),j.halfWidth.set(Z.width*.5,0,0),j.halfHeight.set(0,Z.height*.5,0),i.rectArea[x]=j,x++}else if(Z.isPointLight){const j=n.get(Z);if(j.color.copy(Z.color).multiplyScalar(Z.intensity*O),j.distance=Z.distance,j.decay=Z.decay,Z.castShadow){const ne=Z.shadow,re=r.get(Z);re.shadowBias=ne.bias,re.shadowNormalBias=ne.normalBias,re.shadowRadius=ne.radius,re.shadowMapSize=ne.mapSize,re.shadowCameraNear=ne.camera.near,re.shadowCameraFar=ne.camera.far,i.pointShadow[y]=re,i.pointShadowMap[y]=fe,i.pointShadowMatrix[y]=Z.shadow.matrix,P++}i.point[y]=j,y++}else if(Z.isHemisphereLight){const j=n.get(Z);j.skyColor.copy(Z.color).multiplyScalar(q*O),j.groundColor.copy(Z.groundColor).multiplyScalar(q*O),i.hemi[E]=j,E++}}x>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_FLOAT_1,i.rectAreaLTC2=$e.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_HALF_1,i.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=A;const U=i.hash;(U.directionalLength!==v||U.pointLength!==y||U.spotLength!==w||U.rectAreaLength!==x||U.hemiLength!==E||U.numDirectionalShadows!==b||U.numPointShadows!==P||U.numSpotShadows!==R||U.numSpotMaps!==F)&&(i.directional.length=v,i.spot.length=w,i.rectArea.length=x,i.point.length=y,i.hemi.length=E,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=R+F-T,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=T,U.directionalLength=v,U.pointLength=y,U.spotLength=w,U.rectAreaLength=x,U.hemiLength=E,U.numDirectionalShadows=b,U.numPointShadows=P,U.numSpotShadows=R,U.numSpotMaps=F,i.version=iK++)}function c(u,h){let p=0,g=0,A=0,v=0,y=0;const w=h.matrixWorldInverse;for(let x=0,E=u.length;x<E;x++){const b=u[x];if(b.isDirectionalLight){const P=i.directional[p];P.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(w),p++}else if(b.isSpotLight){const P=i.spot[A];P.position.setFromMatrixPosition(b.matrixWorld),P.position.applyMatrix4(w),P.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(w),A++}else if(b.isRectAreaLight){const P=i.rectArea[v];P.position.setFromMatrixPosition(b.matrixWorld),P.position.applyMatrix4(w),a.identity(),o.copy(b.matrixWorld),o.premultiply(w),a.extractRotation(o),P.halfWidth.set(b.width*.5,0,0),P.halfHeight.set(0,b.height*.5,0),P.halfWidth.applyMatrix4(a),P.halfHeight.applyMatrix4(a),v++}else if(b.isPointLight){const P=i.point[g];P.position.setFromMatrixPosition(b.matrixWorld),P.position.applyMatrix4(w),g++}else if(b.isHemisphereLight){const P=i.hemi[y];P.direction.setFromMatrixPosition(b.matrixWorld),P.direction.transformDirection(w),y++}}}return{setup:l,setupView:c,state:i}}function BR(t,e){const n=new oK(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function c(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function aK(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new BR(t,e),n.set(s,[l])):o>=a.length?(l=new BR(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class vB extends _r{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Iu,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yB extends _r{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uK(t,e,n){let r=new ux;const i=new Ee,s=new Ee,o=new dn,a=new vB({depthPacking:jO}),l=new yB,c={},u=n.maxTextureSize,h={[ia]:li,[li]:ia,[as]:as},p=new zr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ee},radius:{value:4}},vertexShader:lK,fragmentShader:cK}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const A=new kt;A.setAttribute("position",new Ft(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new $r(A,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sx,this.render=function(b,P,R){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const F=t.getRenderTarget(),T=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),U=t.state;U.setBlending(Ai),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let W=0,ee=b.length;W<ee;W++){const Z=b[W],Y=Z.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;i.copy(Y.mapSize);const q=Y.getFrameExtents();if(i.multiply(q),s.copy(Y.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/q.x),i.x=s.x*q.x,Y.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/q.y),i.y=s.y*q.y,Y.mapSize.y=s.y)),Y.map===null){const fe=this.type!==Vd?{minFilter:vn,magFilter:vn}:{};Y.map=new Zn(i.x,i.y,fe),Y.map.texture.name=Z.name+".shadowMap",Y.camera.updateProjectionMatrix()}t.setRenderTarget(Y.map),t.clear();const de=Y.getViewportCount();for(let fe=0;fe<de;fe++){const j=Y.getViewport(fe);o.set(s.x*j.x,s.y*j.y,s.x*j.z,s.y*j.w),U.viewport(o),Y.updateMatrices(Z,fe),r=Y.getFrustum(),E(P,R,Y.camera,Z,this.type)}Y.isPointLightShadow!==!0&&this.type===Vd&&w(Y,R),Y.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(F,T,O)};function w(b,P){const R=e.update(v);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,g.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Zn(i.x,i.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(P,null,R,p,v,null),g.uniforms.shadow_pass.value=b.mapPass.texture,g.uniforms.resolution.value=b.mapSize,g.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(P,null,R,g,v,null)}function x(b,P,R,F,T,O){let U=null;const W=R.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(W!==void 0)U=W;else if(U=R.isPointLight===!0?l:a,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const ee=U.uuid,Z=P.uuid;let Y=c[ee];Y===void 0&&(Y={},c[ee]=Y);let q=Y[Z];q===void 0&&(q=U.clone(),Y[Z]=q),U=q}return U.visible=P.visible,U.wireframe=P.wireframe,O===Vd?U.side=P.shadowSide!==null?P.shadowSide:P.side:U.side=P.shadowSide!==null?P.shadowSide:h[P.side],U.alphaMap=P.alphaMap,U.alphaTest=P.alphaTest,U.map=P.map,U.clipShadows=P.clipShadows,U.clippingPlanes=P.clippingPlanes,U.clipIntersection=P.clipIntersection,U.displacementMap=P.displacementMap,U.displacementScale=P.displacementScale,U.displacementBias=P.displacementBias,U.wireframeLinewidth=P.wireframeLinewidth,U.linewidth=P.linewidth,R.isPointLight===!0&&U.isMeshDistanceMaterial===!0&&(U.referencePosition.setFromMatrixPosition(R.matrixWorld),U.nearDistance=F,U.farDistance=T),U}function E(b,P,R,F,T){if(b.visible===!1)return;if(b.layers.test(P.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===Vd)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,b.matrixWorld);const W=e.update(b),ee=b.material;if(Array.isArray(ee)){const Z=W.groups;for(let Y=0,q=Z.length;Y<q;Y++){const de=Z[Y],fe=ee[de.materialIndex];if(fe&&fe.visible){const j=x(b,fe,F,R.near,R.far,T);t.renderBufferDirect(R,null,W,j,b,de)}}}else if(ee.visible){const Z=x(b,ee,F,R.near,R.far,T);t.renderBufferDirect(R,null,W,Z,b,null)}}const U=b.children;for(let W=0,ee=U.length;W<ee;W++)E(U[W],P,R,F,T)}}function dK(t,e,n){const r=n.isWebGL2;function i(){let ae=!1;const be=new dn;let Oe=null;const rt=new dn(0,0,0,0);return{setMask:function(st){Oe!==st&&!ae&&(t.colorMask(st,st,st,st),Oe=st)},setLocked:function(st){ae=st},setClear:function(st,hn,Vn,xr,er){er===!0&&(st*=xr,hn*=xr,Vn*=xr),be.set(st,hn,Vn,xr),rt.equals(be)===!1&&(t.clearColor(st,hn,Vn,xr),rt.copy(be))},reset:function(){ae=!1,Oe=null,rt.set(-1,0,0,0)}}}function s(){let ae=!1,be=null,Oe=null,rt=null;return{setTest:function(st){st?ke(2929):je(2929)},setMask:function(st){be!==st&&!ae&&(t.depthMask(st),be=st)},setFunc:function(st){if(Oe!==st){switch(st){case AO:t.depthFunc(512);break;case vO:t.depthFunc(519);break;case yO:t.depthFunc(513);break;case c_:t.depthFunc(515);break;case _O:t.depthFunc(514);break;case xO:t.depthFunc(518);break;case wO:t.depthFunc(516);break;case CO:t.depthFunc(517);break;default:t.depthFunc(515)}Oe=st}},setLocked:function(st){ae=st},setClear:function(st){rt!==st&&(t.clearDepth(st),rt=st)},reset:function(){ae=!1,be=null,Oe=null,rt=null}}}function o(){let ae=!1,be=null,Oe=null,rt=null,st=null,hn=null,Vn=null,xr=null,er=null;return{setTest:function(bn){ae||(bn?ke(2960):je(2960))},setMask:function(bn){be!==bn&&!ae&&(t.stencilMask(bn),be=bn)},setFunc:function(bn,Qr,wi){(Oe!==bn||rt!==Qr||st!==wi)&&(t.stencilFunc(bn,Qr,wi),Oe=bn,rt=Qr,st=wi)},setOp:function(bn,Qr,wi){(hn!==bn||Vn!==Qr||xr!==wi)&&(t.stencilOp(bn,Qr,wi),hn=bn,Vn=Qr,xr=wi)},setLocked:function(bn){ae=bn},setClear:function(bn){er!==bn&&(t.clearStencil(bn),er=bn)},reset:function(){ae=!1,be=null,Oe=null,rt=null,st=null,hn=null,Vn=null,xr=null,er=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let p={},g={},A=new WeakMap,v=[],y=null,w=!1,x=null,E=null,b=null,P=null,R=null,F=null,T=null,O=!1,U=null,W=null,ee=null,Z=null,Y=null;const q=t.getParameter(35661);let de=!1,fe=0;const j=t.getParameter(7938);j.indexOf("WebGL")!==-1?(fe=parseFloat(/^WebGL (\d)/.exec(j)[1]),de=fe>=1):j.indexOf("OpenGL ES")!==-1&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),de=fe>=2);let ne=null,re={};const pe=t.getParameter(3088),te=t.getParameter(2978),Se=new dn().fromArray(pe),xe=new dn().fromArray(te);function ue(ae,be,Oe){const rt=new Uint8Array(4),st=t.createTexture();t.bindTexture(ae,st),t.texParameteri(ae,10241,9728),t.texParameteri(ae,10240,9728);for(let hn=0;hn<Oe;hn++)t.texImage2D(be+hn,0,6408,1,1,0,6408,5121,rt);return st}const Pe={};Pe[3553]=ue(3553,3553,1),Pe[34067]=ue(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ke(2929),l.setFunc(c_),Je(!1),ut(kS),ke(2884),Ue(Ai);function ke(ae){p[ae]!==!0&&(t.enable(ae),p[ae]=!0)}function je(ae){p[ae]!==!1&&(t.disable(ae),p[ae]=!1)}function Ye(ae,be){return g[ae]!==be?(t.bindFramebuffer(ae,be),g[ae]=be,r&&(ae===36009&&(g[36160]=be),ae===36160&&(g[36009]=be)),!0):!1}function ze(ae,be){let Oe=v,rt=!1;if(ae)if(Oe=A.get(be),Oe===void 0&&(Oe=[],A.set(be,Oe)),ae.isWebGLMultipleRenderTargets){const st=ae.texture;if(Oe.length!==st.length||Oe[0]!==36064){for(let hn=0,Vn=st.length;hn<Vn;hn++)Oe[hn]=36064+hn;Oe.length=st.length,rt=!0}}else Oe[0]!==36064&&(Oe[0]=36064,rt=!0);else Oe[0]!==1029&&(Oe[0]=1029,rt=!0);rt&&(n.isWebGL2?t.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function Fe(ae){return y!==ae?(t.useProgram(ae),y=ae,!0):!1}const Me={[Ud]:32774,[oO]:32778,[aO]:32779};if(r)Me[zS]=32775,Me[GS]=32776;else{const ae=e.get("EXT_blend_minmax");ae!==null&&(Me[zS]=ae.MIN_EXT,Me[GS]=ae.MAX_EXT)}const we={[lO]:0,[cO]:1,[uO]:768,[sB]:770,[gO]:776,[pO]:774,[fO]:772,[dO]:769,[oB]:771,[mO]:775,[hO]:773};function Ue(ae,be,Oe,rt,st,hn,Vn,xr){if(ae===Ai){w===!0&&(je(3042),w=!1);return}if(w===!1&&(ke(3042),w=!0),ae!==sO){if(ae!==x||xr!==O){if((E!==Ud||R!==Ud)&&(t.blendEquation(32774),E=Ud,R=Ud),xr)switch(ae){case ef:t.blendFuncSeparate(1,771,1,771);break;case OS:t.blendFunc(1,1);break;case NS:t.blendFuncSeparate(0,769,0,1);break;case US:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case ef:t.blendFuncSeparate(770,771,1,771);break;case OS:t.blendFunc(770,1);break;case NS:t.blendFuncSeparate(0,769,0,1);break;case US:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}b=null,P=null,F=null,T=null,x=ae,O=xr}return}st=st||be,hn=hn||Oe,Vn=Vn||rt,(be!==E||st!==R)&&(t.blendEquationSeparate(Me[be],Me[st]),E=be,R=st),(Oe!==b||rt!==P||hn!==F||Vn!==T)&&(t.blendFuncSeparate(we[Oe],we[rt],we[hn],we[Vn]),b=Oe,P=rt,F=hn,T=Vn),x=ae,O=!1}function nt(ae,be){ae.side===as?je(2884):ke(2884);let Oe=ae.side===li;be&&(Oe=!Oe),Je(Oe),ae.blending===ef&&ae.transparent===!1?Ue(Ai):Ue(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),a.setMask(ae.colorWrite);const rt=ae.stencilWrite;c.setTest(rt),rt&&(c.setMask(ae.stencilWriteMask),c.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),c.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),ht(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?ke(32926):je(32926)}function Je(ae){U!==ae&&(ae?t.frontFace(2304):t.frontFace(2305),U=ae)}function ut(ae){ae!==nO?(ke(2884),ae!==W&&(ae===kS?t.cullFace(1029):ae===rO?t.cullFace(1028):t.cullFace(1032))):je(2884),W=ae}function at(ae){ae!==ee&&(de&&t.lineWidth(ae),ee=ae)}function ht(ae,be,Oe){ae?(ke(32823),(Z!==be||Y!==Oe)&&(t.polygonOffset(be,Oe),Z=be,Y=Oe)):je(32823)}function zt(ae){ae?ke(3089):je(3089)}function Dt(ae){ae===void 0&&(ae=33984+q-1),ne!==ae&&(t.activeTexture(ae),ne=ae)}function K(ae,be,Oe){Oe===void 0&&(ne===null?Oe=33984+q-1:Oe=ne);let rt=re[Oe];rt===void 0&&(rt={type:void 0,texture:void 0},re[Oe]=rt),(rt.type!==ae||rt.texture!==be)&&(ne!==Oe&&(t.activeTexture(Oe),ne=Oe),t.bindTexture(ae,be||Pe[ae]),rt.type=ae,rt.texture=be)}function N(){const ae=re[ne];ae!==void 0&&ae.type!==void 0&&(t.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function le(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function De(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Le(){try{t.texSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ne(){try{t.texSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function lt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ke(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Re(){try{t.texStorage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function pt(){try{t.texStorage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ze(){try{t.texImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function yt(){try{t.texImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function gt(ae){Se.equals(ae)===!1&&(t.scissor(ae.x,ae.y,ae.z,ae.w),Se.copy(ae))}function dt(ae){xe.equals(ae)===!1&&(t.viewport(ae.x,ae.y,ae.z,ae.w),xe.copy(ae))}function Gt(ae,be){let Oe=h.get(be);Oe===void 0&&(Oe=new WeakMap,h.set(be,Oe));let rt=Oe.get(ae);rt===void 0&&(rt=t.getUniformBlockIndex(be,ae.name),Oe.set(ae,rt))}function on(ae,be){const rt=h.get(be).get(ae);u.get(be)!==rt&&(t.uniformBlockBinding(be,rt,ae.__bindingPointIndex),u.set(be,rt))}function Sn(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},ne=null,re={},g={},A=new WeakMap,v=[],y=null,w=!1,x=null,E=null,b=null,P=null,R=null,F=null,T=null,O=!1,U=null,W=null,ee=null,Z=null,Y=null,Se.set(0,0,t.canvas.width,t.canvas.height),xe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ke,disable:je,bindFramebuffer:Ye,drawBuffers:ze,useProgram:Fe,setBlending:Ue,setMaterial:nt,setFlipSided:Je,setCullFace:ut,setLineWidth:at,setPolygonOffset:ht,setScissorTest:zt,activeTexture:Dt,bindTexture:K,unbindTexture:N,compressedTexImage2D:le,compressedTexImage3D:De,texImage2D:Ze,texImage3D:yt,updateUBOMapping:Gt,uniformBlockBinding:on,texStorage2D:Re,texStorage3D:pt,texSubImage2D:Le,texSubImage3D:Ne,compressedTexSubImage2D:lt,compressedTexSubImage3D:Ke,scissor:gt,viewport:dt,reset:Sn}}function fK(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let v;const y=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,N){return w?new OffscreenCanvas(K,N):jA("canvas")}function E(K,N,le,De){let Le=1;if((K.width>De||K.height>De)&&(Le=De/Math.max(K.width,K.height)),Le<1||N===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const Ne=N?YO:Math.floor,lt=Ne(Le*K.width),Ke=Ne(Le*K.height);v===void 0&&(v=x(lt,Ke));const Re=le?x(lt,Ke):v;return Re.width=lt,Re.height=Ke,Re.getContext("2d").drawImage(K,0,0,lt,Ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+lt+"x"+Ke+")."),Re}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function b(K){return lb(K.width)&&lb(K.height)}function P(K){return a?!1:K.wrapS!==Ur||K.wrapT!==Ur||K.minFilter!==vn&&K.minFilter!==sn}function R(K,N){return K.generateMipmaps&&N&&K.minFilter!==vn&&K.minFilter!==sn}function F(K){t.generateMipmap(K)}function T(K,N,le,De,Le=!1){if(a===!1)return N;if(K!==null){if(t[K]!==void 0)return t[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Ne=N;return N===6403&&(le===5126&&(Ne=33326),le===5131&&(Ne=33325),le===5121&&(Ne=33321)),N===33319&&(le===5126&&(Ne=33328),le===5131&&(Ne=33327),le===5121&&(Ne=33323)),N===6408&&(le===5126&&(Ne=34836),le===5131&&(Ne=34842),le===5121&&(Ne=De===St&&Le===!1?35907:32856),le===32819&&(Ne=32854),le===32820&&(Ne=32855)),(Ne===33325||Ne===33326||Ne===33327||Ne===33328||Ne===34842||Ne===34836)&&e.get("EXT_color_buffer_float"),Ne}function O(K,N,le){return R(K,le)===!0||K.isFramebufferTexture&&K.minFilter!==vn&&K.minFilter!==sn?Math.log2(Math.max(N.width,N.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?N.mipmaps.length:1}function U(K){return K===vn||K===QA||K===Cp?9728:9729}function W(K){const N=K.target;N.removeEventListener("dispose",W),Z(N),N.isVideoTexture&&A.delete(N)}function ee(K){const N=K.target;N.removeEventListener("dispose",ee),q(N)}function Z(K){const N=r.get(K);if(N.__webglInit===void 0)return;const le=K.source,De=y.get(le);if(De){const Le=De[N.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&Y(K),Object.keys(De).length===0&&y.delete(le)}r.remove(K)}function Y(K){const N=r.get(K);t.deleteTexture(N.__webglTexture);const le=K.source,De=y.get(le);delete De[N.__cacheKey],o.memory.textures--}function q(K){const N=K.texture,le=r.get(K),De=r.get(N);if(De.__webglTexture!==void 0&&(t.deleteTexture(De.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++)t.deleteFramebuffer(le.__webglFramebuffer[Le]),le.__webglDepthbuffer&&t.deleteRenderbuffer(le.__webglDepthbuffer[Le]);else{if(t.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&t.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&t.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let Le=0;Le<le.__webglColorRenderbuffer.length;Le++)le.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(le.__webglColorRenderbuffer[Le]);le.__webglDepthRenderbuffer&&t.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let Le=0,Ne=N.length;Le<Ne;Le++){const lt=r.get(N[Le]);lt.__webglTexture&&(t.deleteTexture(lt.__webglTexture),o.memory.textures--),r.remove(N[Le])}r.remove(N),r.remove(K)}let de=0;function fe(){de=0}function j(){const K=de;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),de+=1,K}function ne(K){const N=[];return N.push(K.wrapS),N.push(K.wrapT),N.push(K.wrapR||0),N.push(K.magFilter),N.push(K.minFilter),N.push(K.anisotropy),N.push(K.internalFormat),N.push(K.format),N.push(K.type),N.push(K.generateMipmaps),N.push(K.premultiplyAlpha),N.push(K.flipY),N.push(K.unpackAlignment),N.push(K.encoding),N.join()}function re(K,N){const le=r.get(K);if(K.isVideoTexture&&zt(K),K.isRenderTargetTexture===!1&&K.version>0&&le.__version!==K.version){const De=K.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{je(le,K,N);return}}n.bindTexture(3553,le.__webglTexture,33984+N)}function pe(K,N){const le=r.get(K);if(K.version>0&&le.__version!==K.version){je(le,K,N);return}n.bindTexture(35866,le.__webglTexture,33984+N)}function te(K,N){const le=r.get(K);if(K.version>0&&le.__version!==K.version){je(le,K,N);return}n.bindTexture(32879,le.__webglTexture,33984+N)}function Se(K,N){const le=r.get(K);if(K.version>0&&le.__version!==K.version){Ye(le,K,N);return}n.bindTexture(34067,le.__webglTexture,33984+N)}const xe={[gu]:10497,[Ur]:33071,[Fp]:33648},ue={[vn]:9728,[QA]:9984,[Cp]:9986,[sn]:9729,[ax]:9985,[Do]:9987};function Pe(K,N,le){if(le?(t.texParameteri(K,10242,xe[N.wrapS]),t.texParameteri(K,10243,xe[N.wrapT]),(K===32879||K===35866)&&t.texParameteri(K,32882,xe[N.wrapR]),t.texParameteri(K,10240,ue[N.magFilter]),t.texParameteri(K,10241,ue[N.minFilter])):(t.texParameteri(K,10242,33071),t.texParameteri(K,10243,33071),(K===32879||K===35866)&&t.texParameteri(K,32882,33071),(N.wrapS!==Ur||N.wrapT!==Ur)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(K,10240,U(N.magFilter)),t.texParameteri(K,10241,U(N.minFilter)),N.minFilter!==vn&&N.minFilter!==sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const De=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===vn||N.minFilter!==Cp&&N.minFilter!==Do||N.type===Ar&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===To&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(t.texParameterf(K,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function ke(K,N){let le=!1;K.__webglInit===void 0&&(K.__webglInit=!0,N.addEventListener("dispose",W));const De=N.source;let Le=y.get(De);Le===void 0&&(Le={},y.set(De,Le));const Ne=ne(N);if(Ne!==K.__cacheKey){Le[Ne]===void 0&&(Le[Ne]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,le=!0),Le[Ne].usedTimes++;const lt=Le[K.__cacheKey];lt!==void 0&&(Le[K.__cacheKey].usedTimes--,lt.usedTimes===0&&Y(N)),K.__cacheKey=Ne,K.__webglTexture=Le[Ne].texture}return le}function je(K,N,le){let De=3553;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(De=35866),N.isData3DTexture&&(De=32879);const Le=ke(K,N),Ne=N.source;n.bindTexture(De,K.__webglTexture,33984+le);const lt=r.get(Ne);if(Ne.version!==lt.__version||Le===!0){n.activeTexture(33984+le),t.pixelStorei(37440,N.flipY),t.pixelStorei(37441,N.premultiplyAlpha),t.pixelStorei(3317,N.unpackAlignment),t.pixelStorei(37443,0);const Ke=P(N)&&b(N.image)===!1;let Re=E(N.image,Ke,!1,u);Re=Dt(N,Re);const pt=b(Re)||a,Ze=s.convert(N.format,N.encoding);let yt=s.convert(N.type),gt=T(N.internalFormat,Ze,yt,N.encoding,N.isVideoTexture);Pe(De,N,pt);let dt;const Gt=N.mipmaps,on=a&&N.isVideoTexture!==!0,Sn=lt.__version===void 0||Le===!0,ae=O(N,Re,pt);if(N.isDepthTexture)gt=6402,a?N.type===Ar?gt=36012:N.type===Ul?gt=33190:N.type===iu?gt=35056:gt=33189:N.type===Ar&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===su&&gt===6402&&N.type!==lB&&N.type!==Ul&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Ul,yt=s.convert(N.type)),N.format===Au&&gt===6402&&(gt=34041,N.type!==iu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=iu,yt=s.convert(N.type))),Sn&&(on?n.texStorage2D(3553,1,gt,Re.width,Re.height):n.texImage2D(3553,0,gt,Re.width,Re.height,0,Ze,yt,null));else if(N.isDataTexture)if(Gt.length>0&&pt){on&&Sn&&n.texStorage2D(3553,ae,gt,Gt[0].width,Gt[0].height);for(let be=0,Oe=Gt.length;be<Oe;be++)dt=Gt[be],on?n.texSubImage2D(3553,be,0,0,dt.width,dt.height,Ze,yt,dt.data):n.texImage2D(3553,be,gt,dt.width,dt.height,0,Ze,yt,dt.data);N.generateMipmaps=!1}else on?(Sn&&n.texStorage2D(3553,ae,gt,Re.width,Re.height),n.texSubImage2D(3553,0,0,0,Re.width,Re.height,Ze,yt,Re.data)):n.texImage2D(3553,0,gt,Re.width,Re.height,0,Ze,yt,Re.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){on&&Sn&&n.texStorage3D(35866,ae,gt,Gt[0].width,Gt[0].height,Re.depth);for(let be=0,Oe=Gt.length;be<Oe;be++)dt=Gt[be],N.format!==yr?Ze!==null?on?n.compressedTexSubImage3D(35866,be,0,0,0,dt.width,dt.height,Re.depth,Ze,dt.data,0,0):n.compressedTexImage3D(35866,be,gt,dt.width,dt.height,Re.depth,0,dt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):on?n.texSubImage3D(35866,be,0,0,0,dt.width,dt.height,Re.depth,Ze,yt,dt.data):n.texImage3D(35866,be,gt,dt.width,dt.height,Re.depth,0,Ze,yt,dt.data)}else{on&&Sn&&n.texStorage2D(3553,ae,gt,Gt[0].width,Gt[0].height);for(let be=0,Oe=Gt.length;be<Oe;be++)dt=Gt[be],N.format!==yr?Ze!==null?on?n.compressedTexSubImage2D(3553,be,0,0,dt.width,dt.height,Ze,dt.data):n.compressedTexImage2D(3553,be,gt,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):on?n.texSubImage2D(3553,be,0,0,dt.width,dt.height,Ze,yt,dt.data):n.texImage2D(3553,be,gt,dt.width,dt.height,0,Ze,yt,dt.data)}else if(N.isDataArrayTexture)on?(Sn&&n.texStorage3D(35866,ae,gt,Re.width,Re.height,Re.depth),n.texSubImage3D(35866,0,0,0,0,Re.width,Re.height,Re.depth,Ze,yt,Re.data)):n.texImage3D(35866,0,gt,Re.width,Re.height,Re.depth,0,Ze,yt,Re.data);else if(N.isData3DTexture)on?(Sn&&n.texStorage3D(32879,ae,gt,Re.width,Re.height,Re.depth),n.texSubImage3D(32879,0,0,0,0,Re.width,Re.height,Re.depth,Ze,yt,Re.data)):n.texImage3D(32879,0,gt,Re.width,Re.height,Re.depth,0,Ze,yt,Re.data);else if(N.isFramebufferTexture){if(Sn)if(on)n.texStorage2D(3553,ae,gt,Re.width,Re.height);else{let be=Re.width,Oe=Re.height;for(let rt=0;rt<ae;rt++)n.texImage2D(3553,rt,gt,be,Oe,0,Ze,yt,null),be>>=1,Oe>>=1}}else if(Gt.length>0&&pt){on&&Sn&&n.texStorage2D(3553,ae,gt,Gt[0].width,Gt[0].height);for(let be=0,Oe=Gt.length;be<Oe;be++)dt=Gt[be],on?n.texSubImage2D(3553,be,0,0,Ze,yt,dt):n.texImage2D(3553,be,gt,Ze,yt,dt);N.generateMipmaps=!1}else on?(Sn&&n.texStorage2D(3553,ae,gt,Re.width,Re.height),n.texSubImage2D(3553,0,0,0,Ze,yt,Re)):n.texImage2D(3553,0,gt,Ze,yt,Re);R(N,pt)&&F(De),lt.__version=Ne.version,N.onUpdate&&N.onUpdate(N)}K.__version=N.version}function Ye(K,N,le){if(N.image.length!==6)return;const De=ke(K,N),Le=N.source;n.bindTexture(34067,K.__webglTexture,33984+le);const Ne=r.get(Le);if(Le.version!==Ne.__version||De===!0){n.activeTexture(33984+le),t.pixelStorei(37440,N.flipY),t.pixelStorei(37441,N.premultiplyAlpha),t.pixelStorei(3317,N.unpackAlignment),t.pixelStorei(37443,0);const lt=N.isCompressedTexture||N.image[0].isCompressedTexture,Ke=N.image[0]&&N.image[0].isDataTexture,Re=[];for(let be=0;be<6;be++)!lt&&!Ke?Re[be]=E(N.image[be],!1,!0,c):Re[be]=Ke?N.image[be].image:N.image[be],Re[be]=Dt(N,Re[be]);const pt=Re[0],Ze=b(pt)||a,yt=s.convert(N.format,N.encoding),gt=s.convert(N.type),dt=T(N.internalFormat,yt,gt,N.encoding),Gt=a&&N.isVideoTexture!==!0,on=Ne.__version===void 0||De===!0;let Sn=O(N,pt,Ze);Pe(34067,N,Ze);let ae;if(lt){Gt&&on&&n.texStorage2D(34067,Sn,dt,pt.width,pt.height);for(let be=0;be<6;be++){ae=Re[be].mipmaps;for(let Oe=0;Oe<ae.length;Oe++){const rt=ae[Oe];N.format!==yr?yt!==null?Gt?n.compressedTexSubImage2D(34069+be,Oe,0,0,rt.width,rt.height,yt,rt.data):n.compressedTexImage2D(34069+be,Oe,dt,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Gt?n.texSubImage2D(34069+be,Oe,0,0,rt.width,rt.height,yt,gt,rt.data):n.texImage2D(34069+be,Oe,dt,rt.width,rt.height,0,yt,gt,rt.data)}}}else{ae=N.mipmaps,Gt&&on&&(ae.length>0&&Sn++,n.texStorage2D(34067,Sn,dt,Re[0].width,Re[0].height));for(let be=0;be<6;be++)if(Ke){Gt?n.texSubImage2D(34069+be,0,0,0,Re[be].width,Re[be].height,yt,gt,Re[be].data):n.texImage2D(34069+be,0,dt,Re[be].width,Re[be].height,0,yt,gt,Re[be].data);for(let Oe=0;Oe<ae.length;Oe++){const st=ae[Oe].image[be].image;Gt?n.texSubImage2D(34069+be,Oe+1,0,0,st.width,st.height,yt,gt,st.data):n.texImage2D(34069+be,Oe+1,dt,st.width,st.height,0,yt,gt,st.data)}}else{Gt?n.texSubImage2D(34069+be,0,0,0,yt,gt,Re[be]):n.texImage2D(34069+be,0,dt,yt,gt,Re[be]);for(let Oe=0;Oe<ae.length;Oe++){const rt=ae[Oe];Gt?n.texSubImage2D(34069+be,Oe+1,0,0,yt,gt,rt.image[be]):n.texImage2D(34069+be,Oe+1,dt,yt,gt,rt.image[be])}}}R(N,Ze)&&F(34067),Ne.__version=Le.version,N.onUpdate&&N.onUpdate(N)}K.__version=N.version}function ze(K,N,le,De,Le){const Ne=s.convert(le.format,le.encoding),lt=s.convert(le.type),Ke=T(le.internalFormat,Ne,lt,le.encoding);r.get(N).__hasExternalTextures||(Le===32879||Le===35866?n.texImage3D(Le,0,Ke,N.width,N.height,N.depth,0,Ne,lt,null):n.texImage2D(Le,0,Ke,N.width,N.height,0,Ne,lt,null)),n.bindFramebuffer(36160,K),ht(N)?p.framebufferTexture2DMultisampleEXT(36160,De,Le,r.get(le).__webglTexture,0,at(N)):(Le===3553||Le>=34069&&Le<=34074)&&t.framebufferTexture2D(36160,De,Le,r.get(le).__webglTexture,0),n.bindFramebuffer(36160,null)}function Fe(K,N,le){if(t.bindRenderbuffer(36161,K),N.depthBuffer&&!N.stencilBuffer){let De=33189;if(le||ht(N)){const Le=N.depthTexture;Le&&Le.isDepthTexture&&(Le.type===Ar?De=36012:Le.type===Ul&&(De=33190));const Ne=at(N);ht(N)?p.renderbufferStorageMultisampleEXT(36161,Ne,De,N.width,N.height):t.renderbufferStorageMultisample(36161,Ne,De,N.width,N.height)}else t.renderbufferStorage(36161,De,N.width,N.height);t.framebufferRenderbuffer(36160,36096,36161,K)}else if(N.depthBuffer&&N.stencilBuffer){const De=at(N);le&&ht(N)===!1?t.renderbufferStorageMultisample(36161,De,35056,N.width,N.height):ht(N)?p.renderbufferStorageMultisampleEXT(36161,De,35056,N.width,N.height):t.renderbufferStorage(36161,34041,N.width,N.height),t.framebufferRenderbuffer(36160,33306,36161,K)}else{const De=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Le=0;Le<De.length;Le++){const Ne=De[Le],lt=s.convert(Ne.format,Ne.encoding),Ke=s.convert(Ne.type),Re=T(Ne.internalFormat,lt,Ke,Ne.encoding),pt=at(N);le&&ht(N)===!1?t.renderbufferStorageMultisample(36161,pt,Re,N.width,N.height):ht(N)?p.renderbufferStorageMultisampleEXT(36161,pt,Re,N.width,N.height):t.renderbufferStorage(36161,Re,N.width,N.height)}}t.bindRenderbuffer(36161,null)}function Me(K,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,K),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),re(N.depthTexture,0);const De=r.get(N.depthTexture).__webglTexture,Le=at(N);if(N.depthTexture.format===su)ht(N)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,De,0,Le):t.framebufferTexture2D(36160,36096,3553,De,0);else if(N.depthTexture.format===Au)ht(N)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,De,0,Le):t.framebufferTexture2D(36160,33306,3553,De,0);else throw new Error("Unknown depthTexture format")}function we(K){const N=r.get(K),le=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!N.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");Me(N.__webglFramebuffer,K)}else if(le){N.__webglDepthbuffer=[];for(let De=0;De<6;De++)n.bindFramebuffer(36160,N.__webglFramebuffer[De]),N.__webglDepthbuffer[De]=t.createRenderbuffer(),Fe(N.__webglDepthbuffer[De],K,!1)}else n.bindFramebuffer(36160,N.__webglFramebuffer),N.__webglDepthbuffer=t.createRenderbuffer(),Fe(N.__webglDepthbuffer,K,!1);n.bindFramebuffer(36160,null)}function Ue(K,N,le){const De=r.get(K);N!==void 0&&ze(De.__webglFramebuffer,K,K.texture,36064,3553),le!==void 0&&we(K)}function nt(K){const N=K.texture,le=r.get(K),De=r.get(N);K.addEventListener("dispose",ee),K.isWebGLMultipleRenderTargets!==!0&&(De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture()),De.__version=N.version,o.memory.textures++);const Le=K.isWebGLCubeRenderTarget===!0,Ne=K.isWebGLMultipleRenderTargets===!0,lt=b(K)||a;if(Le){le.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)le.__webglFramebuffer[Ke]=t.createFramebuffer()}else{if(le.__webglFramebuffer=t.createFramebuffer(),Ne)if(i.drawBuffers){const Ke=K.texture;for(let Re=0,pt=Ke.length;Re<pt;Re++){const Ze=r.get(Ke[Re]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&K.samples>0&&ht(K)===!1){const Ke=Ne?N:[N];le.__webglMultisampledFramebuffer=t.createFramebuffer(),le.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let Re=0;Re<Ke.length;Re++){const pt=Ke[Re];le.__webglColorRenderbuffer[Re]=t.createRenderbuffer(),t.bindRenderbuffer(36161,le.__webglColorRenderbuffer[Re]);const Ze=s.convert(pt.format,pt.encoding),yt=s.convert(pt.type),gt=T(pt.internalFormat,Ze,yt,pt.encoding,K.isXRRenderTarget===!0),dt=at(K);t.renderbufferStorageMultisample(36161,dt,gt,K.width,K.height),t.framebufferRenderbuffer(36160,36064+Re,36161,le.__webglColorRenderbuffer[Re])}t.bindRenderbuffer(36161,null),K.depthBuffer&&(le.__webglDepthRenderbuffer=t.createRenderbuffer(),Fe(le.__webglDepthRenderbuffer,K,!0)),n.bindFramebuffer(36160,null)}}if(Le){n.bindTexture(34067,De.__webglTexture),Pe(34067,N,lt);for(let Ke=0;Ke<6;Ke++)ze(le.__webglFramebuffer[Ke],K,N,36064,34069+Ke);R(N,lt)&&F(34067),n.unbindTexture()}else if(Ne){const Ke=K.texture;for(let Re=0,pt=Ke.length;Re<pt;Re++){const Ze=Ke[Re],yt=r.get(Ze);n.bindTexture(3553,yt.__webglTexture),Pe(3553,Ze,lt),ze(le.__webglFramebuffer,K,Ze,36064+Re,3553),R(Ze,lt)&&F(3553)}n.unbindTexture()}else{let Ke=3553;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(a?Ke=K.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ke,De.__webglTexture),Pe(Ke,N,lt),ze(le.__webglFramebuffer,K,N,36064,Ke),R(N,lt)&&F(Ke),n.unbindTexture()}K.depthBuffer&&we(K)}function Je(K){const N=b(K)||a,le=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let De=0,Le=le.length;De<Le;De++){const Ne=le[De];if(R(Ne,N)){const lt=K.isWebGLCubeRenderTarget?34067:3553,Ke=r.get(Ne).__webglTexture;n.bindTexture(lt,Ke),F(lt),n.unbindTexture()}}}function ut(K){if(a&&K.samples>0&&ht(K)===!1){const N=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],le=K.width,De=K.height;let Le=16384;const Ne=[],lt=K.stencilBuffer?33306:36096,Ke=r.get(K),Re=K.isWebGLMultipleRenderTargets===!0;if(Re)for(let pt=0;pt<N.length;pt++)n.bindFramebuffer(36160,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+pt,36161,null),n.bindFramebuffer(36160,Ke.__webglFramebuffer),t.framebufferTexture2D(36009,36064+pt,3553,null,0);n.bindFramebuffer(36008,Ke.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ke.__webglFramebuffer);for(let pt=0;pt<N.length;pt++){Ne.push(36064+pt),K.depthBuffer&&Ne.push(lt);const Ze=Ke.__ignoreDepthValues!==void 0?Ke.__ignoreDepthValues:!1;if(Ze===!1&&(K.depthBuffer&&(Le|=256),K.stencilBuffer&&(Le|=1024)),Re&&t.framebufferRenderbuffer(36008,36064,36161,Ke.__webglColorRenderbuffer[pt]),Ze===!0&&(t.invalidateFramebuffer(36008,[lt]),t.invalidateFramebuffer(36009,[lt])),Re){const yt=r.get(N[pt]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,yt,0)}t.blitFramebuffer(0,0,le,De,0,0,le,De,Le,9728),g&&t.invalidateFramebuffer(36008,Ne)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Re)for(let pt=0;pt<N.length;pt++){n.bindFramebuffer(36160,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+pt,36161,Ke.__webglColorRenderbuffer[pt]);const Ze=r.get(N[pt]).__webglTexture;n.bindFramebuffer(36160,Ke.__webglFramebuffer),t.framebufferTexture2D(36009,36064+pt,3553,Ze,0)}n.bindFramebuffer(36009,Ke.__webglMultisampledFramebuffer)}}function at(K){return Math.min(h,K.samples)}function ht(K){const N=r.get(K);return a&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function zt(K){const N=o.render.frame;A.get(K)!==N&&(A.set(K,N),K.update())}function Dt(K,N){const le=K.encoding,De=K.format,Le=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===g_||le!==ds&&(le===St?a===!1?e.has("EXT_sRGB")===!0&&De===yr?(K.format=g_,K.minFilter=sn,K.generateMipmaps=!1):N=pB.sRGBToLinear(N):(De!==yr||Le!==Gn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),N}this.allocateTextureUnit=j,this.resetTextureUnits=fe,this.setTexture2D=re,this.setTexture2DArray=pe,this.setTexture3D=te,this.setTextureCube=Se,this.rebindTextures=Ue,this.setupRenderTarget=nt,this.updateRenderTargetMipmap=Je,this.updateMultisampleRenderTarget=ut,this.setupDepthRenderbuffer=we,this.setupFrameBufferTexture=ze,this.useMultisampledRTT=ht}function lN(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Gn)return 5121;if(s===DO)return 32819;if(s===LO)return 32820;if(s===TO)return 5120;if(s===RO)return 5122;if(s===lB)return 5123;if(s===PO)return 5124;if(s===Ul)return 5125;if(s===Ar)return 5126;if(s===To)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===FO)return 6406;if(s===yr)return 6408;if(s===kO)return 6409;if(s===OO)return 6410;if(s===su)return 6402;if(s===Au)return 34041;if(s===g_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===ap)return 6403;if(s===NO)return 36244;if(s===lp)return 33319;if(s===UO)return 33320;if(s===zO)return 36249;if(s===oA||s===R1||s===P1||s===aA)if(o===St)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===oA)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===R1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===P1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===aA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===oA)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===R1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===P1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===aA)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===u_||s===QS||s===d_||s===HS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===u_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===QS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===d_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===HS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===cB)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===f_||s===h_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===f_)return o===St?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===h_)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===p_||s===VS||s===WS||s===jS||s===JS||s===KS||s===$S||s===YS||s===qS||s===XS||s===ZS||s===eb||s===tb||s===nb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===p_)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===VS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===WS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===jS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===JS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===KS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$S)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===YS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===qS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===XS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ZS)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===eb)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===tb)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===nb)return o===St?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===lA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===lA)return o===St?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===GO||s===rb||s===ib||s===sb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===lA)return a.COMPRESSED_RED_RGTC1_EXT;if(s===rb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ib)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===sb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===iu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class cN extends vr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ha extends qt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hK={type:"move"};class FC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ha,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ha,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ha,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),w=this._getHandJoint(c,v);y!==null&&(w.matrix.fromArray(y.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=y.radius),w.visible=y!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=u.position.distanceTo(h.position),g=.02,A=.005;c.inputState.pinching&&p>g+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=g-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(hK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ha;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class _B extends Tn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:su,u!==su&&u!==Au)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===su&&(r=Ul),r===void 0&&u===Au&&(r=iu),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:vn,this.minFilter=l!==void 0?l:vn,this.flipY=!1,this.generateMipmaps=!1}}class pK extends Lo{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,p=null,g=null,A=null;const v=n.getContextAttributes();let y=null,w=null;const x=[],E=[],b=new Set,P=new Map,R=new vr;R.layers.enable(1),R.viewport=new dn;const F=new vr;F.layers.enable(2),F.viewport=new dn;const T=[R,F],O=new cN;O.layers.enable(1),O.layers.enable(2);let U=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let Se=x[te];return Se===void 0&&(Se=new FC,x[te]=Se),Se.getTargetRaySpace()},this.getControllerGrip=function(te){let Se=x[te];return Se===void 0&&(Se=new FC,x[te]=Se),Se.getGripSpace()},this.getHand=function(te){let Se=x[te];return Se===void 0&&(Se=new FC,x[te]=Se),Se.getHandSpace()};function ee(te){const Se=E.indexOf(te.inputSource);if(Se===-1)return;const xe=x[Se];xe!==void 0&&xe.dispatchEvent({type:te.type,data:te.inputSource})}function Z(){i.removeEventListener("select",ee),i.removeEventListener("selectstart",ee),i.removeEventListener("selectend",ee),i.removeEventListener("squeeze",ee),i.removeEventListener("squeezestart",ee),i.removeEventListener("squeezeend",ee),i.removeEventListener("end",Z),i.removeEventListener("inputsourceschange",Y);for(let te=0;te<x.length;te++){const Se=E[te];Se!==null&&(E[te]=null,x[te].disconnect(Se))}U=null,W=null,e.setRenderTarget(y),g=null,p=null,h=null,i=null,w=null,pe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){s=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){a=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(te){c=te},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return h},this.getFrame=function(){return A},this.getSession=function(){return i},this.setSession=async function(te){if(i=te,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",ee),i.addEventListener("selectstart",ee),i.addEventListener("selectend",ee),i.addEventListener("squeeze",ee),i.addEventListener("squeezestart",ee),i.addEventListener("squeezeend",ee),i.addEventListener("end",Z),i.addEventListener("inputsourceschange",Y),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Se={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,Se),i.updateRenderState({baseLayer:g}),w=new Zn(g.framebufferWidth,g.framebufferHeight,{format:yr,type:Gn,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let Se=null,xe=null,ue=null;v.depth&&(ue=v.stencil?35056:33190,Se=v.stencil?Au:su,xe=v.stencil?iu:Ul);const Pe={colorFormat:32856,depthFormat:ue,scaleFactor:s};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(Pe),i.updateRenderState({layers:[p]}),w=new Zn(p.textureWidth,p.textureHeight,{format:yr,type:Gn,depthTexture:new _B(p.textureWidth,p.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const ke=e.properties.get(w);ke.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),pe.setContext(i),pe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function Y(te){for(let Se=0;Se<te.removed.length;Se++){const xe=te.removed[Se],ue=E.indexOf(xe);ue>=0&&(E[ue]=null,x[ue].disconnect(xe))}for(let Se=0;Se<te.added.length;Se++){const xe=te.added[Se];let ue=E.indexOf(xe);if(ue===-1){for(let ke=0;ke<x.length;ke++)if(ke>=E.length){E.push(xe),ue=ke;break}else if(E[ke]===null){E[ke]=xe,ue=ke;break}if(ue===-1)break}const Pe=x[ue];Pe&&Pe.connect(xe)}}const q=new H,de=new H;function fe(te,Se,xe){q.setFromMatrixPosition(Se.matrixWorld),de.setFromMatrixPosition(xe.matrixWorld);const ue=q.distanceTo(de),Pe=Se.projectionMatrix.elements,ke=xe.projectionMatrix.elements,je=Pe[14]/(Pe[10]-1),Ye=Pe[14]/(Pe[10]+1),ze=(Pe[9]+1)/Pe[5],Fe=(Pe[9]-1)/Pe[5],Me=(Pe[8]-1)/Pe[0],we=(ke[8]+1)/ke[0],Ue=je*Me,nt=je*we,Je=ue/(-Me+we),ut=Je*-Me;Se.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(ut),te.translateZ(Je),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert();const at=je+Je,ht=Ye+Je,zt=Ue-ut,Dt=nt+(ue-ut),K=ze*Ye/ht*at,N=Fe*Ye/ht*at;te.projectionMatrix.makePerspective(zt,Dt,K,N,at,ht)}function j(te,Se){Se===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(Se.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(i===null)return;O.near=F.near=R.near=te.near,O.far=F.far=R.far=te.far,(U!==O.near||W!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),U=O.near,W=O.far);const Se=te.parent,xe=O.cameras;j(O,Se);for(let Pe=0;Pe<xe.length;Pe++)j(xe[Pe],Se);O.matrixWorld.decompose(O.position,O.quaternion,O.scale),te.matrix.copy(O.matrix),te.matrix.decompose(te.position,te.quaternion,te.scale);const ue=te.children;for(let Pe=0,ke=ue.length;Pe<ke;Pe++)ue[Pe].updateMatrixWorld(!0);xe.length===2?fe(O,R,F):O.projectionMatrix.copy(R.projectionMatrix)},this.getCamera=function(){return O},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(te){l=te,p!==null&&(p.fixedFoveation=te),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=te)},this.getPlanes=function(){return b};let ne=null;function re(te,Se){if(u=Se.getViewerPose(c||o),A=Se,u!==null){const xe=u.views;g!==null&&(e.setRenderTargetFramebuffer(w,g.framebuffer),e.setRenderTarget(w));let ue=!1;xe.length!==O.cameras.length&&(O.cameras.length=0,ue=!0);for(let Pe=0;Pe<xe.length;Pe++){const ke=xe[Pe];let je=null;if(g!==null)je=g.getViewport(ke);else{const ze=h.getViewSubImage(p,ke);je=ze.viewport,Pe===0&&(e.setRenderTargetTextures(w,ze.colorTexture,p.ignoreDepthValues?void 0:ze.depthStencilTexture),e.setRenderTarget(w))}let Ye=T[Pe];Ye===void 0&&(Ye=new vr,Ye.layers.enable(Pe),Ye.viewport=new dn,T[Pe]=Ye),Ye.matrix.fromArray(ke.transform.matrix),Ye.projectionMatrix.fromArray(ke.projectionMatrix),Ye.viewport.set(je.x,je.y,je.width,je.height),Pe===0&&O.matrix.copy(Ye.matrix),ue===!0&&O.cameras.push(Ye)}}for(let xe=0;xe<x.length;xe++){const ue=E[xe],Pe=x[xe];ue!==null&&Pe!==void 0&&Pe.update(ue,Se,c||o)}if(ne&&ne(te,Se),Se.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:Se.detectedPlanes});let xe=null;for(const ue of b)Se.detectedPlanes.has(ue)||(xe===null&&(xe=[]),xe.push(ue));if(xe!==null)for(const ue of xe)b.delete(ue),P.delete(ue),r.dispatchEvent({type:"planeremoved",data:ue});for(const ue of Se.detectedPlanes)if(!b.has(ue))b.add(ue),P.set(ue,Se.lastChangedTime),r.dispatchEvent({type:"planeadded",data:ue});else{const Pe=P.get(ue);ue.lastChangedTime>Pe&&(P.set(ue,ue.lastChangedTime),r.dispatchEvent({type:"planechanged",data:ue}))}}A=null}const pe=new rN;pe.setAnimationLoop(re),this.setAnimationLoop=function(te){ne=te},this.dispose=function(){}}}function mK(t,e){function n(v,y){y.color.getRGB(v.fogColor.value,ZO(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,w,x,E){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),h(v,y),y.isMeshPhysicalMaterial&&p(v,y,E)):y.isMeshMatcapMaterial?(i(v,y),g(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),A(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,w,x):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===li&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===li&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const w=e.get(y).envMap;if(w&&(v.envMap.value=w,v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const b=t.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*b}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let x;y.map?x=y.map:y.specularMap?x=y.specularMap:y.displacementMap?x=y.displacementMap:y.normalMap?x=y.normalMap:y.bumpMap?x=y.bumpMap:y.roughnessMap?x=y.roughnessMap:y.metalnessMap?x=y.metalnessMap:y.alphaMap?x=y.alphaMap:y.emissiveMap?x=y.emissiveMap:y.clearcoatMap?x=y.clearcoatMap:y.clearcoatNormalMap?x=y.clearcoatNormalMap:y.clearcoatRoughnessMap?x=y.clearcoatRoughnessMap:y.iridescenceMap?x=y.iridescenceMap:y.iridescenceThicknessMap?x=y.iridescenceThicknessMap:y.specularIntensityMap?x=y.specularIntensityMap:y.specularColorMap?x=y.specularColorMap:y.transmissionMap?x=y.transmissionMap:y.thicknessMap?x=y.thicknessMap:y.sheenColorMap?x=y.sheenColorMap:y.sheenRoughnessMap&&(x=y.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix));let E;y.aoMap?E=y.aoMap:y.lightMap&&(E=y.lightMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),v.uv2Transform.value.copy(E.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,w,x){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*w,v.scale.value=x*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let E;y.map?E=y.map:y.alphaMap&&(E=y.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),v.uvTransform.value.copy(E.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function h(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function p(v,y,w){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===li&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function g(v,y){y.matcap&&(v.matcap.value=y.matcap)}function A(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function gK(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(x,E){const b=E.program;r.uniformBlockBinding(x,b)}function c(x,E){let b=i[x.id];b===void 0&&(A(x),b=u(x),i[x.id]=b,x.addEventListener("dispose",y));const P=E.program;r.updateUBOMapping(x,P);const R=e.render.frame;s[x.id]!==R&&(p(x),s[x.id]=R)}function u(x){const E=h();x.__bindingPointIndex=E;const b=t.createBuffer(),P=x.__size,R=x.usage;return t.bindBuffer(35345,b),t.bufferData(35345,P,R),t.bindBuffer(35345,null),t.bindBufferBase(35345,E,b),b}function h(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const E=i[x.id],b=x.uniforms,P=x.__cache;t.bindBuffer(35345,E);for(let R=0,F=b.length;R<F;R++){const T=b[R];if(g(T,R,P)===!0){const O=T.__offset,U=Array.isArray(T.value)?T.value:[T.value];let W=0;for(let ee=0;ee<U.length;ee++){const Z=U[ee],Y=v(Z);typeof Z=="number"?(T.__data[0]=Z,t.bufferSubData(35345,O+W,T.__data)):Z.isMatrix3?(T.__data[0]=Z.elements[0],T.__data[1]=Z.elements[1],T.__data[2]=Z.elements[2],T.__data[3]=Z.elements[0],T.__data[4]=Z.elements[3],T.__data[5]=Z.elements[4],T.__data[6]=Z.elements[5],T.__data[7]=Z.elements[0],T.__data[8]=Z.elements[6],T.__data[9]=Z.elements[7],T.__data[10]=Z.elements[8],T.__data[11]=Z.elements[0]):(Z.toArray(T.__data,W),W+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,O,T.__data)}}t.bindBuffer(35345,null)}function g(x,E,b){const P=x.value;if(b[E]===void 0){if(typeof P=="number")b[E]=P;else{const R=Array.isArray(P)?P:[P],F=[];for(let T=0;T<R.length;T++)F.push(R[T].clone());b[E]=F}return!0}else if(typeof P=="number"){if(b[E]!==P)return b[E]=P,!0}else{const R=Array.isArray(b[E])?b[E]:[b[E]],F=Array.isArray(P)?P:[P];for(let T=0;T<R.length;T++){const O=R[T];if(O.equals(F[T])===!1)return O.copy(F[T]),!0}}return!1}function A(x){const E=x.uniforms;let b=0;const P=16;let R=0;for(let F=0,T=E.length;F<T;F++){const O=E[F],U={boundary:0,storage:0},W=Array.isArray(O.value)?O.value:[O.value];for(let ee=0,Z=W.length;ee<Z;ee++){const Y=W[ee],q=v(Y);U.boundary+=q.boundary,U.storage+=q.storage}if(O.__data=new Float32Array(U.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=b,F>0){R=b%P;const ee=P-R;R!==0&&ee-U.boundary<0&&(b+=P-R,O.__offset=b)}b+=U.storage}return R=b%P,R>0&&(b+=P-R),x.__size=b,x.__cache={},this}function v(x){const E={boundary:0,storage:0};return typeof x=="number"?(E.boundary=4,E.storage=4):x.isVector2?(E.boundary=8,E.storage=8):x.isVector3||x.isColor?(E.boundary=16,E.storage=12):x.isVector4?(E.boundary=16,E.storage=16):x.isMatrix3?(E.boundary=48,E.storage=48):x.isMatrix4?(E.boundary=64,E.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),E}function y(x){const E=x.target;E.removeEventListener("dispose",y);const b=o.indexOf(E.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function w(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:w}}function AK(){const t=jA("canvas");return t.style.display="block",t}function fx(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:AK(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let h=null,p=null;const g=[],A=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ds,this.useLegacyLights=!0,this.toneMapping=na,this.toneMappingExposure=1;const v=this;let y=!1,w=0,x=0,E=null,b=-1,P=null;const R=new dn,F=new dn;let T=null,O=e.width,U=e.height,W=1,ee=null,Z=null;const Y=new dn(0,0,O,U),q=new dn(0,0,O,U);let de=!1;const fe=new ux;let j=!1,ne=!1,re=null;const pe=new It,te=new H,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return E===null?W:1}let ue=n;function Pe(J,Ae){for(let Ie=0;Ie<J.length;Ie++){const he=J[Ie],Te=e.getContext(he,Ae);if(Te!==null)return Te}return null}try{const J={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${nc}`),e.addEventListener("webglcontextlost",yt,!1),e.addEventListener("webglcontextrestored",gt,!1),e.addEventListener("webglcontextcreationerror",dt,!1),ue===null){const Ae=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Ae.shift(),ue=Pe(Ae,J),ue===null)throw Pe(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ue.getShaderPrecisionFormat===void 0&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let ke,je,Ye,ze,Fe,Me,we,Ue,nt,Je,ut,at,ht,zt,Dt,K,N,le,De,Le,Ne,lt,Ke,Re;function pt(){ke=new Dj(ue),je=new Ij(ue,ke,t),ke.init(je),lt=new lN(ue,ke,je),Ye=new dK(ue,ke,je),ze=new kj,Fe=new ZJ,Me=new fK(ue,ke,Ye,Fe,je,lt,ze),we=new Mj(v),Ue=new Pj(v),nt=new WV(ue,je),Ke=new Sj(ue,ke,nt,je),Je=new Lj(ue,nt,ze,Ke),ut=new zj(ue,Je,nt,ze),De=new Uj(ue,je,Me),K=new Bj(Fe),at=new XJ(v,we,Ue,ke,je,Ke,K),ht=new mK(v,Fe),zt=new tK,Dt=new aK(ke,je),le=new Ej(v,we,Ue,Ye,ut,u,o),N=new uK(v,ut,je),Re=new gK(ue,ze,je,Ye),Le=new bj(ue,ke,ze,je),Ne=new Fj(ue,ke,ze,je),ze.programs=at.programs,v.capabilities=je,v.extensions=ke,v.properties=Fe,v.renderLists=zt,v.shadowMap=N,v.state=Ye,v.info=ze}pt();const Ze=new pK(v,ue);this.xr=Ze,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){const J=ke.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=ke.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(J){J!==void 0&&(W=J,this.setSize(O,U,!1))},this.getSize=function(J){return J.set(O,U)},this.setSize=function(J,Ae,Ie=!0){if(Ze.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=J,U=Ae,e.width=Math.floor(J*W),e.height=Math.floor(Ae*W),Ie===!0&&(e.style.width=J+"px",e.style.height=Ae+"px"),this.setViewport(0,0,J,Ae)},this.getDrawingBufferSize=function(J){return J.set(O*W,U*W).floor()},this.setDrawingBufferSize=function(J,Ae,Ie){O=J,U=Ae,W=Ie,e.width=Math.floor(J*Ie),e.height=Math.floor(Ae*Ie),this.setViewport(0,0,J,Ae)},this.getCurrentViewport=function(J){return J.copy(R)},this.getViewport=function(J){return J.copy(Y)},this.setViewport=function(J,Ae,Ie,he){J.isVector4?Y.set(J.x,J.y,J.z,J.w):Y.set(J,Ae,Ie,he),Ye.viewport(R.copy(Y).multiplyScalar(W).floor())},this.getScissor=function(J){return J.copy(q)},this.setScissor=function(J,Ae,Ie,he){J.isVector4?q.set(J.x,J.y,J.z,J.w):q.set(J,Ae,Ie,he),Ye.scissor(F.copy(q).multiplyScalar(W).floor())},this.getScissorTest=function(){return de},this.setScissorTest=function(J){Ye.setScissorTest(de=J)},this.setOpaqueSort=function(J){ee=J},this.setTransparentSort=function(J){Z=J},this.getClearColor=function(J){return J.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(J=!0,Ae=!0,Ie=!0){let he=0;J&&(he|=16384),Ae&&(he|=256),Ie&&(he|=1024),ue.clear(he)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",yt,!1),e.removeEventListener("webglcontextrestored",gt,!1),e.removeEventListener("webglcontextcreationerror",dt,!1),zt.dispose(),Dt.dispose(),Fe.dispose(),we.dispose(),Ue.dispose(),ut.dispose(),Ke.dispose(),Re.dispose(),at.dispose(),Ze.dispose(),Ze.removeEventListener("sessionstart",Oe),Ze.removeEventListener("sessionend",rt),re&&(re.dispose(),re=null),st.stop()};function yt(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function gt(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const J=ze.autoReset,Ae=N.enabled,Ie=N.autoUpdate,he=N.needsUpdate,Te=N.type;pt(),ze.autoReset=J,N.enabled=Ae,N.autoUpdate=Ie,N.needsUpdate=he,N.type=Te}function dt(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function Gt(J){const Ae=J.target;Ae.removeEventListener("dispose",Gt),on(Ae)}function on(J){Sn(J),Fe.remove(J)}function Sn(J){const Ae=Fe.get(J).programs;Ae!==void 0&&(Ae.forEach(function(Ie){at.releaseProgram(Ie)}),J.isShaderMaterial&&at.releaseShaderCache(J))}this.renderBufferDirect=function(J,Ae,Ie,he,Te,_t){Ae===null&&(Ae=Se);const xt=Te.isMesh&&Te.matrixWorld.determinant()<0,Ot=Fu(J,Ae,Ie,he,Te);Ye.setMaterial(he,xt);let Pt=Ie.index,Yt=1;he.wireframe===!0&&(Pt=Je.getWireframeAttribute(Ie),Yt=2);const Nt=Ie.drawRange,jt=Ie.attributes.position;let Dn=Nt.start*Yt,Hr=(Nt.start+Nt.count)*Yt;_t!==null&&(Dn=Math.max(Dn,_t.start*Yt),Hr=Math.min(Hr,(_t.start+_t.count)*Yt)),Pt!==null?(Dn=Math.max(Dn,0),Hr=Math.min(Hr,Pt.count)):jt!=null&&(Dn=Math.max(Dn,0),Hr=Math.min(Hr,jt.count));const ji=Hr-Dn;if(ji<0||ji===1/0)return;Ke.setup(Te,he,Ot,Ie,Pt);let Us,Ln=Le;if(Pt!==null&&(Us=nt.get(Pt),Ln=Ne,Ln.setIndex(Us)),Te.isMesh)he.wireframe===!0?(Ye.setLineWidth(he.wireframeLinewidth*xe()),Ln.setMode(1)):Ln.setMode(4);else if(Te.isLine){let Qt=he.linewidth;Qt===void 0&&(Qt=1),Ye.setLineWidth(Qt*xe()),Te.isLineSegments?Ln.setMode(1):Te.isLineLoop?Ln.setMode(2):Ln.setMode(3)}else Te.isPoints?Ln.setMode(0):Te.isSprite&&Ln.setMode(4);if(Te.isInstancedMesh)Ln.renderInstances(Dn,ji,Te.count);else if(Ie.isInstancedBufferGeometry){const Qt=Ie._maxInstanceCount!==void 0?Ie._maxInstanceCount:1/0,zs=Math.min(Ie.instanceCount,Qt);Ln.renderInstances(Dn,ji,zs)}else Ln.render(Dn,ji)},this.compile=function(J,Ae){function Ie(he,Te,_t){he.transparent===!0&&he.side===as&&he.forceSinglePass===!1?(he.side=li,he.needsUpdate=!0,Qr(he,Te,_t),he.side=ia,he.needsUpdate=!0,Qr(he,Te,_t),he.side=as):Qr(he,Te,_t)}p=Dt.get(J),p.init(),A.push(p),J.traverseVisible(function(he){he.isLight&&he.layers.test(Ae.layers)&&(p.pushLight(he),he.castShadow&&p.pushShadow(he))}),p.setupLights(v.useLegacyLights),J.traverse(function(he){const Te=he.material;if(Te)if(Array.isArray(Te))for(let _t=0;_t<Te.length;_t++){const xt=Te[_t];Ie(xt,J,he)}else Ie(Te,J,he)}),A.pop(),p=null};let ae=null;function be(J){ae&&ae(J)}function Oe(){st.stop()}function rt(){st.start()}const st=new rN;st.setAnimationLoop(be),typeof self<"u"&&st.setContext(self),this.setAnimationLoop=function(J){ae=J,Ze.setAnimationLoop(J),J===null?st.stop():st.start()},Ze.addEventListener("sessionstart",Oe),Ze.addEventListener("sessionend",rt),this.render=function(J,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),Ze.enabled===!0&&Ze.isPresenting===!0&&(Ze.cameraAutoUpdate===!0&&Ze.updateCamera(Ae),Ae=Ze.getCamera()),J.isScene===!0&&J.onBeforeRender(v,J,Ae,E),p=Dt.get(J,A.length),p.init(),A.push(p),pe.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),fe.setFromProjectionMatrix(pe),ne=this.localClippingEnabled,j=K.init(this.clippingPlanes,ne),h=zt.get(J,g.length),h.init(),g.push(h),hn(J,Ae,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(ee,Z),j===!0&&K.beginShadows();const Ie=p.state.shadowsArray;if(N.render(Ie,J,Ae),j===!0&&K.endShadows(),this.info.autoReset===!0&&this.info.reset(),le.render(h,J),p.setupLights(v.useLegacyLights),Ae.isArrayCamera){const he=Ae.cameras;for(let Te=0,_t=he.length;Te<_t;Te++){const xt=he[Te];Vn(h,J,xt,xt.viewport)}}else Vn(h,J,Ae);E!==null&&(Me.updateMultisampleRenderTarget(E),Me.updateRenderTargetMipmap(E)),J.isScene===!0&&J.onAfterRender(v,J,Ae),Ke.resetDefaultState(),b=-1,P=null,A.pop(),A.length>0?p=A[A.length-1]:p=null,g.pop(),g.length>0?h=g[g.length-1]:h=null};function hn(J,Ae,Ie,he){if(J.visible===!1)return;if(J.layers.test(Ae.layers)){if(J.isGroup)Ie=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(Ae);else if(J.isLight)p.pushLight(J),J.castShadow&&p.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||fe.intersectsSprite(J)){he&&te.setFromMatrixPosition(J.matrixWorld).applyMatrix4(pe);const xt=ut.update(J),Ot=J.material;Ot.visible&&h.push(J,xt,Ot,Ie,te.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==ze.render.frame&&(J.skeleton.update(),J.skeleton.frame=ze.render.frame),!J.frustumCulled||fe.intersectsObject(J))){he&&te.setFromMatrixPosition(J.matrixWorld).applyMatrix4(pe);const xt=ut.update(J),Ot=J.material;if(Array.isArray(Ot)){const Pt=xt.groups;for(let Yt=0,Nt=Pt.length;Yt<Nt;Yt++){const jt=Pt[Yt],Dn=Ot[jt.materialIndex];Dn&&Dn.visible&&h.push(J,xt,Dn,Ie,te.z,jt)}}else Ot.visible&&h.push(J,xt,Ot,Ie,te.z,null)}}const _t=J.children;for(let xt=0,Ot=_t.length;xt<Ot;xt++)hn(_t[xt],Ae,Ie,he)}function Vn(J,Ae,Ie,he){const Te=J.opaque,_t=J.transmissive,xt=J.transparent;p.setupLightsView(Ie),j===!0&&K.setGlobalState(v.clippingPlanes,Ie),_t.length>0&&xr(Te,Ae,Ie),he&&Ye.viewport(R.copy(he)),Te.length>0&&er(Te,Ae,Ie),_t.length>0&&er(_t,Ae,Ie),xt.length>0&&er(xt,Ae,Ie),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function xr(J,Ae,Ie){const he=je.isWebGL2;re===null&&(re=new Zn(1024,1024,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?To:Gn,minFilter:Do,samples:he&&s===!0?4:0}));const Te=v.getRenderTarget();v.setRenderTarget(re),v.clear();const _t=v.toneMapping;v.toneMapping=na,er(J,Ae,Ie),v.toneMapping=_t,Me.updateMultisampleRenderTarget(re),Me.updateRenderTargetMipmap(re),v.setRenderTarget(Te)}function er(J,Ae,Ie){const he=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Te=0,_t=J.length;Te<_t;Te++){const xt=J[Te],Ot=xt.object,Pt=xt.geometry,Yt=he===null?xt.material:he,Nt=xt.group;Ot.layers.test(Ie.layers)&&bn(Ot,Ae,Ie,Pt,Yt,Nt)}}function bn(J,Ae,Ie,he,Te,_t){J.onBeforeRender(v,Ae,Ie,he,Te,_t),J.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Te.onBeforeRender(v,Ae,Ie,he,J,_t),Te.transparent===!0&&Te.side===as&&Te.forceSinglePass===!1?(Te.side=li,Te.needsUpdate=!0,v.renderBufferDirect(Ie,Ae,he,Te,J,_t),Te.side=ia,Te.needsUpdate=!0,v.renderBufferDirect(Ie,Ae,he,Te,J,_t),Te.side=as):v.renderBufferDirect(Ie,Ae,he,Te,J,_t),J.onAfterRender(v,Ae,Ie,he,Te,_t)}function Qr(J,Ae,Ie){Ae.isScene!==!0&&(Ae=Se);const he=Fe.get(J),Te=p.state.lights,_t=p.state.shadowsArray,xt=Te.state.version,Ot=at.getParameters(J,Te.state,_t,Ae,Ie),Pt=at.getProgramCacheKey(Ot);let Yt=he.programs;he.environment=J.isMeshStandardMaterial?Ae.environment:null,he.fog=Ae.fog,he.envMap=(J.isMeshStandardMaterial?Ue:we).get(J.envMap||he.environment),Yt===void 0&&(J.addEventListener("dispose",Gt),Yt=new Map,he.programs=Yt);let Nt=Yt.get(Pt);if(Nt!==void 0){if(he.currentProgram===Nt&&he.lightsStateVersion===xt)return wi(J,Ot),Nt}else Ot.uniforms=at.getUniforms(J),J.onBuild(Ie,Ot,v),J.onBeforeCompile(Ot,v),Nt=at.acquireProgram(Ot,Pt),Yt.set(Pt,Nt),he.uniforms=Ot.uniforms;const jt=he.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(jt.clippingPlanes=K.uniform),wi(J,Ot),he.needsLights=oc(J),he.lightsStateVersion=xt,he.needsLights&&(jt.ambientLightColor.value=Te.state.ambient,jt.lightProbe.value=Te.state.probe,jt.directionalLights.value=Te.state.directional,jt.directionalLightShadows.value=Te.state.directionalShadow,jt.spotLights.value=Te.state.spot,jt.spotLightShadows.value=Te.state.spotShadow,jt.rectAreaLights.value=Te.state.rectArea,jt.ltc_1.value=Te.state.rectAreaLTC1,jt.ltc_2.value=Te.state.rectAreaLTC2,jt.pointLights.value=Te.state.point,jt.pointLightShadows.value=Te.state.pointShadow,jt.hemisphereLights.value=Te.state.hemi,jt.directionalShadowMap.value=Te.state.directionalShadowMap,jt.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,jt.spotShadowMap.value=Te.state.spotShadowMap,jt.spotLightMatrix.value=Te.state.spotLightMatrix,jt.spotLightMap.value=Te.state.spotLightMap,jt.pointShadowMap.value=Te.state.pointShadowMap,jt.pointShadowMatrix.value=Te.state.pointShadowMatrix);const Dn=Nt.getUniforms(),Hr=F1.seqWithValue(Dn.seq,jt);return he.currentProgram=Nt,he.uniformsList=Hr,Nt}function wi(J,Ae){const Ie=Fe.get(J);Ie.outputEncoding=Ae.outputEncoding,Ie.instancing=Ae.instancing,Ie.skinning=Ae.skinning,Ie.morphTargets=Ae.morphTargets,Ie.morphNormals=Ae.morphNormals,Ie.morphColors=Ae.morphColors,Ie.morphTargetsCount=Ae.morphTargetsCount,Ie.numClippingPlanes=Ae.numClippingPlanes,Ie.numIntersection=Ae.numClipIntersection,Ie.vertexAlphas=Ae.vertexAlphas,Ie.vertexTangents=Ae.vertexTangents,Ie.toneMapping=Ae.toneMapping}function Fu(J,Ae,Ie,he,Te){Ae.isScene!==!0&&(Ae=Se),Me.resetTextureUnits();const _t=Ae.fog,xt=he.isMeshStandardMaterial?Ae.environment:null,Ot=E===null?v.outputEncoding:E.isXRRenderTarget===!0?E.texture.encoding:ds,Pt=(he.isMeshStandardMaterial?Ue:we).get(he.envMap||xt),Yt=he.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,Nt=!!he.normalMap&&!!Ie.attributes.tangent,jt=!!Ie.morphAttributes.position,Dn=!!Ie.morphAttributes.normal,Hr=!!Ie.morphAttributes.color,ji=he.toneMapped?v.toneMapping:na,Us=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,Ln=Us!==void 0?Us.length:0,Qt=Fe.get(he),zs=p.state.lights;if(j===!0&&(ne===!0||J!==P)){const kn=J===P&&he.id===b;K.setState(he,J,kn)}let Fn=!1;he.version===Qt.__version?(Qt.needsLights&&Qt.lightsStateVersion!==zs.state.version||Qt.outputEncoding!==Ot||Te.isInstancedMesh&&Qt.instancing===!1||!Te.isInstancedMesh&&Qt.instancing===!0||Te.isSkinnedMesh&&Qt.skinning===!1||!Te.isSkinnedMesh&&Qt.skinning===!0||Qt.envMap!==Pt||he.fog===!0&&Qt.fog!==_t||Qt.numClippingPlanes!==void 0&&(Qt.numClippingPlanes!==K.numPlanes||Qt.numIntersection!==K.numIntersection)||Qt.vertexAlphas!==Yt||Qt.vertexTangents!==Nt||Qt.morphTargets!==jt||Qt.morphNormals!==Dn||Qt.morphColors!==Hr||Qt.toneMapping!==ji||je.isWebGL2===!0&&Qt.morphTargetsCount!==Ln)&&(Fn=!0):(Fn=!0,Qt.__version=he.version);let Ji=Qt.currentProgram;Fn===!0&&(Ji=Qr(he,Ae,Te));let Gs=!1,Qs=!1,ps=!1;const In=Ji.getUniforms(),Ht=Qt.uniforms;if(Ye.useProgram(Ji.program)&&(Gs=!0,Qs=!0,ps=!0),he.id!==b&&(b=he.id,Qs=!0),Gs||P!==J){if(In.setValue(ue,"projectionMatrix",J.projectionMatrix),je.logarithmicDepthBuffer&&In.setValue(ue,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),P!==J&&(P=J,Qs=!0,ps=!0),he.isShaderMaterial||he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshStandardMaterial||he.envMap){const kn=In.map.cameraPosition;kn!==void 0&&kn.setValue(ue,te.setFromMatrixPosition(J.matrixWorld))}(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial)&&In.setValue(ue,"isOrthographic",J.isOrthographicCamera===!0),(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial||he.isShadowMaterial||Te.isSkinnedMesh)&&In.setValue(ue,"viewMatrix",J.matrixWorldInverse)}if(Te.isSkinnedMesh){In.setOptional(ue,Te,"bindMatrix"),In.setOptional(ue,Te,"bindMatrixInverse");const kn=Te.skeleton;kn&&(je.floatVertexTextures?(kn.boneTexture===null&&kn.computeBoneTexture(),In.setValue(ue,"boneTexture",kn.boneTexture,Me),In.setValue(ue,"boneTextureSize",kn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const tn=Ie.morphAttributes;if((tn.position!==void 0||tn.normal!==void 0||tn.color!==void 0&&je.isWebGL2===!0)&&De.update(Te,Ie,Ji),(Qs||Qt.receiveShadow!==Te.receiveShadow)&&(Qt.receiveShadow=Te.receiveShadow,In.setValue(ue,"receiveShadow",Te.receiveShadow)),he.isMeshGouraudMaterial&&he.envMap!==null&&(Ht.envMap.value=Pt,Ht.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),Qs&&(In.setValue(ue,"toneMappingExposure",v.toneMappingExposure),Qt.needsLights&&ku(Ht,ps),_t&&he.fog===!0&&ht.refreshFogUniforms(Ht,_t),ht.refreshMaterialUniforms(Ht,he,W,U,re),F1.upload(ue,Qt.uniformsList,Ht,Me)),he.isShaderMaterial&&he.uniformsNeedUpdate===!0&&(F1.upload(ue,Qt.uniformsList,Ht,Me),he.uniformsNeedUpdate=!1),he.isSpriteMaterial&&In.setValue(ue,"center",Te.center),In.setValue(ue,"modelViewMatrix",Te.modelViewMatrix),In.setValue(ue,"normalMatrix",Te.normalMatrix),In.setValue(ue,"modelMatrix",Te.matrixWorld),he.isShaderMaterial||he.isRawShaderMaterial){const kn=he.uniformsGroups;for(let Kn=0,Tr=kn.length;Kn<Tr;Kn++)if(je.isWebGL2){const Vr=kn[Kn];Re.update(Vr,Ji),Re.bind(Vr,Ji)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ji}function ku(J,Ae){J.ambientLightColor.needsUpdate=Ae,J.lightProbe.needsUpdate=Ae,J.directionalLights.needsUpdate=Ae,J.directionalLightShadows.needsUpdate=Ae,J.pointLights.needsUpdate=Ae,J.pointLightShadows.needsUpdate=Ae,J.spotLights.needsUpdate=Ae,J.spotLightShadows.needsUpdate=Ae,J.rectAreaLights.needsUpdate=Ae,J.hemisphereLights.needsUpdate=Ae}function oc(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(J,Ae,Ie){Fe.get(J.texture).__webglTexture=Ae,Fe.get(J.depthTexture).__webglTexture=Ie;const he=Fe.get(J);he.__hasExternalTextures=!0,he.__hasExternalTextures&&(he.__autoAllocateDepthBuffer=Ie===void 0,he.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),he.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,Ae){const Ie=Fe.get(J);Ie.__webglFramebuffer=Ae,Ie.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function(J,Ae=0,Ie=0){E=J,w=Ae,x=Ie;let he=!0,Te=null,_t=!1,xt=!1;if(J){const Pt=Fe.get(J);Pt.__useDefaultFramebuffer!==void 0?(Ye.bindFramebuffer(36160,null),he=!1):Pt.__webglFramebuffer===void 0?Me.setupRenderTarget(J):Pt.__hasExternalTextures&&Me.rebindTextures(J,Fe.get(J.texture).__webglTexture,Fe.get(J.depthTexture).__webglTexture);const Yt=J.texture;(Yt.isData3DTexture||Yt.isDataArrayTexture||Yt.isCompressedArrayTexture)&&(xt=!0);const Nt=Fe.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Te=Nt[Ae],_t=!0):je.isWebGL2&&J.samples>0&&Me.useMultisampledRTT(J)===!1?Te=Fe.get(J).__webglMultisampledFramebuffer:Te=Nt,R.copy(J.viewport),F.copy(J.scissor),T=J.scissorTest}else R.copy(Y).multiplyScalar(W).floor(),F.copy(q).multiplyScalar(W).floor(),T=de;if(Ye.bindFramebuffer(36160,Te)&&je.drawBuffers&&he&&Ye.drawBuffers(J,Te),Ye.viewport(R),Ye.scissor(F),Ye.setScissorTest(T),_t){const Pt=Fe.get(J.texture);ue.framebufferTexture2D(36160,36064,34069+Ae,Pt.__webglTexture,Ie)}else if(xt){const Pt=Fe.get(J.texture),Yt=Ae||0;ue.framebufferTextureLayer(36160,36064,Pt.__webglTexture,Ie||0,Yt)}b=-1},this.readRenderTargetPixels=function(J,Ae,Ie,he,Te,_t,xt){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ot=Fe.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&xt!==void 0&&(Ot=Ot[xt]),Ot){Ye.bindFramebuffer(36160,Ot);try{const Pt=J.texture,Yt=Pt.format,Nt=Pt.type;if(Yt!==yr&&lt.convert(Yt)!==ue.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const jt=Nt===To&&(ke.has("EXT_color_buffer_half_float")||je.isWebGL2&&ke.has("EXT_color_buffer_float"));if(Nt!==Gn&&lt.convert(Nt)!==ue.getParameter(35738)&&!(Nt===Ar&&(je.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!jt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=J.width-he&&Ie>=0&&Ie<=J.height-Te&&ue.readPixels(Ae,Ie,he,Te,lt.convert(Yt),lt.convert(Nt),_t)}finally{const Pt=E!==null?Fe.get(E).__webglFramebuffer:null;Ye.bindFramebuffer(36160,Pt)}}},this.copyFramebufferToTexture=function(J,Ae,Ie=0){const he=Math.pow(2,-Ie),Te=Math.floor(Ae.image.width*he),_t=Math.floor(Ae.image.height*he);Me.setTexture2D(Ae,0),ue.copyTexSubImage2D(3553,Ie,0,0,J.x,J.y,Te,_t),Ye.unbindTexture()},this.copyTextureToTexture=function(J,Ae,Ie,he=0){const Te=Ae.image.width,_t=Ae.image.height,xt=lt.convert(Ie.format),Ot=lt.convert(Ie.type);Me.setTexture2D(Ie,0),ue.pixelStorei(37440,Ie.flipY),ue.pixelStorei(37441,Ie.premultiplyAlpha),ue.pixelStorei(3317,Ie.unpackAlignment),Ae.isDataTexture?ue.texSubImage2D(3553,he,J.x,J.y,Te,_t,xt,Ot,Ae.image.data):Ae.isCompressedTexture?ue.compressedTexSubImage2D(3553,he,J.x,J.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,xt,Ae.mipmaps[0].data):ue.texSubImage2D(3553,he,J.x,J.y,xt,Ot,Ae.image),he===0&&Ie.generateMipmaps&&ue.generateMipmap(3553),Ye.unbindTexture()},this.copyTextureToTexture3D=function(J,Ae,Ie,he,Te=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const _t=J.max.x-J.min.x+1,xt=J.max.y-J.min.y+1,Ot=J.max.z-J.min.z+1,Pt=lt.convert(he.format),Yt=lt.convert(he.type);let Nt;if(he.isData3DTexture)Me.setTexture3D(he,0),Nt=32879;else if(he.isDataArrayTexture)Me.setTexture2DArray(he,0),Nt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ue.pixelStorei(37440,he.flipY),ue.pixelStorei(37441,he.premultiplyAlpha),ue.pixelStorei(3317,he.unpackAlignment);const jt=ue.getParameter(3314),Dn=ue.getParameter(32878),Hr=ue.getParameter(3316),ji=ue.getParameter(3315),Us=ue.getParameter(32877),Ln=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;ue.pixelStorei(3314,Ln.width),ue.pixelStorei(32878,Ln.height),ue.pixelStorei(3316,J.min.x),ue.pixelStorei(3315,J.min.y),ue.pixelStorei(32877,J.min.z),Ie.isDataTexture||Ie.isData3DTexture?ue.texSubImage3D(Nt,Te,Ae.x,Ae.y,Ae.z,_t,xt,Ot,Pt,Yt,Ln.data):Ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ue.compressedTexSubImage3D(Nt,Te,Ae.x,Ae.y,Ae.z,_t,xt,Ot,Pt,Ln.data)):ue.texSubImage3D(Nt,Te,Ae.x,Ae.y,Ae.z,_t,xt,Ot,Pt,Yt,Ln),ue.pixelStorei(3314,jt),ue.pixelStorei(32878,Dn),ue.pixelStorei(3316,Hr),ue.pixelStorei(3315,ji),ue.pixelStorei(32877,Us),Te===0&&he.generateMipmaps&&ue.generateMipmap(Nt),Ye.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?Me.setTextureCube(J,0):J.isData3DTexture?Me.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?Me.setTexture2DArray(J,0):Me.setTexture2D(J,0),Ye.unbindTexture()},this.resetState=function(){w=0,x=0,E=null,Ye.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(fx.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}}});class uN extends fx{}uN.prototype.isWebGL1Renderer=!0;class hx{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ve(e),this.density=n}clone(){return new hx(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class px{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ve(e),this.near=n,this.far=r}clone(){return new px(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Up extends qt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class h0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=VA,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ao()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Zi=new H;class vu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Zi.fromBufferAttribute(this,n),Zi.applyMatrix4(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Zi.fromBufferAttribute(this,n),Zi.applyNormalMatrix(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Zi.fromBufferAttribute(this,n),Zi.transformDirection(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}setX(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=zl(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=zl(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=zl(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=zl(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array),s=Pn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Ft(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xB extends _r{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Dh;const Sg=new H,Lh=new H,Fh=new H,kh=new Ee,bg=new Ee,dN=new It,Ly=new H,Ig=new H,Fy=new H,MR=new Ee,kC=new Ee,TR=new Ee;class fN extends qt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Dh===void 0){Dh=new kt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new h0(n,5);Dh.setIndex([0,1,2,0,2,3]),Dh.setAttribute("position",new vu(r,3,0,!1)),Dh.setAttribute("uv",new vu(r,2,3,!1))}this.geometry=Dh,this.material=e!==void 0?e:new xB,this.center=new Ee(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Lh.setFromMatrixScale(this.matrixWorld),dN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Lh.multiplyScalar(-Fh.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;ky(Ly.set(-.5,-.5,0),Fh,o,Lh,i,s),ky(Ig.set(.5,-.5,0),Fh,o,Lh,i,s),ky(Fy.set(.5,.5,0),Fh,o,Lh,i,s),MR.set(0,0),kC.set(1,0),TR.set(1,1);let a=e.ray.intersectTriangle(Ly,Ig,Fy,!1,Sg);if(a===null&&(ky(Ig.set(-.5,.5,0),Fh,o,Lh,i,s),kC.set(0,1),a=e.ray.intersectTriangle(Ly,Fy,Ig,!1,Sg),a===null))return;const l=e.ray.origin.distanceTo(Sg);l<e.near||l>e.far||n.push({distance:l,point:Sg.clone(),uv:bo.getUV(Sg,Ly,Ig,Fy,MR,kC,TR,new Ee),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ky(t,e,n,r,i,s){kh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(bg.x=s*kh.x-i*kh.y,bg.y=i*kh.x+s*kh.y):bg.copy(kh),t.copy(e),t.x+=bg.x,t.y+=bg.y,t.applyMatrix4(dN)}const Oy=new H,RR=new H;class hN extends qt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Oy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Oy);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Oy.setFromMatrixPosition(e.matrixWorld),RR.setFromMatrixPosition(this.matrixWorld);const r=Oy.distanceTo(RR)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const PR=new H,DR=new dn,LR=new dn,vK=new H,FR=new It;class wB extends $r{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new It,this.bindMatrixInverse=new It}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;DR.fromBufferAttribute(i.attributes.skinIndex,e),LR.fromBufferAttribute(i.attributes.skinWeight,e),PR.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=LR.getComponent(s);if(o!==0){const a=DR.getComponent(s);FR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(vK.copy(PR).applyMatrix4(FR),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class mx extends qt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class au extends Tn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=vn,u=vn,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kR=new It,yK=new It;class p0{constructor(e=[],n=[]){this.uuid=ao(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new It)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new It;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:yK;kR.multiplyMatrices(a,n[s]),kR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new p0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=$O(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new au(n,e,e,yr,Ar);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new mx),this.bones.push(o),this.boneInverses.push(new It().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class hf extends Ft{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const OR=new It,NR=new It,Ny=[],_K=new It,Bg=new $r;class CB extends $r{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new hf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,_K)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Bg.geometry=this.geometry,Bg.material=this.material,Bg.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,OR),NR.multiplyMatrices(r,OR),Bg.matrixWorld=NR,Bg.raycast(e,Ny);for(let o=0,a=Ny.length;o<a;o++){const l=Ny[o];l.instanceId=s,l.object=this,n.push(l)}Ny.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new hf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Vi extends _r{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ve(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const UR=new H,zR=new H,GR=new It,OC=new u0,Uy=new Tu;class Xl extends qt{constructor(e=new kt,n=new Vi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)UR.fromBufferAttribute(n,i-1),zR.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=UR.distanceTo(zR);e.setAttribute("lineDistance",new ft(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Uy.copy(r.boundingSphere),Uy.applyMatrix4(i),Uy.radius+=s,e.ray.intersectsSphere(Uy)===!1)return;GR.copy(i).invert(),OC.copy(e.ray).applyMatrix4(GR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new H,u=new H,h=new H,p=new H,g=this.isLineSegments?2:1,A=r.index,y=r.attributes.position;if(A!==null){const w=Math.max(0,o.start),x=Math.min(A.count,o.start+o.count);for(let E=w,b=x-1;E<b;E+=g){const P=A.getX(E),R=A.getX(E+1);if(c.fromBufferAttribute(y,P),u.fromBufferAttribute(y,R),OC.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||n.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let E=w,b=x-1;E<b;E+=g){if(c.fromBufferAttribute(y,E),u.fromBufferAttribute(y,E+1),OC.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(p);R<e.near||R>e.far||n.push({distance:R,point:h.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const QR=new H,HR=new H;class oa extends Xl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)QR.fromBufferAttribute(n,i),HR.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+QR.distanceTo(HR);e.setAttribute("lineDistance",new ft(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EB extends Xl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class gx extends _r{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const VR=new It,db=new u0,zy=new Tu,Gy=new H;class SB extends qt{constructor(e=new kt,n=new gx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),zy.copy(r.boundingSphere),zy.applyMatrix4(i),zy.radius+=s,e.ray.intersectsSphere(zy)===!1)return;VR.copy(i).invert(),db.copy(e.ray).applyMatrix4(VR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let A=p,v=g;A<v;A++){const y=c.getX(A);Gy.fromBufferAttribute(h,y),WR(Gy,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let A=p,v=g;A<v;A++)Gy.fromBufferAttribute(h,A),WR(Gy,A,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function WR(t,e,n,r,i,s,o){const a=db.distanceSqToPoint(t);if(a<n){const l=new H;db.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class xK extends Tn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:sn,this.magFilter=s!==void 0?s:sn,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class wK extends Tn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=vn,this.minFilter=vn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ax extends Tn{constructor(e,n,r,i,s,o,a,l,c,u,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class pN extends Ax{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ur}}class CK extends Tn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class aa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,g=(o-u)/p;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Ee:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new H,i=[],s=[],o=[],a=new H,l=new It;for(let g=0;g<=e;g++){const A=g/e;i[g]=this.getTangentAt(A,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const A=Math.acos(Br(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,A))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Br(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let A=1;A<=e;A++)s[A].applyMatrix4(l.makeRotationAxis(i[A],g*A)),o[A].crossVectors(i[A],s[A])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class vx extends aa{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Ee,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,g=c-this.aY;l=p*u-g*h+this.aX,c=p*h+g*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mN extends vx{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function bB(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,g=(a-o)/u-(l-o)/(u+h)+(l-a)/h;p*=u,g*=u,i(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Qy=new H,NC=new bB,UC=new bB,zC=new bB;class IB extends aa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new H){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Qy.subVectors(i[0],i[1]).add(i[0]),c=Qy);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Qy.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Qy),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let A=Math.pow(c.distanceToSquared(h),g),v=Math.pow(h.distanceToSquared(p),g),y=Math.pow(p.distanceToSquared(u),g);v<1e-4&&(v=1),A<1e-4&&(A=v),y<1e-4&&(y=v),NC.initNonuniformCatmullRom(c.x,h.x,p.x,u.x,A,v,y),UC.initNonuniformCatmullRom(c.y,h.y,p.y,u.y,A,v,y),zC.initNonuniformCatmullRom(c.z,h.z,p.z,u.z,A,v,y)}else this.curveType==="catmullrom"&&(NC.initCatmullRom(c.x,h.x,p.x,u.x,this.tension),UC.initCatmullRom(c.y,h.y,p.y,u.y,this.tension),zC.initCatmullRom(c.z,h.z,p.z,u.z,this.tension));return r.set(NC.calc(l),UC.calc(l),zC.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function jR(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function EK(t,e){const n=1-t;return n*n*e}function SK(t,e){return 2*(1-t)*t*e}function bK(t,e){return t*t*e}function uA(t,e,n,r){return EK(t,e)+SK(t,n)+bK(t,r)}function IK(t,e){const n=1-t;return n*n*n*e}function BK(t,e){const n=1-t;return 3*n*n*t*e}function MK(t,e){return 3*(1-t)*t*t*e}function TK(t,e){return t*t*t*e}function dA(t,e,n,r,i){return IK(t,e)+BK(t,n)+MK(t,r)+TK(t,i)}class BB extends aa{constructor(e=new Ee,n=new Ee,r=new Ee,i=new Ee){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ee){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dA(e,i.x,s.x,o.x,a.x),dA(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gN extends aa{constructor(e=new H,n=new H,r=new H,i=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dA(e,i.x,s.x,o.x,a.x),dA(e,i.y,s.y,o.y,a.y),dA(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yx extends aa{constructor(e=new Ee,n=new Ee){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ee){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ee){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AN extends aa{constructor(e=new H,n=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new H){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new H){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MB extends aa{constructor(e=new Ee,n=new Ee,r=new Ee){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ee){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(uA(e,i.x,s.x,o.x),uA(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TB extends aa{constructor(e=new H,n=new H,r=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(uA(e,i.x,s.x,o.x),uA(e,i.y,s.y,o.y),uA(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RB extends aa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ee){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(jR(a,l.x,c.x,u.x,h.x),jR(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ee().fromArray(i))}return this}}var PB=Object.freeze({__proto__:null,ArcCurve:mN,CatmullRomCurve3:IB,CubicBezierCurve:BB,CubicBezierCurve3:gN,EllipseCurve:vx,LineCurve:yx,LineCurve3:AN,QuadraticBezierCurve:MB,QuadraticBezierCurve3:TB,SplineCurve:RB});class vN extends aa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new yx(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new PB[i.type]().fromJSON(i))}return this}}class JA extends vN{constructor(e){super(),this.type="Path",this.currentPoint=new Ee,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new yx(this.currentPoint.clone(),new Ee(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new MB(this.currentPoint.clone(),new Ee(e,n),new Ee(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new BB(this.currentPoint.clone(),new Ee(e,n),new Ee(r,i),new Ee(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new RB(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new vx(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xp extends kt{constructor(e=[new Ee(0,-.5),new Ee(.5,0),new Ee(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Br(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,h=new H,p=new Ee,g=new H,A=new H,v=new H;let y=0,w=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,w=e[x+1].y-e[x].y,g.x=w*1,g.y=-y,g.z=w*0,v.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[x+1].x-e[x].x,w=e[x+1].y-e[x].y,g.x=w*1,g.y=-y,g.z=w*0,A.copy(g),g.x+=v.x,g.y+=v.y,g.z+=v.z,g.normalize(),l.push(g.x,g.y,g.z),v.copy(A)}for(let x=0;x<=n;x++){const E=r+x*u*i,b=Math.sin(E),P=Math.cos(E);for(let R=0;R<=e.length-1;R++){h.x=e[R].x*b,h.y=e[R].y,h.z=e[R].x*P,o.push(h.x,h.y,h.z),p.x=x/n,p.y=R/(e.length-1),a.push(p.x,p.y);const F=l[3*R+0]*b,T=l[3*R+1],O=l[3*R+0]*P;c.push(F,T,O)}}for(let x=0;x<n;x++)for(let E=0;E<e.length-1;E++){const b=E+x*e.length,P=b,R=b+e.length,F=b+e.length+1,T=b+1;s.push(P,R,T),s.push(F,T,R)}this.setIndex(s),this.setAttribute("position",new ft(o,3)),this.setAttribute("uv",new ft(a,2)),this.setAttribute("normal",new ft(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xp(e.points,e.segments,e.phiStart,e.phiLength)}}class m0 extends Xp{constructor(e=1,n=1,r=4,i=8){const s=new JA;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new m0(e.radius,e.length,e.capSegments,e.radialSegments)}}class g0 extends kt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new H,u=new Ee;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const g=r+h/n*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new ft(o,3)),this.setAttribute("normal",new ft(a,3)),this.setAttribute("uv",new ft(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Cf extends kt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],g=[];let A=0;const v=[],y=r/2;let w=0;x(),o===!1&&(e>0&&E(!0),n>0&&E(!1)),this.setIndex(u),this.setAttribute("position",new ft(h,3)),this.setAttribute("normal",new ft(p,3)),this.setAttribute("uv",new ft(g,2));function x(){const b=new H,P=new H;let R=0;const F=(n-e)/r;for(let T=0;T<=s;T++){const O=[],U=T/s,W=U*(n-e)+e;for(let ee=0;ee<=i;ee++){const Z=ee/i,Y=Z*l+a,q=Math.sin(Y),de=Math.cos(Y);P.x=W*q,P.y=-U*r+y,P.z=W*de,h.push(P.x,P.y,P.z),b.set(q,F,de).normalize(),p.push(b.x,b.y,b.z),g.push(Z,1-U),O.push(A++)}v.push(O)}for(let T=0;T<i;T++)for(let O=0;O<s;O++){const U=v[O][T],W=v[O+1][T],ee=v[O+1][T+1],Z=v[O][T+1];u.push(U,W,Z),u.push(W,ee,Z),R+=6}c.addGroup(w,R,0),w+=R}function E(b){const P=A,R=new Ee,F=new H;let T=0;const O=b===!0?e:n,U=b===!0?1:-1;for(let ee=1;ee<=i;ee++)h.push(0,y*U,0),p.push(0,U,0),g.push(.5,.5),A++;const W=A;for(let ee=0;ee<=i;ee++){const Y=ee/i*l+a,q=Math.cos(Y),de=Math.sin(Y);F.x=O*de,F.y=y*U,F.z=O*q,h.push(F.x,F.y,F.z),p.push(0,U,0),R.x=q*.5+.5,R.y=de*.5*U+.5,g.push(R.x,R.y),A++}for(let ee=0;ee<i;ee++){const Z=P+ee,Y=W+ee;b===!0?u.push(Y,Y+1,Z):u.push(Y+1,Y,Z),T+=3}c.addGroup(w,T,b===!0?1:2),w+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class A0 extends Cf{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new A0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rc extends kt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new ft(s,3)),this.setAttribute("normal",new ft(s.slice(),3)),this.setAttribute("uv",new ft(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const E=new H,b=new H,P=new H;for(let R=0;R<n.length;R+=3)g(n[R+0],E),g(n[R+1],b),g(n[R+2],P),l(E,b,P,x)}function l(x,E,b,P){const R=P+1,F=[];for(let T=0;T<=R;T++){F[T]=[];const O=x.clone().lerp(b,T/R),U=E.clone().lerp(b,T/R),W=R-T;for(let ee=0;ee<=W;ee++)ee===0&&T===R?F[T][ee]=O:F[T][ee]=O.clone().lerp(U,ee/W)}for(let T=0;T<R;T++)for(let O=0;O<2*(R-T)-1;O++){const U=Math.floor(O/2);O%2===0?(p(F[T][U+1]),p(F[T+1][U]),p(F[T][U])):(p(F[T][U+1]),p(F[T+1][U+1]),p(F[T+1][U]))}}function c(x){const E=new H;for(let b=0;b<s.length;b+=3)E.x=s[b+0],E.y=s[b+1],E.z=s[b+2],E.normalize().multiplyScalar(x),s[b+0]=E.x,s[b+1]=E.y,s[b+2]=E.z}function u(){const x=new H;for(let E=0;E<s.length;E+=3){x.x=s[E+0],x.y=s[E+1],x.z=s[E+2];const b=y(x)/2/Math.PI+.5,P=w(x)/Math.PI+.5;o.push(b,1-P)}A(),h()}function h(){for(let x=0;x<o.length;x+=6){const E=o[x+0],b=o[x+2],P=o[x+4],R=Math.max(E,b,P),F=Math.min(E,b,P);R>.9&&F<.1&&(E<.2&&(o[x+0]+=1),b<.2&&(o[x+2]+=1),P<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function g(x,E){const b=x*3;E.x=e[b+0],E.y=e[b+1],E.z=e[b+2]}function A(){const x=new H,E=new H,b=new H,P=new H,R=new Ee,F=new Ee,T=new Ee;for(let O=0,U=0;O<s.length;O+=9,U+=6){x.set(s[O+0],s[O+1],s[O+2]),E.set(s[O+3],s[O+4],s[O+5]),b.set(s[O+6],s[O+7],s[O+8]),R.set(o[U+0],o[U+1]),F.set(o[U+2],o[U+3]),T.set(o[U+4],o[U+5]),P.copy(x).add(E).add(b).divideScalar(3);const W=y(P);v(R,U+0,x,W),v(F,U+2,E,W),v(T,U+4,b,W)}}function v(x,E,b,P){P<0&&x.x===1&&(o[E]=x.x-1),b.x===0&&b.z===0&&(o[E]=P/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function w(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rc(e.vertices,e.indices,e.radius,e.details)}}class v0 extends rc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new v0(e.radius,e.detail)}}const Hy=new H,Vy=new H,GC=new H,Wy=new bo;class yN extends kt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(tf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},g=[];for(let A=0;A<l;A+=3){o?(c[0]=o.getX(A),c[1]=o.getX(A+1),c[2]=o.getX(A+2)):(c[0]=A,c[1]=A+1,c[2]=A+2);const{a:v,b:y,c:w}=Wy;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),w.fromBufferAttribute(a,c[2]),Wy.getNormal(GC),h[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,h[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let x=0;x<3;x++){const E=(x+1)%3,b=h[x],P=h[E],R=Wy[u[x]],F=Wy[u[E]],T=`${b}_${P}`,O=`${P}_${b}`;O in p&&p[O]?(GC.dot(p[O].normal)<=s&&(g.push(R.x,R.y,R.z),g.push(F.x,F.y,F.z)),p[O]=null):T in p||(p[T]={index0:c[x],index1:c[E],normal:GC.clone()})}}for(const A in p)if(p[A]){const{index0:v,index1:y}=p[A];Hy.fromBufferAttribute(a,v),Vy.fromBufferAttribute(a,y),g.push(Hy.x,Hy.y,Hy.z),g.push(Vy.x,Vy.y,Vy.z)}this.setAttribute("position",new ft(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class rf extends JA{constructor(e){super(e),this.uuid=ao(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new JA().fromJSON(i))}return this}}const RK={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=_N(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,p,g;if(r&&(s=kK(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let A=n;A<i;A+=n)h=t[A],p=t[A+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>u&&(u=p);g=Math.max(c-a,u-l),g=g!==0?32767/g:0}return KA(s,o,n,a,l,g,0),o}};function _N(t,e,n,r,i){let s,o;if(i===JK(t,e,n,r)>0)for(s=e;s<n;s+=r)o=JR(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=JR(s,t[s],t[s+1],o);return o&&_x(o,o.next)&&(YA(o),o=o.next),o}function pf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(_x(n,n.next)||sr(n.prev,n,n.next)===0)){if(YA(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function KA(t,e,n,r,i,s,o){if(!t)return;!o&&s&&GK(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?DK(t,r,i,s):PK(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),YA(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=LK(pf(t),e,n),KA(t,e,n,r,i,s,2)):o===2&&FK(t,e,n,r,i,s):KA(pf(t),e,n,r,i,s,1);break}}}function PK(t){const e=t.prev,n=t,r=t.next;if(sr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,g=a>l?a>c?a:c:l>c?l:c;let A=r.next;for(;A!==e;){if(A.x>=u&&A.x<=p&&A.y>=h&&A.y<=g&&dp(i,a,s,l,o,c,A.x,A.y)&&sr(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function DK(t,e,n,r){const i=t.prev,s=t,o=t.next;if(sr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,p=o.y,g=a<l?a<c?a:c:l<c?l:c,A=u<h?u<p?u:p:h<p?h:p,v=a>l?a>c?a:c:l>c?l:c,y=u>h?u>p?u:p:h>p?h:p,w=fb(g,A,e,n,r),x=fb(v,y,e,n,r);let E=t.prevZ,b=t.nextZ;for(;E&&E.z>=w&&b&&b.z<=x;){if(E.x>=g&&E.x<=v&&E.y>=A&&E.y<=y&&E!==i&&E!==o&&dp(a,u,l,h,c,p,E.x,E.y)&&sr(E.prev,E,E.next)>=0||(E=E.prevZ,b.x>=g&&b.x<=v&&b.y>=A&&b.y<=y&&b!==i&&b!==o&&dp(a,u,l,h,c,p,b.x,b.y)&&sr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;E&&E.z>=w;){if(E.x>=g&&E.x<=v&&E.y>=A&&E.y<=y&&E!==i&&E!==o&&dp(a,u,l,h,c,p,E.x,E.y)&&sr(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;b&&b.z<=x;){if(b.x>=g&&b.x<=v&&b.y>=A&&b.y<=y&&b!==i&&b!==o&&dp(a,u,l,h,c,p,b.x,b.y)&&sr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function LK(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!_x(i,s)&&xN(i,r,r.next,s)&&$A(i,s)&&$A(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),YA(r),YA(r.next),r=t=s),r=r.next}while(r!==t);return pf(r)}function FK(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&VK(o,a)){let l=wN(o,a);o=pf(o,o.next),l=pf(l,l.next),KA(o,e,n,r,i,s,0),KA(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function kK(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=_N(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(HK(c));for(i.sort(OK),s=0;s<i.length;s++)n=NK(i[s],n);return n}function OK(t,e){return t.x-e.x}function NK(t,e){const n=UK(t,e);if(!n)return e;const r=wN(n,t);return pf(r,r.next),pf(n,n.next)}function UK(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&dp(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),$A(n,t)&&(h<u||h===u&&(n.x>i.x||n.x===i.x&&zK(i,n)))&&(i=n,u=h)),n=n.next;while(n!==a);return i}function zK(t,e){return sr(t.prev,t,e.prev)<0&&sr(e.next,t,t.next)<0}function GK(t,e,n,r){let i=t;do i.z===0&&(i.z=fb(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,QK(i)}function QK(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function fb(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function HK(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function dp(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function VK(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!WK(t,e)&&($A(t,e)&&$A(e,t)&&jK(t,e)&&(sr(t.prev,t,e.prev)||sr(t,e.prev,e))||_x(t,e)&&sr(t.prev,t,t.next)>0&&sr(e.prev,e,e.next)>0)}function sr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _x(t,e){return t.x===e.x&&t.y===e.y}function xN(t,e,n,r){const i=Jy(sr(t,e,n)),s=Jy(sr(t,e,r)),o=Jy(sr(n,r,t)),a=Jy(sr(n,r,e));return!!(i!==s&&o!==a||i===0&&jy(t,n,e)||s===0&&jy(t,r,e)||o===0&&jy(n,t,r)||a===0&&jy(n,e,r))}function jy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Jy(t){return t>0?1:t<0?-1:0}function WK(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&xN(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function $A(t,e){return sr(t.prev,t,t.next)<0?sr(t,e,t.next)>=0&&sr(t,t.prev,e)>=0:sr(t,e,t.prev)<0||sr(t,t.next,e)<0}function jK(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function wN(t,e){const n=new hb(t.i,t.x,t.y),r=new hb(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function JR(t,e,n,r){const i=new hb(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function YA(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function hb(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function JK(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ka{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ka.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];KR(e),$R(r,e);let o=e.length;n.forEach(KR);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,$R(r,n[l]);const a=RK.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function KR(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function $R(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Zp extends kt{constructor(e=new rf([new Ee(.5,.5),new Ee(-.5,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ft(i,3)),this.setAttribute("uv",new ft(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,A=n.bevelSize!==void 0?n.bevelSize:g-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:KK;let E,b=!1,P,R,F,T;w&&(E=w.getSpacedPoints(u),b=!0,p=!1,P=w.computeFrenetFrames(u,!1),R=new H,F=new H,T=new H),p||(y=0,g=0,A=0,v=0);const O=a.extractPoints(c);let U=O.shape;const W=O.holes;if(!Ka.isClockWise(U)){U=U.reverse();for(let Me=0,we=W.length;Me<we;Me++){const Ue=W[Me];Ka.isClockWise(Ue)&&(W[Me]=Ue.reverse())}}const Z=Ka.triangulateShape(U,W),Y=U;for(let Me=0,we=W.length;Me<we;Me++){const Ue=W[Me];U=U.concat(Ue)}function q(Me,we,Ue){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),Me.clone().addScaledVector(we,Ue)}const de=U.length,fe=Z.length;function j(Me,we,Ue){let nt,Je,ut;const at=Me.x-we.x,ht=Me.y-we.y,zt=Ue.x-Me.x,Dt=Ue.y-Me.y,K=at*at+ht*ht,N=at*Dt-ht*zt;if(Math.abs(N)>Number.EPSILON){const le=Math.sqrt(K),De=Math.sqrt(zt*zt+Dt*Dt),Le=we.x-ht/le,Ne=we.y+at/le,lt=Ue.x-Dt/De,Ke=Ue.y+zt/De,Re=((lt-Le)*Dt-(Ke-Ne)*zt)/(at*Dt-ht*zt);nt=Le+at*Re-Me.x,Je=Ne+ht*Re-Me.y;const pt=nt*nt+Je*Je;if(pt<=2)return new Ee(nt,Je);ut=Math.sqrt(pt/2)}else{let le=!1;at>Number.EPSILON?zt>Number.EPSILON&&(le=!0):at<-Number.EPSILON?zt<-Number.EPSILON&&(le=!0):Math.sign(ht)===Math.sign(Dt)&&(le=!0),le?(nt=-ht,Je=at,ut=Math.sqrt(K)):(nt=at,Je=ht,ut=Math.sqrt(K/2))}return new Ee(nt/ut,Je/ut)}const ne=[];for(let Me=0,we=Y.length,Ue=we-1,nt=Me+1;Me<we;Me++,Ue++,nt++)Ue===we&&(Ue=0),nt===we&&(nt=0),ne[Me]=j(Y[Me],Y[Ue],Y[nt]);const re=[];let pe,te=ne.concat();for(let Me=0,we=W.length;Me<we;Me++){const Ue=W[Me];pe=[];for(let nt=0,Je=Ue.length,ut=Je-1,at=nt+1;nt<Je;nt++,ut++,at++)ut===Je&&(ut=0),at===Je&&(at=0),pe[nt]=j(Ue[nt],Ue[ut],Ue[at]);re.push(pe),te=te.concat(pe)}for(let Me=0;Me<y;Me++){const we=Me/y,Ue=g*Math.cos(we*Math.PI/2),nt=A*Math.sin(we*Math.PI/2)+v;for(let Je=0,ut=Y.length;Je<ut;Je++){const at=q(Y[Je],ne[Je],nt);ke(at.x,at.y,-Ue)}for(let Je=0,ut=W.length;Je<ut;Je++){const at=W[Je];pe=re[Je];for(let ht=0,zt=at.length;ht<zt;ht++){const Dt=q(at[ht],pe[ht],nt);ke(Dt.x,Dt.y,-Ue)}}}const Se=A+v;for(let Me=0;Me<de;Me++){const we=p?q(U[Me],te[Me],Se):U[Me];b?(F.copy(P.normals[0]).multiplyScalar(we.x),R.copy(P.binormals[0]).multiplyScalar(we.y),T.copy(E[0]).add(F).add(R),ke(T.x,T.y,T.z)):ke(we.x,we.y,0)}for(let Me=1;Me<=u;Me++)for(let we=0;we<de;we++){const Ue=p?q(U[we],te[we],Se):U[we];b?(F.copy(P.normals[Me]).multiplyScalar(Ue.x),R.copy(P.binormals[Me]).multiplyScalar(Ue.y),T.copy(E[Me]).add(F).add(R),ke(T.x,T.y,T.z)):ke(Ue.x,Ue.y,h/u*Me)}for(let Me=y-1;Me>=0;Me--){const we=Me/y,Ue=g*Math.cos(we*Math.PI/2),nt=A*Math.sin(we*Math.PI/2)+v;for(let Je=0,ut=Y.length;Je<ut;Je++){const at=q(Y[Je],ne[Je],nt);ke(at.x,at.y,h+Ue)}for(let Je=0,ut=W.length;Je<ut;Je++){const at=W[Je];pe=re[Je];for(let ht=0,zt=at.length;ht<zt;ht++){const Dt=q(at[ht],pe[ht],nt);b?ke(Dt.x,Dt.y+E[u-1].y,E[u-1].x+Ue):ke(Dt.x,Dt.y,h+Ue)}}}xe(),ue();function xe(){const Me=i.length/3;if(p){let we=0,Ue=de*we;for(let nt=0;nt<fe;nt++){const Je=Z[nt];je(Je[2]+Ue,Je[1]+Ue,Je[0]+Ue)}we=u+y*2,Ue=de*we;for(let nt=0;nt<fe;nt++){const Je=Z[nt];je(Je[0]+Ue,Je[1]+Ue,Je[2]+Ue)}}else{for(let we=0;we<fe;we++){const Ue=Z[we];je(Ue[2],Ue[1],Ue[0])}for(let we=0;we<fe;we++){const Ue=Z[we];je(Ue[0]+de*u,Ue[1]+de*u,Ue[2]+de*u)}}r.addGroup(Me,i.length/3-Me,0)}function ue(){const Me=i.length/3;let we=0;Pe(Y,we),we+=Y.length;for(let Ue=0,nt=W.length;Ue<nt;Ue++){const Je=W[Ue];Pe(Je,we),we+=Je.length}r.addGroup(Me,i.length/3-Me,1)}function Pe(Me,we){let Ue=Me.length;for(;--Ue>=0;){const nt=Ue;let Je=Ue-1;Je<0&&(Je=Me.length-1);for(let ut=0,at=u+y*2;ut<at;ut++){const ht=de*ut,zt=de*(ut+1),Dt=we+nt+ht,K=we+Je+ht,N=we+Je+zt,le=we+nt+zt;Ye(Dt,K,N,le)}}}function ke(Me,we,Ue){l.push(Me),l.push(we),l.push(Ue)}function je(Me,we,Ue){ze(Me),ze(we),ze(Ue);const nt=i.length/3,Je=x.generateTopUV(r,i,nt-3,nt-2,nt-1);Fe(Je[0]),Fe(Je[1]),Fe(Je[2])}function Ye(Me,we,Ue,nt){ze(Me),ze(we),ze(nt),ze(we),ze(Ue),ze(nt);const Je=i.length/3,ut=x.generateSideWallUV(r,i,Je-6,Je-3,Je-2,Je-1);Fe(ut[0]),Fe(ut[1]),Fe(ut[3]),Fe(ut[1]),Fe(ut[2]),Fe(ut[3])}function ze(Me){i.push(l[Me*3+0]),i.push(l[Me*3+1]),i.push(l[Me*3+2])}function Fe(Me){s.push(Me.x),s.push(Me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return $K(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new PB[i.type]().fromJSON(i)),new Zp(r,e.options)}}const KK={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ee(s,o),new Ee(a,l),new Ee(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],p=e[i*3],g=e[i*3+1],A=e[i*3+2],v=e[s*3],y=e[s*3+1],w=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Ee(o,1-l),new Ee(c,1-h),new Ee(p,1-A),new Ee(v,1-w)]:[new Ee(a,1-l),new Ee(u,1-h),new Ee(g,1-A),new Ee(y,1-w)]}};function $K(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class y0 extends rc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new y0(e.radius,e.detail)}}class em extends rc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new em(e.radius,e.detail)}}class _0 extends kt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const p=(n-e)/i,g=new H,A=new Ee;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const w=s+y/r*o;g.x=h*Math.cos(w),g.y=h*Math.sin(w),l.push(g.x,g.y,g.z),c.push(0,0,1),A.x=(g.x/n+1)/2,A.y=(g.y/n+1)/2,u.push(A.x,A.y)}h+=p}for(let v=0;v<i;v++){const y=v*(r+1);for(let w=0;w<r;w++){const x=w+y,E=x,b=x+r+1,P=x+r+2,R=x+1;a.push(E,b,R),a.push(b,P,R)}}this.setIndex(a),this.setAttribute("position",new ft(l,3)),this.setAttribute("normal",new ft(c,3)),this.setAttribute("uv",new ft(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class x0 extends kt{constructor(e=new rf([new Ee(0,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ft(i,3)),this.setAttribute("normal",new ft(s,3)),this.setAttribute("uv",new ft(o,2));function c(u){const h=i.length/3,p=u.extractPoints(n);let g=p.shape;const A=p.holes;Ka.isClockWise(g)===!1&&(g=g.reverse());for(let y=0,w=A.length;y<w;y++){const x=A[y];Ka.isClockWise(x)===!0&&(A[y]=x.reverse())}const v=Ka.triangulateShape(g,A);for(let y=0,w=A.length;y<w;y++){const x=A[y];g=g.concat(x)}for(let y=0,w=g.length;y<w;y++){const x=g[y];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,w=v.length;y<w;y++){const x=v[y],E=x[0]+h,b=x[1]+h,P=x[2]+h;r.push(E,b,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return YK(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new x0(r,e.curveSegments)}}function YK(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class tm extends kt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new H,p=new H,g=[],A=[],v=[],y=[];for(let w=0;w<=r;w++){const x=[],E=w/r;let b=0;w==0&&o==0?b=.5/n:w==r&&l==Math.PI&&(b=-.5/n);for(let P=0;P<=n;P++){const R=P/n;h.x=-e*Math.cos(i+R*s)*Math.sin(o+E*a),h.y=e*Math.cos(o+E*a),h.z=e*Math.sin(i+R*s)*Math.sin(o+E*a),A.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),y.push(R+b,1-E),x.push(c++)}u.push(x)}for(let w=0;w<r;w++)for(let x=0;x<n;x++){const E=u[w][x+1],b=u[w][x],P=u[w+1][x],R=u[w+1][x+1];(w!==0||o>0)&&g.push(E,b,R),(w!==r-1||l<Math.PI)&&g.push(b,P,R)}this.setIndex(g),this.setAttribute("position",new ft(A,3)),this.setAttribute("normal",new ft(v,3)),this.setAttribute("uv",new ft(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class w0 extends rc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new w0(e.radius,e.detail)}}class C0 extends kt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new H,h=new H,p=new H;for(let g=0;g<=r;g++)for(let A=0;A<=i;A++){const v=A/i*s,y=g/r*Math.PI*2;h.x=(e+n*Math.cos(y))*Math.cos(v),h.y=(e+n*Math.cos(y))*Math.sin(v),h.z=n*Math.sin(y),a.push(h.x,h.y,h.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),p.subVectors(h,u).normalize(),l.push(p.x,p.y,p.z),c.push(A/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let A=1;A<=i;A++){const v=(i+1)*g+A-1,y=(i+1)*(g-1)+A-1,w=(i+1)*(g-1)+A,x=(i+1)*g+A;o.push(v,y,x),o.push(y,w,x)}this.setIndex(o),this.setAttribute("position",new ft(a,3)),this.setAttribute("normal",new ft(l,3)),this.setAttribute("uv",new ft(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class E0 extends kt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new H,p=new H,g=new H,A=new H,v=new H,y=new H,w=new H;for(let E=0;E<=r;++E){const b=E/r*s*Math.PI*2;x(b,s,o,e,g),x(b+.01,s,o,e,A),y.subVectors(A,g),w.addVectors(A,g),v.crossVectors(y,w),w.crossVectors(v,y),v.normalize(),w.normalize();for(let P=0;P<=i;++P){const R=P/i*Math.PI*2,F=-n*Math.cos(R),T=n*Math.sin(R);h.x=g.x+(F*w.x+T*v.x),h.y=g.y+(F*w.y+T*v.y),h.z=g.z+(F*w.z+T*v.z),l.push(h.x,h.y,h.z),p.subVectors(h,g).normalize(),c.push(p.x,p.y,p.z),u.push(E/r),u.push(P/i)}}for(let E=1;E<=r;E++)for(let b=1;b<=i;b++){const P=(i+1)*(E-1)+(b-1),R=(i+1)*E+(b-1),F=(i+1)*E+b,T=(i+1)*(E-1)+b;a.push(P,R,T),a.push(R,F,T)}this.setIndex(a),this.setAttribute("position",new ft(l,3)),this.setAttribute("normal",new ft(c,3)),this.setAttribute("uv",new ft(u,2));function x(E,b,P,R,F){const T=Math.cos(E),O=Math.sin(E),U=P/b*E,W=Math.cos(U);F.x=R*(2+W)*.5*T,F.y=R*(2+W)*O*.5,F.z=R*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class S0 extends kt{constructor(e=new TB(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new Ee;let u=new H;const h=[],p=[],g=[],A=[];v(),this.setIndex(A),this.setAttribute("position",new ft(h,3)),this.setAttribute("normal",new ft(p,3)),this.setAttribute("uv",new ft(g,2));function v(){for(let E=0;E<n;E++)y(E);y(s===!1?n:0),x(),w()}function y(E){u=e.getPointAt(E/n,u);const b=o.normals[E],P=o.binormals[E];for(let R=0;R<=i;R++){const F=R/i*Math.PI*2,T=Math.sin(F),O=-Math.cos(F);l.x=O*b.x+T*P.x,l.y=O*b.y+T*P.y,l.z=O*b.z+T*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function w(){for(let E=1;E<=n;E++)for(let b=1;b<=i;b++){const P=(i+1)*(E-1)+(b-1),R=(i+1)*E+(b-1),F=(i+1)*E+b,T=(i+1)*(E-1)+b;A.push(P,R,T),A.push(R,F,T)}}function x(){for(let E=0;E<=n;E++)for(let b=0;b<=i;b++)c.x=E/n,c.y=b/i,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new S0(new PB[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class CN extends kt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],p=h.start,g=h.count;for(let A=p,v=p+g;A<v;A+=3)for(let y=0;y<3;y++){const w=a.getX(A+y),x=a.getX(A+(y+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,x),YR(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),YR(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new ft(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function YR(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var qR=Object.freeze({__proto__:null,BoxGeometry:Ru,CapsuleGeometry:m0,CircleGeometry:g0,ConeGeometry:A0,CylinderGeometry:Cf,DodecahedronGeometry:v0,EdgesGeometry:yN,ExtrudeGeometry:Zp,IcosahedronGeometry:y0,LatheGeometry:Xp,OctahedronGeometry:em,PlaneGeometry:Yp,PolyhedronGeometry:rc,RingGeometry:_0,ShapeGeometry:x0,SphereGeometry:tm,TetrahedronGeometry:w0,TorusGeometry:C0,TorusKnotGeometry:E0,TubeGeometry:S0,WireframeGeometry:CN});class EN extends _r{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ve(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class SN extends zr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class b0 extends _r{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bu,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fo extends b0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ee(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Br(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ve(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ve(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class bN extends _r{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ve(16777215),this.specular=new Ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bu,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IN extends _r{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bu,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DB extends _r{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bu,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class LB extends _r{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bu,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BN extends _r{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bu,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MN extends Vi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function wo(t,e,n){return FB(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Kd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function FB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TN(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function pb(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function kB(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function qK(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],p=[];for(let g=0;g<c.times.length;++g){const A=c.times[g]*i;if(!(A<n||A>=r)){h.push(c.times[g]);for(let v=0;v<u;++v)p.push(c.values[g*u+v])}}h.length!==0&&(c.times=Kd(h,c.times.constructor),c.values=Kd(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function XK(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let p=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const A=a.times.length-1;let v;if(s<=a.times[0]){const w=u,x=h-u;v=wo(a.values,w,x)}else if(s>=a.times[A]){const w=A*h+u,x=w+h-u;v=wo(a.values,w,x)}else{const w=a.createInterpolant(),x=u,E=h-u;w.evaluate(s),v=wo(w.resultBuffer,x,E)}l==="quaternion"&&new Yr().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let w=0;w<y;++w){const x=w*g+p;if(l==="quaternion")Yr.multiplyQuaternionsFlat(c.values,x,v,0,c.values,x);else{const E=g-p*2;for(let b=0;b<E;++b)c.values[x+b]-=v[b]}}}return t.blendMode=uB,t}const ZK={arraySlice:wo,convertArray:Kd,isTypedArray:FB,getKeyframeOrder:TN,sortedArray:pb,flattenJSON:kB,subclip:qK,makeClipAdditive:XK};class nm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class RN extends nm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wd,endingEnd:Wd}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case jd:s=e,a=2*n-r;break;case HA:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case jd:o=e,l=2*r-n;break;case HA:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,g=this._weightNext,A=(r-n)/(i-n),v=A*A,y=v*A,w=-p*y+2*p*v-p*A,x=(1+p)*y+(-1.5-2*p)*v+(-.5+p)*A+1,E=(-1-g)*y+(1.5+g)*v+.5*A,b=g*y-g*v;for(let P=0;P!==a;++P)s[P]=w*o[u+P]+x*o[c+P]+E*o[l+P]+b*o[h+P];return s}}class OB extends nm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),h=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*u;return s}}class PN extends nm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class la{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Kd(n,this.TimeBufferType),this.values=Kd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Kd(e.times,Array),values:Kd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new PN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new OB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new RN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case kp:n=this.InterpolantFactoryMethodDiscrete;break;case ff:n=this.InterpolantFactoryMethodLinear;break;case D1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return kp;case this.InterpolantFactoryMethodLinear:return ff;case this.InterpolantFactoryMethodSmooth:return D1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=wo(r,s,o),this.values=wo(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&FB(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=wo(this.times),n=wo(this.values),r=this.getValueSize(),i=this.getInterpolation()===D1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,g=h+r;for(let A=0;A!==r;++A){const v=n[h+A];if(v!==n[p+A]||v!==n[g+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let g=0;g!==r;++g)n[p+g]=n[h+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=wo(e,0,o),this.values=wo(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=wo(this.times,0),n=wo(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}la.prototype.TimeBufferType=Float32Array;la.prototype.ValueBufferType=Float32Array;la.prototype.DefaultInterpolation=ff;class Ef extends la{}Ef.prototype.ValueTypeName="bool";Ef.prototype.ValueBufferType=Array;Ef.prototype.DefaultInterpolation=kp;Ef.prototype.InterpolantFactoryMethodLinear=void 0;Ef.prototype.InterpolantFactoryMethodSmooth=void 0;class NB extends la{}NB.prototype.ValueTypeName="color";class mf extends la{}mf.prototype.ValueTypeName="number";class DN extends nm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Yr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class yu extends la{InterpolantFactoryMethodLinear(e){return new DN(this.times,this.values,this.getValueSize(),e)}}yu.prototype.ValueTypeName="quaternion";yu.prototype.DefaultInterpolation=ff;yu.prototype.InterpolantFactoryMethodSmooth=void 0;class Sf extends la{}Sf.prototype.ValueTypeName="string";Sf.prototype.ValueBufferType=Array;Sf.prototype.DefaultInterpolation=kp;Sf.prototype.InterpolantFactoryMethodLinear=void 0;Sf.prototype.InterpolantFactoryMethodSmooth=void 0;class gf extends la{}gf.prototype.ValueTypeName="vector";class zp{constructor(e,n=-1,r,i=lx){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ao(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(t$(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(la.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=TN(l);l=pb(l,1,u),c=pb(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new mf(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,g,A,v){if(g.length!==0){const y=[],w=[];kB(g,y,w,A),y.length!==0&&v.push(new h(p,y,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let A;for(A=0;A<p.length;A++)if(p[A].morphTargets)for(let v=0;v<p[A].morphTargets.length;v++)g[p[A].morphTargets[v]]=-1;for(const v in g){const y=[],w=[];for(let x=0;x!==p[A].morphTargets.length;++x){const E=p[A];y.push(E.time),w.push(E.morphTarget===v?1:0)}i.push(new mf(".morphTargetInfluence["+v+"]",y,w))}l=g.length*o}else{const g=".bones["+n[h].name+"]";r(gf,g+".position",p,"pos",i),r(yu,g+".quaternion",p,"rot",i),r(gf,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function e$(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mf;case"vector":case"vector2":case"vector3":case"vector4":return gf;case"color":return NB;case"quaternion":return yu;case"bool":case"boolean":return Ef;case"string":return Sf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function t$(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=e$(t.type);if(t.times===void 0){const n=[],r=[];kB(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Af={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class UB{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,p=c.length;h<p;h+=2){const g=c[h],A=c[h+1];if(g.global&&(g.lastIndex=0),g.test(u))return A}return null}}}const LN=new UB;class xi{constructor(e){this.manager=e!==void 0?e:LN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const bl={};class n$ extends Error{constructor(e,n){super(e),this.response=n}}class vi extends xi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Af.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(bl[e]!==void 0){bl[e].push({onLoad:n,onProgress:r,onError:i});return}bl[e]=[],bl[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=bl[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),g=p?parseInt(p):0,A=g!==0;let v=0;const y=new ReadableStream({start(w){x();function x(){h.read().then(({done:E,value:b})=>{if(E)w.close();else{v+=b.byteLength;const P=new ProgressEvent("progress",{lengthComputable:A,loaded:v,total:g});for(let R=0,F=u.length;R<F;R++){const T=u[R];T.onProgress&&T.onProgress(P)}w.enqueue(b),x()}})}}});return new Response(y)}else throw new n$(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,g=new TextDecoder(p);return c.arrayBuffer().then(A=>g.decode(A))}}}).then(c=>{Af.add(e,c);const u=bl[e];delete bl[e];for(let h=0,p=u.length;h<p;h++){const g=u[h];g.onLoad&&g.onLoad(c)}}).catch(c=>{const u=bl[e];if(u===void 0)throw this.manager.itemError(e),c;delete bl[e];for(let h=0,p=u.length;h<p;h++){const g=u[h];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class r$ extends xi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new vi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=zp.parse(e[r]);n.push(i)}return n}}class i$ extends xi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new Ax,l=new vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(p){const g=s.parse(p,!0);o[h]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=sn),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)u(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let A=0;A<g;A++){o[A]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[A].mipmaps.push(p.mipmaps[A*p.mipmapCount+v]),o[A].format=p.format,o[A].width=p.width,o[A].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=sn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class qA extends xi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Af.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=jA("img");function l(){u(),Af.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class s$ extends xi{constructor(e){super(e)}load(e,n,r,i){const s=new f0,o=new qA(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class o$ extends xi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new au,a=new vi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ur,o.wrapT=c.wrapT!==void 0?c.wrapT:Ur,o.magFilter=c.magFilter!==void 0?c.magFilter:sn,o.minFilter=c.minFilter!==void 0?c.minFilter:sn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Do),c.mipmapCount===1&&(o.minFilter=sn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},r,i),o}}class I0 extends xi{constructor(e){super(e)}load(e,n,r,i){const s=new Tn,o=new qA(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Du extends qt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ve(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class FN extends Du{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ve(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const QC=new It,XR=new H,ZR=new H;class zB{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ee(512,512),this.map=null,this.mapPass=null,this.matrix=new It,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ux,this._frameExtents=new Ee(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;XR.setFromMatrixPosition(e.matrixWorld),n.position.copy(XR),ZR.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(ZR),n.updateMatrixWorld(),QC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QC),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(QC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class a$ extends zB{constructor(){super(new vr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=WA*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class GB extends Du{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.target=new qt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new a$}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const eP=new It,Mg=new H,HC=new H;class l$ extends zB{constructor(){super(new vr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ee(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Mg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Mg),HC.copy(r.position),HC.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(HC),r.updateMatrixWorld(),i.makeTranslation(-Mg.x,-Mg.y,-Mg.z),eP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eP)}}class QB extends Du{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new l$}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class c$ extends zB{constructor(){super(new Pu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class HB extends Du{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qt.DEFAULT_UP),this.updateMatrix(),this.target=new qt,this.shadow=new c$}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kN extends Du{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class ON extends Du{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class NN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class xx extends Du{constructor(e=new NN,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class wx extends xi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=wx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ve().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ve().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ee().fromArray(o.value);break;case"v3":i.uniforms[s].value=new H().fromArray(o.value);break;case"v4":i.uniforms[s].value=new dn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new mi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new It().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ee().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ee().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:EN,SpriteMaterial:xB,RawShaderMaterial:SN,ShaderMaterial:zr,PointsMaterial:gx,MeshPhysicalMaterial:Fo,MeshStandardMaterial:b0,MeshPhongMaterial:bN,MeshToonMaterial:IN,MeshNormalMaterial:DB,MeshLambertMaterial:LB,MeshDepthMaterial:vB,MeshDistanceMaterial:yB,MeshBasicMaterial:so,MeshMatcapMaterial:BN,LineDashedMaterial:MN,LineBasicMaterial:Vi,Material:_r};return new n[e]}}class lu{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class UN extends kt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zN extends xi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,A){if(n[A]!==void 0)return n[A];const y=g.interleavedBuffers[A],w=s(g,y.buffer),x=cp(y.type,w),E=new h0(x,y.stride);return E.uuid=y.uuid,n[A]=E,E}function s(g,A){if(r[A]!==void 0)return r[A];const y=g.arrayBuffers[A],w=new Uint32Array(y).buffer;return r[A]=w,w}const o=e.isInstancedBufferGeometry?new UN:new kt,a=e.data.index;if(a!==void 0){const g=cp(a.type,a.array);o.setIndex(new Ft(g,1))}const l=e.data.attributes;for(const g in l){const A=l[g];let v;if(A.isInterleavedBufferAttribute){const y=i(e.data,A.data);v=new vu(y,A.itemSize,A.offset,A.normalized)}else{const y=cp(A.type,A.array),w=A.isInstancedBufferAttribute?hf:Ft;v=new w(y,A.itemSize,A.normalized)}A.name!==void 0&&(v.name=A.name),A.usage!==void 0&&v.setUsage(A.usage),A.updateRange!==void 0&&(v.updateRange.offset=A.updateRange.offset,v.updateRange.count=A.updateRange.count),o.setAttribute(g,v)}const c=e.data.morphAttributes;if(c)for(const g in c){const A=c[g],v=[];for(let y=0,w=A.length;y<w;y++){const x=A[y];let E;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);E=new vu(b,x.itemSize,x.offset,x.normalized)}else{const b=cp(x.type,x.array);E=new Ft(b,x.itemSize,x.normalized)}x.name!==void 0&&(E.name=x.name),v.push(E)}o.morphAttributes[g]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let g=0,A=h.length;g!==A;++g){const v=h[g];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new H;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Tu(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class u$ extends xi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new vi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new vi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new rf().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new p0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new zN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in qR?a=qR[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new wx;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=zp.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:cp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new UB(n);s=new qA(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const g=[];for(let A=0,v=p.length;A<v;A++){const y=p[A],w=a(y);w!==null&&(w instanceof HTMLImageElement?g.push(w):g.push(new au(w.data,w.width,w.height)))}i[h.uuid]=new Jd(g)}else{const g=a(h.url);i[h.uuid]=new Jd(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:cp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new qA(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,p=c.length;h<p;h++){const g=c[h],A=await s(g);A!==null&&(A instanceof HTMLImageElement?u.push(A):u.push(new au(A.data,A.width,A.height)))}r[l.uuid]=new Jd(u)}else{const u=await s(l.url);r[l.uuid]=new Jd(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new f0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new au:u=new Tn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,d$)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],tP),u.wrapT=r(a.wrap[1],tP)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,nP)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,nP)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let A=0,v=p.length;A<v;A++){const y=p[A];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),g.push(r[y])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,h;switch(e.type){case"Scene":o=new Up,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ve(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new px(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new hx(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new vr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Pu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new kN(e.color,e.intensity);break;case"DirectionalLight":o=new HB(e.color,e.intensity);break;case"PointLight":o=new QB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ON(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new GB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new FN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new xx().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new wB(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new $r(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const p=e.count,g=e.instanceMatrix,A=e.instanceColor;o=new CB(u,h,p),o.instanceMatrix=new hf(new Float32Array(g.array),16),A!==void 0&&(o.instanceColor=new hf(new Float32Array(A.array),A.itemSize));break;case"LOD":o=new hN;break;case"Line":o=new Xl(a(e.geometry),l(e.material));break;case"LineLoop":o=new EB(a(e.geometry),l(e.material));break;case"LineSegments":o=new oa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new SB(a(e.geometry),l(e.material));break;case"Sprite":o=new fN(l(e.material));break;case"Group":o=new Ha;break;case"Bone":o=new mx;break;default:o=new qt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const A=p[g];o.animations.push(s[A])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const A=p[g],v=o.getObjectByProperty("uuid",A.object);v!==void 0&&o.addLevel(v,A.distance,A.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const d$={UVMapping:ox,CubeReflectionMapping:pu,CubeRefractionMapping:mu,EquirectangularReflectionMapping:zA,EquirectangularRefractionMapping:GA,CubeUVReflectionMapping:Kp},tP={RepeatWrapping:gu,ClampToEdgeWrapping:Ur,MirroredRepeatWrapping:Fp},nP={NearestFilter:vn,NearestMipmapNearestFilter:QA,NearestMipmapLinearFilter:Cp,LinearFilter:sn,LinearMipmapNearestFilter:ax,LinearMipmapLinearFilter:Do};class GN extends xi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Af.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Af.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Ky,VB=class{static getContext(){return Ky===void 0&&(Ky=new(window.AudioContext||window.webkitAudioContext)),Ky}static setContext(e){Ky=e}};class Cx extends xi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new vi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);VB.getContext().decodeAudioData(l,function(u){n(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class f$ extends xx{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ve().set(e),s=new Ve().set(n),o=new H(i.r,i.g,i.b),a=new H(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class h$ extends xx{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Ve().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const rP=new It,iP=new It,bd=new It;class p${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,bd.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(tf*n.fov*.5)/n.zoom;let a,l;iP.elements[12]=-i,rP.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,bd.elements[0]=2*n.near/(l-a),bd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(bd),a=-o*n.aspect-s,l=o*n.aspect-s,bd.elements[0]=2*n.near/(l-a),bd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(bd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rP)}}class WB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=sP();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function sP(){return(typeof performance>"u"?Date:performance).now()}const Id=new H,oP=new Yr,m$=new H,Bd=new H;class QN extends qt{constructor(){super(),this.type="AudioListener",this.context=VB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new WB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Id,oP,m$),Bd.set(0,0,-1).applyQuaternion(oP),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Id.x,i),n.positionY.linearRampToValueAtTime(Id.y,i),n.positionZ.linearRampToValueAtTime(Id.z,i),n.forwardX.linearRampToValueAtTime(Bd.x,i),n.forwardY.linearRampToValueAtTime(Bd.y,i),n.forwardZ.linearRampToValueAtTime(Bd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Id.x,Id.y,Id.z),n.setOrientation(Bd.x,Bd.y,Bd.z,r.x,r.y,r.z)}}class HN extends qt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Md=new H,aP=new Yr,g$=new H,Td=new H;let A$=class extends HN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Md,aP,g$),Td.set(0,0,1).applyQuaternion(aP);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Md.x,r),n.positionY.linearRampToValueAtTime(Md.y,r),n.positionZ.linearRampToValueAtTime(Md.z,r),n.orientationX.linearRampToValueAtTime(Td.x,r),n.orientationY.linearRampToValueAtTime(Td.y,r),n.orientationZ.linearRampToValueAtTime(Td.z,r)}else n.setPosition(Md.x,Md.y,Md.z),n.setOrientation(Td.x,Td.y,Td.z)}};class v${constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class VN{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Yr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Yr.multiplyQuaternionsFlat(e,o,e,n,e,r),Yr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const jB="\\[\\]\\.:\\/",y$=new RegExp("["+jB+"]","g"),JB="[^"+jB+"]",_$="[^"+jB.replace("\\.","")+"]",x$=/((?:WC+[\/:])*)/.source.replace("WC",JB),w$=/(WCOD+)?/.source.replace("WCOD",_$),C$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",JB),E$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",JB),S$=new RegExp("^"+x$+w$+C$+E$+"$"),b$=["material","materials","bones","map"];class I${constructor(e,n,r){const i=r||un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class un{constructor(e,n,r){this.path=n,this.parsedPath=r||un.parseTrackName(n),this.node=un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new un.Composite(e,n,r):new un(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(y$,"")}static parseTrackName(e){const n=S$.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);b$.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=un.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=I$;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class B${constructor(){this.isAnimationObjectGroup=!0,this.uuid=ao(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],g=p.uuid;let A=n[g];if(A===void 0){A=l++,n[g]=A,e.push(p);for(let v=0,y=o;v!==y;++v)s[v].push(new un(p,r[v],i[v]))}else if(A<c){a=e[A];const v=--c,y=e[v];n[y.uuid]=A,e[A]=y,n[g]=v,e[v]=p;for(let w=0,x=o;w!==x;++w){const E=s[w],b=E[v];let P=E[A];E[A]=b,P===void 0&&(P=new un(p,r[w],i[w])),E[v]=P}}else e[A]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const h=s++,p=e[h];n[p.uuid]=u,e[u]=p,n[c]=h,e[h]=l;for(let g=0,A=i;g!==A;++g){const v=r[g],y=v[h],w=v[u];v[u]=y,v[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=n[u];if(h!==void 0)if(delete n[u],h<s){const p=--s,g=e[p],A=--o,v=e[A];n[g.uuid]=h,e[h]=g,n[v.uuid]=p,e[p]=v,e.pop();for(let y=0,w=i;y!==w;++y){const x=r[y],E=x[p],b=x[A];x[h]=E,x[p]=b,x.pop()}}else{const p=--o,g=e[p];p>0&&(n[g.uuid]=h),e[h]=g,e.pop();for(let A=0,v=i;A!==v;++A){const y=r[A];y[h]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let p=u,g=l.length;p!==g;++p){const A=l[p];h[p]=new un(A,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class M${constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Wd,endingEnd:Wd};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=HO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case uB:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case lx:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===VO;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===QO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=jd,i.endingEnd=jd):(e?i.endingStart=this.zeroSlopeAtStart?jd:Wd:i.endingStart=HA,n?i.endingEnd=this.zeroSlopeAtEnd?jd:Wd:i.endingEnd=HA)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const T$=new Float32Array(1);class WN extends Lo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const p=i[h],g=p.name;let A=u[g];if(A!==void 0)++A.referenceCount,o[h]=A;else{if(A=o[h],A!==void 0){A._cacheIndex===null&&(++A.referenceCount,this._addInactiveBinding(A,l,g));continue}const v=n&&n._propertyBindings[h].binding.parsedPath;A=new VN(un.create(r,g,v),p.ValueTypeName,p.getValueSize()),++A.referenceCount,this._addInactiveBinding(A,l,g),o[h]=A}a[h].resultBuffer=A.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new OB(new Float32Array(2),new Float32Array(2),1,T$),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?zp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=lx),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new M$(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?zp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,n[u]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Xe{constructor(e){this.value=e}clone(){return new Xe(this.value.clone===void 0?this.value:this.value.clone())}}let R$=0;class P$ extends Lo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:R$++}),this.name="",this.usage=VA,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class D$ extends h0{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class L${constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class jN{constructor(e,n,r=0,i=1/0){this.ray=new u0(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new nf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return mb(e,this,r,n),r.sort(lP),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)mb(e[i],this,r,n);return r.sort(lP),r}}function lP(t,e){return t.distance-e.distance}function mb(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)mb(i[s],e,n,!0)}}class F${constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Br(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class k${constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const cP=new Ee;class O${constructor(e=new Ee(1/0,1/0),n=new Ee(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=cP.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uP=new H,$y=new H;class N${constructor(e=new H,n=new H){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){uP.subVectors(e,this.start),$y.subVectors(this.end,this.start);const r=$y.dot($y);let s=$y.dot(uP)/r;return n&&(s=Br(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dP=new H;class JN extends qt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new kt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new ft(i,3));const s=new Vi({fog:!1,toneMapped:!1});this.cone=new oa(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),dP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Dc=new H,Yy=new It,VC=new It;class U$ extends oa{constructor(e){const n=KN(e),r=new kt,i=[],s=[],o=new Ve(0,0,1),a=new Ve(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ft(i,3)),r.setAttribute("color",new ft(s,3));const l=new Vi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");VC.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Yy.multiplyMatrices(VC,a.matrixWorld),Dc.setFromMatrixPosition(Yy),i.setXYZ(o,Dc.x,Dc.y,Dc.z),Yy.multiplyMatrices(VC,a.parent.matrixWorld),Dc.setFromMatrixPosition(Yy),i.setXYZ(o+1,Dc.x,Dc.y,Dc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function KN(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,KN(t.children[n]));return e}class $N extends $r{constructor(e,n,r){const i=new tm(n,4,2),s=new so({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const z$=new H,fP=new Ve,hP=new Ve;class G$ extends qt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new em(n);i.rotateY(Math.PI*.5),this.material=new so({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Ft(o,3)),this.add(new $r(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");fP.copy(this.light.color),hP.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?fP:hP;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(z$.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Q$ extends oa{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ve(r),i=new Ve(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,g=0,A=-a;p<=n;p++,A+=o){l.push(-a,0,A,a,0,A),l.push(A,0,-a,A,0,a);const v=p===s?r:i;v.toArray(c,g),g+=3,v.toArray(c,g),g+=3,v.toArray(c,g),g+=3,v.toArray(c,g),g+=3}const u=new kt;u.setAttribute("position",new ft(l,3)),u.setAttribute("color",new ft(c,3));const h=new Vi({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class H$ extends oa{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ve(s),o=new Ve(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),g=Math.sin(p)*e,A=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,A);const v=h&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let h=0;h<r;h++){const p=h&1?s:o,g=e-e/r*h;for(let A=0;A<i;A++){let v=A/i*(Math.PI*2),y=Math.sin(v)*g,w=Math.cos(v)*g;a.push(y,0,w),l.push(p.r,p.g,p.b),v=(A+1)/i*(Math.PI*2),y=Math.sin(v)*g,w=Math.cos(v)*g,a.push(y,0,w),l.push(p.r,p.g,p.b)}}const c=new kt;c.setAttribute("position",new ft(a,3)),c.setAttribute("color",new ft(l,3));const u=new Vi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const pP=new H,qy=new H,mP=new H;class YN extends qt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new kt;i.setAttribute("position",new ft([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Vi({fog:!1,toneMapped:!1});this.lightPlane=new Xl(i,s),this.add(this.lightPlane),i=new kt,i.setAttribute("position",new ft([0,0,0,0,0,1],3)),this.targetLine=new Xl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),pP.setFromMatrixPosition(this.light.matrixWorld),qy.setFromMatrixPosition(this.light.target.matrixWorld),mP.subVectors(qy,pP),this.lightPlane.lookAt(qy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qy),this.targetLine.scale.z=mP.length()}}const Xy=new H,mr=new $p;class qN extends oa{constructor(e){const n=new kt,r=new Vi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(A,v){l(A),l(v)}function l(A){i.push(0,0,0),s.push(0,0,0),o[A]===void 0&&(o[A]=[]),o[A].push(i.length/3-1)}n.setAttribute("position",new ft(i,3)),n.setAttribute("color",new ft(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ve(16755200),u=new Ve(16711680),h=new Ve(43775),p=new Ve(16777215),g=new Ve(3355443);this.setColors(c,u,h,p,g)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;mr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),br("c",n,e,mr,0,0,-1),br("t",n,e,mr,0,0,1),br("n1",n,e,mr,-r,-i,-1),br("n2",n,e,mr,r,-i,-1),br("n3",n,e,mr,-r,i,-1),br("n4",n,e,mr,r,i,-1),br("f1",n,e,mr,-r,-i,1),br("f2",n,e,mr,r,-i,1),br("f3",n,e,mr,-r,i,1),br("f4",n,e,mr,r,i,1),br("u1",n,e,mr,r*.7,i*1.1,-1),br("u2",n,e,mr,-r*.7,i*1.1,-1),br("u3",n,e,mr,0,i*2,-1),br("cf1",n,e,mr,-r,0,1),br("cf2",n,e,mr,r,0,1),br("cf3",n,e,mr,0,-i,1),br("cf4",n,e,mr,0,i,1),br("cn1",n,e,mr,-r,0,-1),br("cn2",n,e,mr,r,0,-1),br("cn3",n,e,mr,0,-i,-1),br("cn4",n,e,mr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function br(t,e,n,r,i,s,o){Xy.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Xy.x,Xy.y,Xy.z)}}const Zy=new Mu;class A_ extends oa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new kt;s.setIndex(new Ft(r,1)),s.setAttribute("position",new Ft(i,3)),super(s,new Vi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Zy.setFromObject(this.object),Zy.isEmpty())return;const n=Zy.min,r=Zy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class V$ extends oa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new kt;s.setIndex(new Ft(r,1)),s.setAttribute("position",new ft(i,3)),super(s,new Vi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class W$ extends Xl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new kt;o.setAttribute("position",new ft(s,3)),o.computeBoundingSphere(),super(o,new Vi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new kt;l.setAttribute("position",new ft(a,3)),l.computeBoundingSphere(),this.add(new $r(l,new so({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gP=new H;let e1,WC;class j$ extends qt{constructor(e=new H(0,0,1),n=new H(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",e1===void 0&&(e1=new kt,e1.setAttribute("position",new ft([0,0,0,0,1,0],3)),WC=new Cf(0,.5,1,5,1),WC.translate(0,-.5,0)),this.position.copy(n),this.line=new Xl(e1,new Vi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $r(WC,new so({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gP.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(gP,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class J$ extends oa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new kt;i.setAttribute("position",new ft(n,3)),i.setAttribute("color",new ft(r,3));const s=new Vi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ve,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XN{constructor(){this.type="ShapePath",this.color=new Ve,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new JA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const x=[];for(let E=0,b=w.length;E<b;E++){const P=w[E],R=new rf;R.curves=P.curves,x.push(R)}return x}function r(w,x){const E=x.length;let b=!1;for(let P=E-1,R=0;R<E;P=R++){let F=x[P],T=x[R],O=T.x-F.x,U=T.y-F.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(F=x[R],O=-O,T=x[P],U=-U),w.y<F.y||w.y>T.y)continue;if(w.y===F.y){if(w.x===F.x)return!0}else{const W=U*(w.x-F.x)-O*(w.y-F.y);if(W===0)return!0;if(W<0)continue;b=!b}}else{if(w.y!==F.y)continue;if(T.x<=w.x&&w.x<=F.x||F.x<=w.x&&w.x<=T.x)return!0}}return b}const i=Ka.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new rf,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],p=[];let g=[],A=0,v;p[A]=void 0,g[A]=[];for(let w=0,x=s.length;w<x;w++)a=s[w],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&p[A]&&A++,p[A]={s:new rf,p:v},p[A].s.curves=a.curves,u&&A++,g[A]=[]):g[A].push({h:a,p:v[0]});if(!p[0])return n(s);if(p.length>1){let w=!1,x=0;for(let E=0,b=p.length;E<b;E++)h[E]=[];for(let E=0,b=p.length;E<b;E++){const P=g[E];for(let R=0;R<P.length;R++){const F=P[R];let T=!0;for(let O=0;O<p.length;O++)r(F.p,p[O].p)&&(E!==O&&x++,T?(T=!1,h[O].push(F)):w=!0);T&&h[E].push(F)}}x>0&&w===!1&&(g=h)}let y;for(let w=0,x=p.length;w<x;w++){l=p[w].s,c.push(l),y=g[w];for(let E=0,b=y.length;E<b;E++)l.holes.push(y[E].h)}return c}}const Ll=K$();function K$(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function $$(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Br(t,-65504,65504),Ll.floatView[0]=t;const e=Ll.uint32View[0],n=e>>23&511;return Ll.baseTable[n]+((e&8388607)>>Ll.shiftTable[n])}function Y$(t){const e=t>>10;return Ll.uint32View[0]=Ll.mantissaTable[Ll.offsetTable[e]+(t&1023)]+Ll.exponentTable[e],Ll.floatView[0]}const q$={toHalfFloat:$$,fromHalfFloat:Y$};class X$ extends Ru{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class Z$ extends m0{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class eY extends g0{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class tY extends A0{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class nY extends Cf{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class rY extends v0{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class iY extends Zp{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class sY extends y0{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class oY extends Xp{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class aY extends em{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class lY extends Yp{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class cY extends rc{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class uY extends _0{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class dY extends x0{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class fY extends tm{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class hY extends w0{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class pY extends C0{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class mY extends E0{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class gY extends S0{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:nc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=nc);const AY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:aB,AddEquation:Ud,AddOperation:SO,AdditiveAnimationBlendMode:uB,AdditiveBlending:OS,AlphaFormat:FO,AlwaysDepth:vO,AlwaysStencilFunc:KO,AmbientLight:kN,AmbientLightProbe:h$,AnimationClip:zp,AnimationLoader:r$,AnimationMixer:WN,AnimationObjectGroup:B$,AnimationUtils:ZK,ArcCurve:mN,ArrayCamera:cN,ArrowHelper:j$,Audio:HN,AudioAnalyser:v$,AudioContext:VB,AudioListener:QN,AudioLoader:Cx,AxesHelper:J$,BackSide:li,BasicDepthPacking:Iu,BasicShadowMap:iO,Bone:mx,BooleanKeyframeTrack:Ef,Box2:O$,Box3:Mu,Box3Helper:V$,BoxBufferGeometry:X$,BoxGeometry:Ru,BoxHelper:A_,BufferAttribute:Ft,BufferGeometry:kt,BufferGeometryLoader:zN,ByteType:TO,Cache:Af,Camera:$p,CameraHelper:qN,CanvasTexture:CK,CapsuleBufferGeometry:Z$,CapsuleGeometry:m0,CatmullRomCurve3:IB,CineonToneMapping:BO,CircleBufferGeometry:eY,CircleGeometry:g0,ClampToEdgeWrapping:Ur,Clock:WB,Color:Ve,ColorKeyframeTrack:NB,ColorManagement:Ni,CompressedArrayTexture:pN,CompressedTexture:Ax,CompressedTextureLoader:i$,ConeBufferGeometry:tY,ConeGeometry:A0,CubeCamera:tN,CubeReflectionMapping:pu,CubeRefractionMapping:mu,CubeTexture:f0,CubeTextureLoader:s$,CubeUVReflectionMapping:Kp,CubicBezierCurve:BB,CubicBezierCurve3:gN,CubicInterpolant:RN,CullFaceBack:kS,CullFaceFront:rO,CullFaceFrontBack:E8,CullFaceNone:nO,Curve:aa,CurvePath:vN,CustomBlending:sO,CustomToneMapping:MO,CylinderBufferGeometry:nY,CylinderGeometry:Cf,Cylindrical:k$,Data3DTexture:ou,DataArrayTexture:cx,DataTexture:au,DataTextureLoader:o$,DataUtils:q$,DecrementStencilOp:L8,DecrementWrapStencilOp:k8,DefaultLoadingManager:LN,DepthFormat:su,DepthStencilFormat:Au,DepthTexture:_B,DirectionalLight:HB,DirectionalLightHelper:YN,DiscreteInterpolant:PN,DisplayP3ColorSpace:fB,DodecahedronBufferGeometry:rY,DodecahedronGeometry:v0,DoubleSide:as,DstAlphaFactor:fO,DstColorFactor:pO,DynamicCopyUsage:Y8,DynamicDrawUsage:ob,DynamicReadUsage:J8,EdgesGeometry:yN,EllipseCurve:vx,EqualDepth:_O,EqualStencilFunc:z8,EquirectangularReflectionMapping:zA,EquirectangularRefractionMapping:GA,Euler:d0,EventDispatcher:Lo,ExtrudeBufferGeometry:iY,ExtrudeGeometry:Zp,FileLoader:vi,Float16BufferAttribute:kV,Float32BufferAttribute:ft,Float64BufferAttribute:OV,FloatType:Ar,Fog:px,FogExp2:hx,FramebufferTexture:wK,FrontSide:ia,Frustum:ux,GLBufferAttribute:L$,GLSL1:X8,GLSL3:ab,GreaterDepth:wO,GreaterEqualDepth:xO,GreaterEqualStencilFunc:V8,GreaterStencilFunc:Q8,GridHelper:Q$,Group:Ha,HalfFloatType:To,HemisphereLight:FN,HemisphereLightHelper:G$,HemisphereLightProbe:f$,IcosahedronBufferGeometry:sY,IcosahedronGeometry:y0,ImageBitmapLoader:GN,ImageLoader:qA,ImageUtils:pB,IncrementStencilOp:D8,IncrementWrapStencilOp:F8,InstancedBufferAttribute:hf,InstancedBufferGeometry:UN,InstancedInterleavedBuffer:D$,InstancedMesh:CB,Int16BufferAttribute:LV,Int32BufferAttribute:FV,Int8BufferAttribute:RV,IntType:PO,InterleavedBuffer:h0,InterleavedBufferAttribute:vu,Interpolant:nm,InterpolateDiscrete:kp,InterpolateLinear:ff,InterpolateSmooth:D1,InvertStencilOp:O8,KeepStencilOp:L1,KeyframeTrack:la,LOD:hN,LatheBufferGeometry:oY,LatheGeometry:Xp,Layers:nf,LessDepth:yO,LessEqualDepth:c_,LessEqualStencilFunc:G8,LessStencilFunc:U8,Light:Du,LightProbe:xx,Line:Xl,Line3:N$,LineBasicMaterial:Vi,LineCurve:yx,LineCurve3:AN,LineDashedMaterial:MN,LineLoop:EB,LineSegments:oa,LinearEncoding:ds,LinearFilter:sn,LinearInterpolant:OB,LinearMipMapLinearFilter:M8,LinearMipMapNearestFilter:B8,LinearMipmapLinearFilter:Do,LinearMipmapNearestFilter:ax,LinearSRGBColorSpace:Op,LinearToneMapping:bO,Loader:xi,LoaderUtils:lu,LoadingManager:UB,LoopOnce:QO,LoopPingPong:VO,LoopRepeat:HO,LuminanceAlphaFormat:OO,LuminanceFormat:kO,MOUSE:w8,Material:_r,MaterialLoader:wx,MathUtils:os,Matrix3:mi,Matrix4:It,MaxEquation:GS,Mesh:$r,MeshBasicMaterial:so,MeshDepthMaterial:vB,MeshDistanceMaterial:yB,MeshLambertMaterial:LB,MeshMatcapMaterial:BN,MeshNormalMaterial:DB,MeshPhongMaterial:bN,MeshPhysicalMaterial:Fo,MeshStandardMaterial:b0,MeshToonMaterial:IN,MinEquation:zS,MirroredRepeatWrapping:Fp,MixOperation:EO,MultiplyBlending:US,MultiplyOperation:c0,NearestFilter:vn,NearestMipMapLinearFilter:I8,NearestMipMapNearestFilter:b8,NearestMipmapLinearFilter:Cp,NearestMipmapNearestFilter:QA,NeverDepth:AO,NeverStencilFunc:N8,NoBlending:Ai,NoColorSpace:T8,NoToneMapping:na,NormalAnimationBlendMode:lx,NormalBlending:ef,NotEqualDepth:CO,NotEqualStencilFunc:H8,NumberKeyframeTrack:mf,Object3D:qt,ObjectLoader:u$,ObjectSpaceNormalMap:JO,OctahedronBufferGeometry:aY,OctahedronGeometry:em,OneFactor:cO,OneMinusDstAlphaFactor:hO,OneMinusDstColorFactor:mO,OneMinusSrcAlphaFactor:oB,OneMinusSrcColorFactor:dO,OrthographicCamera:Pu,PCFShadowMap:sx,PCFSoftShadowMap:sA,PMREMGenerator:cb,Path:JA,PerspectiveCamera:vr,Plane:Qc,PlaneBufferGeometry:lY,PlaneGeometry:Yp,PlaneHelper:W$,PointLight:QB,PointLightHelper:$N,Points:SB,PointsMaterial:gx,PolarGridHelper:H$,PolyhedronBufferGeometry:cY,PolyhedronGeometry:rc,PositionalAudio:A$,PropertyBinding:un,PropertyMixer:VN,QuadraticBezierCurve:MB,QuadraticBezierCurve3:TB,Quaternion:Yr,QuaternionKeyframeTrack:yu,QuaternionLinearInterpolant:DN,RED_GREEN_RGTC2_Format:ib,RED_RGTC1_Format:GO,REVISION:nc,RGBADepthPacking:jO,RGBAFormat:yr,RGBAIntegerFormat:zO,RGBA_ASTC_10x10_Format:eb,RGBA_ASTC_10x5_Format:qS,RGBA_ASTC_10x6_Format:XS,RGBA_ASTC_10x8_Format:ZS,RGBA_ASTC_12x10_Format:tb,RGBA_ASTC_12x12_Format:nb,RGBA_ASTC_4x4_Format:p_,RGBA_ASTC_5x4_Format:VS,RGBA_ASTC_5x5_Format:WS,RGBA_ASTC_6x5_Format:jS,RGBA_ASTC_6x6_Format:JS,RGBA_ASTC_8x5_Format:KS,RGBA_ASTC_8x6_Format:$S,RGBA_ASTC_8x8_Format:YS,RGBA_BPTC_Format:lA,RGBA_ETC2_EAC_Format:h_,RGBA_PVRTC_2BPPV1_Format:HS,RGBA_PVRTC_4BPPV1_Format:d_,RGBA_S3TC_DXT1_Format:R1,RGBA_S3TC_DXT3_Format:P1,RGBA_S3TC_DXT5_Format:aA,RGB_ETC1_Format:cB,RGB_ETC2_Format:f_,RGB_PVRTC_2BPPV1_Format:QS,RGB_PVRTC_4BPPV1_Format:u_,RGB_S3TC_DXT1_Format:oA,RGFormat:lp,RGIntegerFormat:UO,RawShaderMaterial:SN,Ray:u0,Raycaster:jN,RectAreaLight:ON,RedFormat:ap,RedIntegerFormat:NO,ReinhardToneMapping:IO,RepeatWrapping:gu,ReplaceStencilOp:P8,ReverseSubtractEquation:aO,RingBufferGeometry:uY,RingGeometry:_0,SIGNED_RED_GREEN_RGTC2_Format:sb,SIGNED_RED_RGTC1_Format:rb,SRGBColorSpace:qo,Scene:Up,ShaderChunk:Kt,ShaderLib:Zo,ShaderMaterial:zr,ShadowMaterial:EN,Shape:rf,ShapeBufferGeometry:dY,ShapeGeometry:x0,ShapePath:XN,ShapeUtils:Ka,ShortType:RO,Skeleton:p0,SkeletonHelper:U$,SkinnedMesh:wB,Source:Jd,Sphere:Tu,SphereBufferGeometry:fY,SphereGeometry:tm,Spherical:F$,SphericalHarmonics3:NN,SplineCurve:RB,SpotLight:GB,SpotLightHelper:JN,Sprite:fN,SpriteMaterial:xB,SrcAlphaFactor:sB,SrcAlphaSaturateFactor:gO,SrcColorFactor:uO,StaticCopyUsage:$8,StaticDrawUsage:VA,StaticReadUsage:j8,StereoCamera:p$,StreamCopyUsage:q8,StreamDrawUsage:W8,StreamReadUsage:K8,StringKeyframeTrack:Sf,SubtractEquation:oO,SubtractiveBlending:NS,TOUCH:C8,TangentSpaceNormalMap:Bu,TetrahedronBufferGeometry:hY,TetrahedronGeometry:w0,Texture:Tn,TextureLoader:I0,TorusBufferGeometry:pY,TorusGeometry:C0,TorusKnotBufferGeometry:mY,TorusKnotGeometry:E0,Triangle:bo,TriangleFanDrawMode:m_,TriangleStripDrawMode:dB,TrianglesDrawMode:WO,TubeBufferGeometry:gY,TubeGeometry:S0,TwoPassDoubleSide:S8,UVMapping:ox,Uint16BufferAttribute:mB,Uint32BufferAttribute:gB,Uint8BufferAttribute:PV,Uint8ClampedBufferAttribute:DV,Uniform:Xe,UniformsGroup:P$,UniformsLib:$e,UniformsUtils:eN,UnsignedByteType:Gn,UnsignedInt248Type:iu,UnsignedIntType:Ul,UnsignedShort4444Type:DO,UnsignedShort5551Type:LO,UnsignedShortType:lB,VSMShadowMap:Vd,Vector2:Ee,Vector3:H,Vector4:dn,VectorKeyframeTrack:gf,VideoTexture:xK,WebGL1Renderer:uN,WebGL3DRenderTarget:xV,WebGLArrayRenderTarget:_V,WebGLCubeRenderTarget:nN,WebGLMultipleRenderTargets:wV,WebGLRenderTarget:Zn,WebGLRenderer:fx,WebGLUtils:lN,WireframeGeometry:CN,WrapAroundEnding:HA,ZeroCurvatureEnding:Wd,ZeroFactor:lO,ZeroSlopeEnding:jd,ZeroStencilOp:R8,_SRGBAFormat:g_,sRGBEncoding:St},Symbol.toStringTag,{value:"Module"}));var ZN={exports:{}},bf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */bf.ConcurrentRoot=1;bf.ContinuousEventPriority=4;bf.DefaultEventPriority=16;bf.DiscreteEventPriority=1;bf.IdleEventPriority=536870912;bf.LegacyRoot=0;ZN.exports=bf;var fp=ZN.exports;function vY(t){let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=u?h:Object.assign({},e,h),n.forEach(g=>g(e,p))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function g(){const A=u(e);if(!h(p,A)){const v=p;c(p=A,v)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const yY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),AP=yY?M.useEffect:M.useLayoutEffect;function _Y(t){const e=typeof t=="function"?vY(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=M.useReducer(y=>y+1,0),o=e.getState(),a=M.useRef(o),l=M.useRef(r),c=M.useRef(i),u=M.useRef(!1),h=M.useRef();h.current===void 0&&(h.current=r(o));let p,g=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),g=!i(h.current,p)),AP(()=>{g&&(h.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const A=M.useRef(o);AP(()=>{const y=()=>{try{const x=e.getState(),E=l.current(x);c.current(h.current,E)||(a.current=x,h.current=E,s())}catch{u.current=!0,s()}},w=e.subscribe(y);return e.getState()!==A.current&&y(),w},[]);const v=g?p:h.current;return M.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var e4={exports:{}},t4={exports:{}},n4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,ne){var re=j.length;j.push(ne);e:for(;0<re;){var pe=re-1>>>1,te=j[pe];if(0<i(te,ne))j[pe]=ne,j[re]=te,re=pe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var ne=j[0],re=j.pop();if(re!==ne){j[0]=re;e:for(var pe=0,te=j.length,Se=te>>>1;pe<Se;){var xe=2*(pe+1)-1,ue=j[xe],Pe=xe+1,ke=j[Pe];if(0>i(ue,re))Pe<te&&0>i(ke,ue)?(j[pe]=ke,j[Pe]=re,pe=Pe):(j[pe]=ue,j[xe]=re,pe=xe);else if(Pe<te&&0>i(ke,re))j[pe]=ke,j[Pe]=re,pe=Pe;else break e}}return ne}function i(j,ne){var re=j.sortIndex-ne.sortIndex;return re!==0?re:j.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,A=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=j)r(c),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(c)}}function b(j){if(v=!1,E(j),!A)if(n(l)!==null)A=!0,de(P);else{var ne=n(c);ne!==null&&fe(b,ne.startTime-j)}}function P(j,ne){A=!1,v&&(v=!1,w(T),T=-1),g=!0;var re=p;try{for(E(ne),h=n(l);h!==null&&(!(h.expirationTime>ne)||j&&!W());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var te=pe(h.expirationTime<=ne);ne=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),E(ne)}else r(l);h=n(l)}if(h!==null)var Se=!0;else{var xe=n(c);xe!==null&&fe(b,xe.startTime-ne),Se=!1}return Se}finally{h=null,p=re,g=!1}}var R=!1,F=null,T=-1,O=5,U=-1;function W(){return!(t.unstable_now()-U<O)}function ee(){if(F!==null){var j=t.unstable_now();U=j;var ne=!0;try{ne=F(!0,j)}finally{ne?Z():(R=!1,F=null)}}else R=!1}var Z;if(typeof x=="function")Z=function(){x(ee)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,q=Y.port2;Y.port1.onmessage=ee,Z=function(){q.postMessage(null)}}else Z=function(){y(ee,0)};function de(j){F=j,R||(R=!0,Z())}function fe(j,ne){T=y(function(){j(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){A||g||(A=!0,de(P))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var re=p;p=ne;try{return j()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,ne){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var re=p;p=j;try{return ne()}finally{p=re}},t.unstable_scheduleCallback=function(j,ne,re){var pe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,j){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,j={id:u++,callback:ne,priorityLevel:j,startTime:re,expirationTime:te,sortIndex:-1},re>pe?(j.sortIndex=re,e(c,j),n(l)===null&&j===n(c)&&(v?(w(T),T=-1):v=!0,fe(b,re-pe))):(j.sortIndex=te,e(l,j),A||g||(A=!0,de(P))),j},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(j){var ne=p;return function(){var re=p;p=ne;try{return j.apply(this,arguments)}finally{p=re}}}})(n4);t4.exports=n4;var gb=t4.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xY=function(e){var n={},r=M,i=gb,s=Object.assign;function o(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)f+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),A=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(d){return d===null||typeof d!="object"?null:(d=P&&d[P]||d["@@iterator"],typeof d=="function"?d:null)}function F(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case A:return(d.displayName||"Context")+".Consumer";case g:return(d._context.displayName||"Context")+".Provider";case v:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return f=d.displayName||null,f!==null?f:F(d.type)||"Memo";case E:f=d._payload,d=d._init;try{return F(d(f))}catch{}}return null}function T(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function O(d){var f=d,_=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(_=f.return),d=f.return;while(d)}return f.tag===3?_:null}function U(d){if(O(d)!==d)throw Error(o(188))}function W(d){var f=d.alternate;if(!f){if(f=O(d),f===null)throw Error(o(188));return f!==d?null:d}for(var _=d,S=f;;){var B=_.return;if(B===null)break;var L=B.alternate;if(L===null){if(S=B.return,S!==null){_=S;continue}break}if(B.child===L.child){for(L=B.child;L;){if(L===_)return U(B),d;if(L===S)return U(B),f;L=L.sibling}throw Error(o(188))}if(_.return!==S.return)_=B,S=L;else{for(var $=!1,oe=B.child;oe;){if(oe===_){$=!0,_=B,S=L;break}if(oe===S){$=!0,S=B,_=L;break}oe=oe.sibling}if(!$){for(oe=L.child;oe;){if(oe===_){$=!0,_=L,S=B;break}if(oe===S){$=!0,S=L,_=B;break}oe=oe.sibling}if(!$)throw Error(o(189))}}if(_.alternate!==S)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?d:f}function ee(d){return d=W(d),d!==null?Z(d):null}function Z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=Z(d);if(f!==null)return f;d=d.sibling}return null}function Y(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=Y(d);if(f!==null)return f}d=d.sibling}return null}var q=Array.isArray,de=e.getPublicInstance,fe=e.getRootHostContext,j=e.getChildHostContext,ne=e.prepareForCommit,re=e.resetAfterCommit,pe=e.createInstance,te=e.appendInitialChild,Se=e.finalizeInitialChildren,xe=e.prepareUpdate,ue=e.shouldSetTextContent,Pe=e.createTextInstance,ke=e.scheduleTimeout,je=e.cancelTimeout,Ye=e.noTimeout,ze=e.isPrimaryRenderer,Fe=e.supportsMutation,Me=e.supportsPersistence,we=e.supportsHydration,Ue=e.getInstanceFromNode,nt=e.preparePortalMount,Je=e.getCurrentEventPriority,ut=e.detachDeletedInstance,at=e.supportsMicrotasks,ht=e.scheduleMicrotask,zt=e.supportsTestSelectors,Dt=e.findFiberRoot,K=e.getBoundingRect,N=e.getTextContent,le=e.isHiddenSubtree,De=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,Ne=e.setupIntersectionObserver,lt=e.appendChild,Ke=e.appendChildToContainer,Re=e.commitTextUpdate,pt=e.commitMount,Ze=e.commitUpdate,yt=e.insertBefore,gt=e.insertInContainerBefore,dt=e.removeChild,Gt=e.removeChildFromContainer,on=e.resetTextContent,Sn=e.hideInstance,ae=e.hideTextInstance,be=e.unhideInstance,Oe=e.unhideTextInstance,rt=e.clearContainer,st=e.cloneInstance,hn=e.createContainerChildSet,Vn=e.appendChildToContainerChildSet,xr=e.finalizeContainerChildren,er=e.replaceContainerChildren,bn=e.cloneHiddenInstance,Qr=e.cloneHiddenTextInstance,wi=e.canHydrateInstance,Fu=e.canHydrateTextInstance,ku=e.canHydrateSuspenseInstance,oc=e.isSuspenseInstancePending,J=e.isSuspenseInstanceFallback,Ae=e.registerSuspenseInstanceRetry,Ie=e.getNextHydratableSibling,he=e.getFirstHydratableChild,Te=e.getFirstHydratableChildWithinContainer,_t=e.getFirstHydratableChildWithinSuspenseInstance,xt=e.hydrateInstance,Ot=e.hydrateTextInstance,Pt=e.hydrateSuspenseInstance,Yt=e.getNextHydratableInstanceAfterSuspenseInstance,Nt=e.commitHydratedContainer,jt=e.commitHydratedSuspenseInstance,Dn=e.clearSuspenseBoundary,Hr=e.clearSuspenseBoundaryFromContainer,ji=e.shouldDeleteUnhydratedTailInstances,Us=e.didNotMatchHydratedContainerTextInstance,Ln=e.didNotMatchHydratedTextInstance,Qt;function zs(d){if(Qt===void 0)try{throw Error()}catch(_){var f=_.stack.trim().match(/\n( *(at )?)/);Qt=f&&f[1]||""}return`
`+Qt+d}var Fn=!1;function Ji(d,f){if(!d||Fn)return"";Fn=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(He){var S=He}Reflect.construct(d,[],f)}else{try{f.call()}catch(He){S=He}d.call(f.prototype)}else{try{throw Error()}catch(He){S=He}d()}}catch(He){if(He&&S&&typeof He.stack=="string"){for(var B=He.stack.split(`
`),L=S.stack.split(`
`),$=B.length-1,oe=L.length-1;1<=$&&0<=oe&&B[$]!==L[oe];)oe--;for(;1<=$&&0<=oe;$--,oe--)if(B[$]!==L[oe]){if($!==1||oe!==1)do if($--,oe--,0>oe||B[$]!==L[oe]){var Be=`
`+B[$].replace(" at new "," at ");return d.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",d.displayName)),Be}while(1<=$&&0<=oe);break}}}finally{Fn=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?zs(d):""}var Gs=Object.prototype.hasOwnProperty,Qs=[],ps=-1;function In(d){return{current:d}}function Ht(d){0>ps||(d.current=Qs[ps],Qs[ps]=null,ps--)}function tn(d,f){ps++,Qs[ps]=d.current,d.current=f}var kn={},Kn=In(kn),Tr=In(!1),Vr=kn;function ua(d,f){var _=d.type.contextTypes;if(!_)return kn;var S=d.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var B={},L;for(L in _)B[L]=f[L];return S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=B),B}function wr(d){return d=d.childContextTypes,d!=null}function ac(){Ht(Tr),Ht(Kn)}function Mf(d,f,_){if(Kn.current!==kn)throw Error(o(168));tn(Kn,f),tn(Tr,_)}function Tf(d,f,_){var S=d.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return _;S=S.getChildContext();for(var B in S)if(!(B in f))throw Error(o(108,T(d)||"Unknown",B));return s({},_,S)}function lc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||kn,Vr=Kn.current,tn(Kn,d),tn(Tr,Tr.current),!0}function Rf(d,f,_){var S=d.stateNode;if(!S)throw Error(o(169));_?(d=Tf(d,f,Vr),S.__reactInternalMemoizedMergedChildContext=d,Ht(Tr),Ht(Kn),tn(Kn,d)):Ht(Tr),tn(Tr,_)}var Ki=Math.clz32?Math.clz32:cm,da=Math.log,Pf=Math.LN2;function cm(d){return d>>>=0,d===0?32:31-(da(d)/Pf|0)|0}var fa=64,Hs=4194304;function po(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function cc(d,f){var _=d.pendingLanes;if(_===0)return 0;var S=0,B=d.suspendedLanes,L=d.pingedLanes,$=_&268435455;if($!==0){var oe=$&~B;oe!==0?S=po(oe):(L&=$,L!==0&&(S=po(L)))}else $=_&~B,$!==0?S=po($):L!==0&&(S=po(L));if(S===0)return 0;if(f!==0&&f!==S&&!(f&B)&&(B=S&-S,L=f&-f,B>=L||B===16&&(L&4194240)!==0))return f;if(S&4&&(S|=_&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=S;0<f;)_=31-Ki(f),B=1<<_,S|=d[_],f&=~B;return S}function Xa(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(d,f){for(var _=d.suspendedLanes,S=d.pingedLanes,B=d.expirationTimes,L=d.pendingLanes;0<L;){var $=31-Ki(L),oe=1<<$,Be=B[$];Be===-1?(!(oe&_)||oe&S)&&(B[$]=Xa(oe,f)):Be<=f&&(d.expiredLanes|=oe),L&=~oe}}function Ou(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Nu(d){for(var f=[],_=0;31>_;_++)f.push(d);return f}function Za(d,f,_){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Ki(f),d[f]=_}function dm(d,f){var _=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var S=d.eventTimes;for(d=d.expirationTimes;0<_;){var B=31-Ki(_),L=1<<B;f[B]=0,S[B]=-1,d[B]=-1,_&=~L}}function ha(d,f){var _=d.entangledLanes|=f;for(d=d.entanglements;_;){var S=31-Ki(_),B=1<<S;B&f|d[S]&f&&(d[S]|=f),_&=~B}}var Zt=0;function Uu(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var uc=i.unstable_scheduleCallback,zu=i.unstable_cancelCallback,fm=i.unstable_shouldYield,hm=i.unstable_requestPaint,dr=i.unstable_now,Gu=i.unstable_ImmediatePriority,pa=i.unstable_UserBlockingPriority,ma=i.unstable_NormalPriority,pm=i.unstable_IdlePriority,ga=null,ms=null;function mm(d){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(ga,d,void 0,(d.current.flags&128)===128)}catch{}}function gm(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var gs=typeof Object.is=="function"?Object.is:gm,Vs=null,dc=!1,Qu=!1;function Df(d){Vs===null?Vs=[d]:Vs.push(d)}function Am(d){dc=!0,Df(d)}function As(){if(!Qu&&Vs!==null){Qu=!0;var d=0,f=Zt;try{var _=Vs;for(Zt=1;d<_.length;d++){var S=_[d];do S=S(!0);while(S!==null)}Vs=null,dc=!1}catch(B){throw Vs!==null&&(Vs=Vs.slice(d+1)),uc(Gu,As),B}finally{Zt=f,Qu=!1}}return null}var vm=a.ReactCurrentBatchConfig;function Aa(d,f){if(gs(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var _=Object.keys(d),S=Object.keys(f);if(_.length!==S.length)return!1;for(S=0;S<_.length;S++){var B=_[S];if(!Gs.call(f,B)||!gs(d[B],f[B]))return!1}return!0}function Lf(d){switch(d.tag){case 5:return zs(d.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return d=Ji(d.type,!1),d;case 11:return d=Ji(d.type.render,!1),d;case 1:return d=Ji(d.type,!0),d;default:return""}}function Ci(d,f){if(d&&d.defaultProps){f=s({},f),d=d.defaultProps;for(var _ in d)f[_]===void 0&&(f[_]=d[_]);return f}return f}var el=In(null),fc=null,No=null,Hu=null;function Uo(){Hu=No=fc=null}function Vu(d,f,_){ze?(tn(el,f._currentValue),f._currentValue=_):(tn(el,f._currentValue2),f._currentValue2=_)}function hc(d){var f=el.current;Ht(el),ze?d._currentValue=f:d._currentValue2=f}function zo(d,f,_){for(;d!==null;){var S=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),d===_)break;d=d.return}}function Ws(d,f){fc=d,Hu=No=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(Si=!0),d.firstContext=null)}function Cr(d){var f=ze?d._currentValue:d._currentValue2;if(Hu!==d)if(d={context:d,memoizedValue:f,next:null},No===null){if(fc===null)throw Error(o(308));No=d,fc.dependencies={lanes:0,firstContext:d}}else No=No.next=d;return f}var $i=null,Yi=!1;function mo(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pc(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Bn(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function js(d,f){var _=d.updateQueue;_!==null&&(_=_.shared,hr!==null&&d.mode&1&&!(Wt&2)?(d=_.interleaved,d===null?(f.next=f,$i===null?$i=[_]:$i.push(_)):(f.next=d.next,d.next=f),_.interleaved=f):(d=_.pending,d===null?f.next=f:(f.next=d.next,d.next=f),_.pending=f))}function go(d,f,_){if(f=f.updateQueue,f!==null&&(f=f.shared,(_&4194240)!==0)){var S=f.lanes;S&=d.pendingLanes,_|=S,f.lanes=_,ha(d,_)}}function Wu(d,f){var _=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,_===S)){var B=null,L=null;if(_=_.firstBaseUpdate,_!==null){do{var $={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};L===null?B=L=$:L=L.next=$,_=_.next}while(_!==null);L===null?B=L=f:L=L.next=f}else B=L=f;_={baseState:S.baseState,firstBaseUpdate:B,lastBaseUpdate:L,shared:S.shared,effects:S.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=f:d.next=f,_.lastBaseUpdate=f}function tl(d,f,_,S){var B=d.updateQueue;Yi=!1;var L=B.firstBaseUpdate,$=B.lastBaseUpdate,oe=B.shared.pending;if(oe!==null){B.shared.pending=null;var Be=oe,He=Be.next;Be.next=null,$===null?L=He:$.next=He,$=Be;var it=d.alternate;it!==null&&(it=it.updateQueue,oe=it.lastBaseUpdate,oe!==$&&(oe===null?it.firstBaseUpdate=He:oe.next=He,it.lastBaseUpdate=Be))}if(L!==null){var Rt=B.baseState;$=0,it=He=Be=null,oe=L;do{var wt=oe.lane,An=oe.eventTime;if((S&wt)===wt){it!==null&&(it=it.next={eventTime:An,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var At=d,ri=oe;switch(wt=f,An=_,ri.tag){case 1:if(At=ri.payload,typeof At=="function"){Rt=At.call(An,Rt,wt);break e}Rt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=ri.payload,wt=typeof At=="function"?At.call(An,Rt,wt):At,wt==null)break e;Rt=s({},Rt,wt);break e;case 2:Yi=!0}}oe.callback!==null&&oe.lane!==0&&(d.flags|=64,wt=B.effects,wt===null?B.effects=[oe]:wt.push(oe))}else An={eventTime:An,lane:wt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},it===null?(He=it=An,Be=Rt):it=it.next=An,$|=wt;if(oe=oe.next,oe===null){if(oe=B.shared.pending,oe===null)break;wt=oe,oe=wt.next,wt.next=null,B.lastBaseUpdate=wt,B.shared.pending=null}}while(1);if(it===null&&(Be=Rt),B.baseState=Be,B.firstBaseUpdate=He,B.lastBaseUpdate=it,f=B.shared.interleaved,f!==null){B=f;do $|=B.lane,B=B.next;while(B!==f)}else L===null&&(B.shared.lanes=0);$s|=$,d.lanes=$,d.memoizedState=Rt}}function va(d,f,_){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var S=d[f],B=S.callback;if(B!==null){if(S.callback=null,S=_,typeof B!="function")throw Error(o(191,B));B.call(S)}}}var ya=new r.Component().refs;function ju(d,f,_,S){f=d.memoizedState,_=_(S,f),_=_==null?f:s({},f,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var mc={isMounted:function(d){return(d=d._reactInternals)?O(d)===d:!1},enqueueSetState:function(d,f,_){d=d._reactInternals;var S=jr(),B=Ra(d),L=Bn(S,B);L.payload=f,_!=null&&(L.callback=_),js(d,L),f=Ii(d,B,S),f!==null&&go(f,d,B)},enqueueReplaceState:function(d,f,_){d=d._reactInternals;var S=jr(),B=Ra(d),L=Bn(S,B);L.tag=1,L.payload=f,_!=null&&(L.callback=_),js(d,L),f=Ii(d,B,S),f!==null&&go(f,d,B)},enqueueForceUpdate:function(d,f){d=d._reactInternals;var _=jr(),S=Ra(d),B=Bn(_,S);B.tag=2,f!=null&&(B.callback=f),js(d,B),f=Ii(d,S,_),f!==null&&go(f,d,S)}};function Ff(d,f,_,S,B,L,$){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,L,$):f.prototype&&f.prototype.isPureReactComponent?!Aa(_,S)||!Aa(B,L):!0}function kf(d,f,_){var S=!1,B=kn,L=f.contextType;return typeof L=="object"&&L!==null?L=Cr(L):(B=wr(f)?Vr:Kn.current,S=f.contextTypes,L=(S=S!=null)?ua(d,B):kn),f=new f(_,L),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mc,d.stateNode=f,f._reactInternals=d,S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=B,d.__reactInternalMemoizedMaskedChildContext=L),f}function Ju(d,f,_,S){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(_,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(_,S),f.state!==d&&mc.enqueueReplaceState(f,f.state,null)}function nl(d,f,_,S){var B=d.stateNode;B.props=_,B.state=d.memoizedState,B.refs=ya,mo(d);var L=f.contextType;typeof L=="object"&&L!==null?B.context=Cr(L):(L=wr(f)?Vr:Kn.current,B.context=ua(d,L)),B.state=d.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(ju(d,f,L,_),B.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(f=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),f!==B.state&&mc.enqueueReplaceState(B,B.state,null),tl(d,_,B,S),B.state=d.memoizedState),typeof B.componentDidMount=="function"&&(d.flags|=4194308)}var _a=[],xa=0,rl=null,il=0,Er=[],_n=0,Js=null,Ks=1,vs="";function $n(d,f){_a[xa++]=il,_a[xa++]=rl,rl=d,il=f}function Of(d,f,_){Er[_n++]=Ks,Er[_n++]=vs,Er[_n++]=Js,Js=d;var S=Ks;d=vs;var B=32-Ki(S)-1;S&=~(1<<B),_+=1;var L=32-Ki(f)+B;if(30<L){var $=B-B%5;L=(S&(1<<$)-1).toString(32),S>>=$,B-=$,Ks=1<<32-Ki(f)+B|_<<B|S,vs=L+d}else Ks=1<<L|_<<B|S,vs=d}function Ku(d){d.return!==null&&($n(d,1),Of(d,1,0))}function $u(d){for(;d===rl;)rl=_a[--xa],_a[xa]=null,il=_a[--xa],_a[xa]=null;for(;d===Js;)Js=Er[--_n],Er[_n]=null,vs=Er[--_n],Er[_n]=null,Ks=Er[--_n],Er[_n]=null}var Zr=null,ui=null,an=!1,fr=!1,Rr=null;function Yu(d,f){var _=Cs(5,null,null,0);_.elementType="DELETED",_.stateNode=f,_.return=d,f=d.deletions,f===null?(d.deletions=[_],d.flags|=16):f.push(_)}function sl(d,f){switch(d.tag){case 5:return f=wi(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,Zr=d,ui=he(f),!0):!1;case 6:return f=Fu(f,d.pendingProps),f!==null?(d.stateNode=f,Zr=d,ui=null,!0):!1;case 13:if(f=ku(f),f!==null){var _=Js!==null?{id:Ks,overflow:vs}:null;return d.memoizedState={dehydrated:f,treeContext:_,retryLane:1073741824},_=Cs(18,null,null,0),_.stateNode=f,_.return=d,d.child=_,Zr=d,ui=null,!0}return!1;default:return!1}}function pn(d){return(d.mode&1)!==0&&(d.flags&128)===0}function wa(d){if(an){var f=ui;if(f){var _=f;if(!sl(d,f)){if(pn(d))throw Error(o(418));f=Ie(_);var S=Zr;f&&sl(d,f)?Yu(S,_):(d.flags=d.flags&-4097|2,an=!1,Zr=d)}}else{if(pn(d))throw Error(o(418));d.flags=d.flags&-4097|2,an=!1,Zr=d}}}function qu(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Zr=d}function ol(d){if(!we||d!==Zr)return!1;if(!an)return qu(d),an=!0,!1;if(d.tag!==3&&(d.tag!==5||ji(d.type)&&!ue(d.type,d.memoizedProps))){var f=ui;if(f){if(pn(d)){for(d=ui;d;)d=Ie(d);throw Error(o(418))}for(;f;)Yu(d,f),f=Ie(f)}}if(qu(d),d.tag===13){if(!we)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ui=Yt(d)}else ui=Zr?Ie(d.stateNode):null;return!0}function Go(){we&&(ui=Zr=null,fr=an=!1)}function gc(d){Rr===null?Rr=[d]:Rr.push(d)}function Ca(d,f,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var S=_.stateNode}if(!S)throw Error(o(147,d));var B=S,L=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===L?f.ref:(f=function($){var oe=B.refs;oe===ya&&(oe=B.refs={}),$===null?delete oe[L]:oe[L]=$},f._stringRef=L,f)}if(typeof d!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,d))}return d}function Ac(d,f){throw d=Object.prototype.toString.call(f),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function Ea(d){var f=d._init;return f(d._payload)}function Xu(d){function f(ge,ce){if(d){var _e=ge.deletions;_e===null?(ge.deletions=[ce],ge.flags|=16):_e.push(ce)}}function _(ge,ce){if(!d)return null;for(;ce!==null;)f(ge,ce),ce=ce.sibling;return null}function S(ge,ce){for(ge=new Map;ce!==null;)ce.key!==null?ge.set(ce.key,ce):ge.set(ce.index,ce),ce=ce.sibling;return ge}function B(ge,ce){return ge=La(ge,ce),ge.index=0,ge.sibling=null,ge}function L(ge,ce,_e){return ge.index=_e,d?(_e=ge.alternate,_e!==null?(_e=_e.index,_e<ce?(ge.flags|=2,ce):_e):(ge.flags|=2,ce)):(ge.flags|=1048576,ce)}function $(ge){return d&&ge.alternate===null&&(ge.flags|=2),ge}function oe(ge,ce,_e,et){return ce===null||ce.tag!==6?(ce=rg(_e,ge.mode,et),ce.return=ge,ce):(ce=B(ce,_e),ce.return=ge,ce)}function Be(ge,ce,_e,et){var mt=_e.type;return mt===u?it(ge,ce,_e.props.children,et,_e.key):ce!==null&&(ce.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===E&&Ea(mt)===ce.type)?(et=B(ce,_e.props),et.ref=Ca(ge,ce,_e),et.return=ge,et):(et=hh(_e.type,_e.key,_e.props,null,ge.mode,et),et.ref=Ca(ge,ce,_e),et.return=ge,et)}function He(ge,ce,_e,et){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==_e.containerInfo||ce.stateNode.implementation!==_e.implementation?(ce=ig(_e,ge.mode,et),ce.return=ge,ce):(ce=B(ce,_e.children||[]),ce.return=ge,ce)}function it(ge,ce,_e,et,mt){return ce===null||ce.tag!==7?(ce=gl(_e,ge.mode,et,mt),ce.return=ge,ce):(ce=B(ce,_e),ce.return=ge,ce)}function Rt(ge,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=rg(""+ce,ge.mode,_e),ce.return=ge,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return _e=hh(ce.type,ce.key,ce.props,null,ge.mode,_e),_e.ref=Ca(ge,null,ce),_e.return=ge,_e;case c:return ce=ig(ce,ge.mode,_e),ce.return=ge,ce;case E:var et=ce._init;return Rt(ge,et(ce._payload),_e)}if(q(ce)||R(ce))return ce=gl(ce,ge.mode,_e,null),ce.return=ge,ce;Ac(ge,ce)}return null}function wt(ge,ce,_e,et){var mt=ce!==null?ce.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return mt!==null?null:oe(ge,ce,""+_e,et);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===mt?Be(ge,ce,_e,et):null;case c:return _e.key===mt?He(ge,ce,_e,et):null;case E:return mt=_e._init,wt(ge,ce,mt(_e._payload),et)}if(q(_e)||R(_e))return mt!==null?null:it(ge,ce,_e,et,null);Ac(ge,_e)}return null}function An(ge,ce,_e,et,mt){if(typeof et=="string"&&et!==""||typeof et=="number")return ge=ge.get(_e)||null,oe(ce,ge,""+et,mt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case l:return ge=ge.get(et.key===null?_e:et.key)||null,Be(ce,ge,et,mt);case c:return ge=ge.get(et.key===null?_e:et.key)||null,He(ce,ge,et,mt);case E:var Vt=et._init;return An(ge,ce,_e,Vt(et._payload),mt)}if(q(et)||R(et))return ge=ge.get(_e)||null,it(ce,ge,et,mt,null);Ac(ce,et)}return null}function At(ge,ce,_e,et){for(var mt=null,Vt=null,Lt=ce,ln=ce=0,Dr=null;Lt!==null&&ln<_e.length;ln++){Lt.index>ln?(Dr=Lt,Lt=null):Dr=Lt.sibling;var cn=wt(ge,Lt,_e[ln],et);if(cn===null){Lt===null&&(Lt=Dr);break}d&&Lt&&cn.alternate===null&&f(ge,Lt),ce=L(cn,ce,ln),Vt===null?mt=cn:Vt.sibling=cn,Vt=cn,Lt=Dr}if(ln===_e.length)return _(ge,Lt),an&&$n(ge,ln),mt;if(Lt===null){for(;ln<_e.length;ln++)Lt=Rt(ge,_e[ln],et),Lt!==null&&(ce=L(Lt,ce,ln),Vt===null?mt=Lt:Vt.sibling=Lt,Vt=Lt);return an&&$n(ge,ln),mt}for(Lt=S(ge,Lt);ln<_e.length;ln++)Dr=An(Lt,ge,ln,_e[ln],et),Dr!==null&&(d&&Dr.alternate!==null&&Lt.delete(Dr.key===null?ln:Dr.key),ce=L(Dr,ce,ln),Vt===null?mt=Dr:Vt.sibling=Dr,Vt=Dr);return d&&Lt.forEach(function(Vo){return f(ge,Vo)}),an&&$n(ge,ln),mt}function ri(ge,ce,_e,et){var mt=R(_e);if(typeof mt!="function")throw Error(o(150));if(_e=mt.call(_e),_e==null)throw Error(o(151));for(var Vt=mt=null,Lt=ce,ln=ce=0,Dr=null,cn=_e.next();Lt!==null&&!cn.done;ln++,cn=_e.next()){Lt.index>ln?(Dr=Lt,Lt=null):Dr=Lt.sibling;var Vo=wt(ge,Lt,cn.value,et);if(Vo===null){Lt===null&&(Lt=Dr);break}d&&Lt&&Vo.alternate===null&&f(ge,Lt),ce=L(Vo,ce,ln),Vt===null?mt=Vo:Vt.sibling=Vo,Vt=Vo,Lt=Dr}if(cn.done)return _(ge,Lt),an&&$n(ge,ln),mt;if(Lt===null){for(;!cn.done;ln++,cn=_e.next())cn=Rt(ge,cn.value,et),cn!==null&&(ce=L(cn,ce,ln),Vt===null?mt=cn:Vt.sibling=cn,Vt=cn);return an&&$n(ge,ln),mt}for(Lt=S(ge,Lt);!cn.done;ln++,cn=_e.next())cn=An(Lt,ge,ln,cn.value,et),cn!==null&&(d&&cn.alternate!==null&&Lt.delete(cn.key===null?ln:cn.key),ce=L(cn,ce,ln),Vt===null?mt=cn:Vt.sibling=cn,Vt=cn);return d&&Lt.forEach(function(uw){return f(ge,uw)}),an&&$n(ge,ln),mt}function Xi(ge,ce,_e,et){if(typeof _e=="object"&&_e!==null&&_e.type===u&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var mt=_e.key,Vt=ce;Vt!==null;){if(Vt.key===mt){if(mt=_e.type,mt===u){if(Vt.tag===7){_(ge,Vt.sibling),ce=B(Vt,_e.props.children),ce.return=ge,ge=ce;break e}}else if(Vt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===E&&Ea(mt)===Vt.type){_(ge,Vt.sibling),ce=B(Vt,_e.props),ce.ref=Ca(ge,Vt,_e),ce.return=ge,ge=ce;break e}_(ge,Vt);break}else f(ge,Vt);Vt=Vt.sibling}_e.type===u?(ce=gl(_e.props.children,ge.mode,et,_e.key),ce.return=ge,ge=ce):(et=hh(_e.type,_e.key,_e.props,null,ge.mode,et),et.ref=Ca(ge,ce,_e),et.return=ge,ge=et)}return $(ge);case c:e:{for(Vt=_e.key;ce!==null;){if(ce.key===Vt)if(ce.tag===4&&ce.stateNode.containerInfo===_e.containerInfo&&ce.stateNode.implementation===_e.implementation){_(ge,ce.sibling),ce=B(ce,_e.children||[]),ce.return=ge,ge=ce;break e}else{_(ge,ce);break}else f(ge,ce);ce=ce.sibling}ce=ig(_e,ge.mode,et),ce.return=ge,ge=ce}return $(ge);case E:return Vt=_e._init,Xi(ge,ce,Vt(_e._payload),et)}if(q(_e))return At(ge,ce,_e,et);if(R(_e))return ri(ge,ce,_e,et);Ac(ge,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ce!==null&&ce.tag===6?(_(ge,ce.sibling),ce=B(ce,_e),ce.return=ge,ge=ce):(_(ge,ce),ce=rg(_e,ge.mode,et),ce.return=ge,ge=ce),$(ge)):_(ge,ce)}return Xi}var Sa=Xu(!0),Nf=Xu(!1),ba={},Ei=In(ba),ys=In(ba),k=In(ba);function V(d){if(d===ba)throw Error(o(174));return d}function ie(d,f){tn(k,f),tn(ys,d),tn(Ei,ba),d=fe(f),Ht(Ei),tn(Ei,d)}function ye(){Ht(Ei),Ht(ys),Ht(k)}function Et(d){var f=V(k.current),_=V(Ei.current);f=j(_,d.type,f),_!==f&&(tn(ys,d),tn(Ei,f))}function nn(d){ys.current===d&&(Ht(Ei),Ht(ys))}var Jt=In(0);function di(d){for(var f=d;f!==null;){if(f.tag===13){var _=f.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||oc(_)||J(_)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var vc=[];function _s(){for(var d=0;d<vc.length;d++){var f=vc[d];ze?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}vc.length=0}var Ia=a.ReactCurrentDispatcher,xs=a.ReactCurrentBatchConfig,Ba=0,Yn=null,ei=null,Pr=null,Uf=!1,Zu=!1,ed=0,Gx=0;function ti(){throw Error(o(321))}function ym(d,f){if(f===null)return!1;for(var _=0;_<f.length&&_<d.length;_++)if(!gs(d[_],f[_]))return!1;return!0}function zf(d,f,_,S,B,L){if(Ba=L,Yn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ia.current=d===null||d.memoizedState===null?Wx:jx,d=_(S,B),Zu){L=0;do{if(Zu=!1,ed=0,25<=L)throw Error(o(301));L+=1,Pr=ei=null,f.updateQueue=null,Ia.current=Jx,d=_(S,B)}while(Zu)}if(Ia.current=Wf,f=ei!==null&&ei.next!==null,Ba=0,Pr=ei=Yn=null,Uf=!1,f)throw Error(o(300));return d}function Gf(){var d=ed!==0;return ed=0,d}function Qo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Yn.memoizedState=Pr=d:Pr=Pr.next=d,Pr}function Ao(){if(ei===null){var d=Yn.alternate;d=d!==null?d.memoizedState:null}else d=ei.next;var f=Pr===null?Yn.memoizedState:Pr.next;if(f!==null)Pr=f,ei=d;else{if(d===null)throw Error(o(310));ei=d,d={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},Pr===null?Yn.memoizedState=Pr=d:Pr=Pr.next=d}return Pr}function al(d,f){return typeof f=="function"?f(d):f}function td(d){var f=Ao(),_=f.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var S=ei,B=S.baseQueue,L=_.pending;if(L!==null){if(B!==null){var $=B.next;B.next=L.next,L.next=$}S.baseQueue=B=L,_.pending=null}if(B!==null){L=B.next,S=S.baseState;var oe=$=null,Be=null,He=L;do{var it=He.lane;if((Ba&it)===it)Be!==null&&(Be=Be.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),S=He.hasEagerState?He.eagerState:d(S,He.action);else{var Rt={lane:it,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Be===null?(oe=Be=Rt,$=S):Be=Be.next=Rt,Yn.lanes|=it,$s|=it}He=He.next}while(He!==null&&He!==L);Be===null?$=S:Be.next=oe,gs(S,f.memoizedState)||(Si=!0),f.memoizedState=S,f.baseState=$,f.baseQueue=Be,_.lastRenderedState=S}if(d=_.interleaved,d!==null){B=d;do L=B.lane,Yn.lanes|=L,$s|=L,B=B.next;while(B!==d)}else B===null&&(_.lanes=0);return[f.memoizedState,_.dispatch]}function Qf(d){var f=Ao(),_=f.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var S=_.dispatch,B=_.pending,L=f.memoizedState;if(B!==null){_.pending=null;var $=B=B.next;do L=d(L,$.action),$=$.next;while($!==B);gs(L,f.memoizedState)||(Si=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),_.lastRenderedState=L}return[L,S]}function z0(){}function _m(d,f){var _=Yn,S=Ao(),B=f(),L=!gs(S.memoizedState,B);if(L&&(S.memoizedState=B,Si=!0),S=S.queue,nd(wm.bind(null,_,S,d),[d]),S.getSnapshot!==f||L||Pr!==null&&Pr.memoizedState.tag&1){if(_.flags|=2048,ll(9,G0.bind(null,_,S,B,f),void 0,null),hr===null)throw Error(o(349));Ba&30||xm(_,f,B)}return B}function xm(d,f,_){d.flags|=16384,d={getSnapshot:f,value:_},f=Yn.updateQueue,f===null?(f={lastEffect:null,stores:null},Yn.updateQueue=f,f.stores=[d]):(_=f.stores,_===null?f.stores=[d]:_.push(d))}function G0(d,f,_,S){f.value=_,f.getSnapshot=S,Q0(f)&&Ii(d,1,-1)}function wm(d,f,_){return _(function(){Q0(f)&&Ii(d,1,-1)})}function Q0(d){var f=d.getSnapshot;d=d.value;try{var _=f();return!gs(d,_)}catch{return!0}}function Cm(d){var f=Qo();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:d},f.queue=d,d=d.dispatch=Vx.bind(null,Yn,d),[f.memoizedState,d]}function ll(d,f,_,S){return d={tag:d,create:f,destroy:_,deps:S,next:null},f=Yn.updateQueue,f===null?(f={lastEffect:null,stores:null},Yn.updateQueue=f,f.lastEffect=d.next=d):(_=f.lastEffect,_===null?f.lastEffect=d.next=d:(S=_.next,_.next=d,d.next=S,f.lastEffect=d)),d}function H0(){return Ao().memoizedState}function Hf(d,f,_,S){var B=Qo();Yn.flags|=d,B.memoizedState=ll(1|f,_,void 0,S===void 0?null:S)}function Vf(d,f,_,S){var B=Ao();S=S===void 0?null:S;var L=void 0;if(ei!==null){var $=ei.memoizedState;if(L=$.destroy,S!==null&&ym(S,$.deps)){B.memoizedState=ll(f,_,L,S);return}}Yn.flags|=d,B.memoizedState=ll(1|f,_,L,S)}function Em(d,f){return Hf(8390656,8,d,f)}function nd(d,f){return Vf(2048,8,d,f)}function V0(d,f){return Vf(4,2,d,f)}function W0(d,f){return Vf(4,4,d,f)}function j0(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function J0(d,f,_){return _=_!=null?_.concat([d]):null,Vf(4,4,j0.bind(null,f,d),_)}function Sm(){}function K0(d,f){var _=Ao();f=f===void 0?null:f;var S=_.memoizedState;return S!==null&&f!==null&&ym(f,S[1])?S[0]:(_.memoizedState=[d,f],d)}function $0(d,f){var _=Ao();f=f===void 0?null:f;var S=_.memoizedState;return S!==null&&f!==null&&ym(f,S[1])?S[0]:(d=d(),_.memoizedState=[d,f],d)}function Qx(d,f){var _=Zt;Zt=_!==0&&4>_?_:4,d(!0);var S=xs.transition;xs.transition={};try{d(!1),f()}finally{Zt=_,xs.transition=S}}function Y0(){return Ao().memoizedState}function Hx(d,f,_){var S=Ra(d);_={lane:S,action:_,hasEagerState:!1,eagerState:null,next:null},q0(d)?X0(f,_):(Z0(d,f,_),_=jr(),d=Ii(d,S,_),d!==null&&ev(d,f,S))}function Vx(d,f,_){var S=Ra(d),B={lane:S,action:_,hasEagerState:!1,eagerState:null,next:null};if(q0(d))X0(f,B);else{Z0(d,f,B);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var $=f.lastRenderedState,oe=L($,_);if(B.hasEagerState=!0,B.eagerState=oe,gs(oe,$))return}catch{}finally{}_=jr(),d=Ii(d,S,_),d!==null&&ev(d,f,S)}}function q0(d){var f=d.alternate;return d===Yn||f!==null&&f===Yn}function X0(d,f){Zu=Uf=!0;var _=d.pending;_===null?f.next=f:(f.next=_.next,_.next=f),d.pending=f}function Z0(d,f,_){hr!==null&&d.mode&1&&!(Wt&2)?(d=f.interleaved,d===null?(_.next=_,$i===null?$i=[f]:$i.push(f)):(_.next=d.next,d.next=_),f.interleaved=_):(d=f.pending,d===null?_.next=_:(_.next=d.next,d.next=_),f.pending=_)}function ev(d,f,_){if(_&4194240){var S=f.lanes;S&=d.pendingLanes,_|=S,f.lanes=_,ha(d,_)}}var Wf={readContext:Cr,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},Wx={readContext:Cr,useCallback:function(d,f){return Qo().memoizedState=[d,f===void 0?null:f],d},useContext:Cr,useEffect:Em,useImperativeHandle:function(d,f,_){return _=_!=null?_.concat([d]):null,Hf(4194308,4,j0.bind(null,f,d),_)},useLayoutEffect:function(d,f){return Hf(4194308,4,d,f)},useInsertionEffect:function(d,f){return Hf(4,2,d,f)},useMemo:function(d,f){var _=Qo();return f=f===void 0?null:f,d=d(),_.memoizedState=[d,f],d},useReducer:function(d,f,_){var S=Qo();return f=_!==void 0?_(f):f,S.memoizedState=S.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},S.queue=d,d=d.dispatch=Hx.bind(null,Yn,d),[S.memoizedState,d]},useRef:function(d){var f=Qo();return d={current:d},f.memoizedState=d},useState:Cm,useDebugValue:Sm,useDeferredValue:function(d){var f=Cm(d),_=f[0],S=f[1];return Em(function(){var B=xs.transition;xs.transition={};try{S(d)}finally{xs.transition=B}},[d]),_},useTransition:function(){var d=Cm(!1),f=d[0];return d=Qx.bind(null,d[1]),Qo().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,_){var S=Yn,B=Qo();if(an){if(_===void 0)throw Error(o(407));_=_()}else{if(_=f(),hr===null)throw Error(o(349));Ba&30||xm(S,f,_)}B.memoizedState=_;var L={value:_,getSnapshot:f};return B.queue=L,Em(wm.bind(null,S,L,d),[d]),S.flags|=2048,ll(9,G0.bind(null,S,L,_,f),void 0,null),_},useId:function(){var d=Qo(),f=hr.identifierPrefix;if(an){var _=vs,S=Ks;_=(S&~(1<<32-Ki(S)-1)).toString(32)+_,f=":"+f+"R"+_,_=ed++,0<_&&(f+="H"+_.toString(32)),f+=":"}else _=Gx++,f=":"+f+"r"+_.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},jx={readContext:Cr,useCallback:K0,useContext:Cr,useEffect:nd,useImperativeHandle:J0,useInsertionEffect:V0,useLayoutEffect:W0,useMemo:$0,useReducer:td,useRef:H0,useState:function(){return td(al)},useDebugValue:Sm,useDeferredValue:function(d){var f=td(al),_=f[0],S=f[1];return nd(function(){var B=xs.transition;xs.transition={};try{S(d)}finally{xs.transition=B}},[d]),_},useTransition:function(){var d=td(al)[0],f=Ao().memoizedState;return[d,f]},useMutableSource:z0,useSyncExternalStore:_m,useId:Y0,unstable_isNewReconciler:!1},Jx={readContext:Cr,useCallback:K0,useContext:Cr,useEffect:nd,useImperativeHandle:J0,useInsertionEffect:V0,useLayoutEffect:W0,useMemo:$0,useReducer:Qf,useRef:H0,useState:function(){return Qf(al)},useDebugValue:Sm,useDeferredValue:function(d){var f=Qf(al),_=f[0],S=f[1];return nd(function(){var B=xs.transition;xs.transition={};try{S(d)}finally{xs.transition=B}},[d]),_},useTransition:function(){var d=Qf(al)[0],f=Ao().memoizedState;return[d,f]},useMutableSource:z0,useSyncExternalStore:_m,useId:Y0,unstable_isNewReconciler:!1};function xn(d,f){try{var _="",S=f;do _+=Lf(S),S=S.return;while(S);var B=_}catch(L){B=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:f,stack:B}}function bm(d,f){try{console.error(f.value)}catch(_){setTimeout(function(){throw _})}}var Kx=typeof WeakMap=="function"?WeakMap:Map;function tv(d,f,_){_=Bn(-1,_),_.tag=3,_.payload={element:null};var S=f.value;return _.callback=function(){cd||(cd=!0,$m=S),bm(d,f)},_}function nv(d,f,_){_=Bn(-1,_),_.tag=3;var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var B=f.value;_.payload=function(){return S(B)},_.callback=function(){bm(d,f)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(_.callback=function(){bm(d,f),typeof S!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var $=f.stack;this.componentDidCatch(f.value,{componentStack:$!==null?$:""})}),_}function Im(d,f,_){var S=d.pingCache;if(S===null){S=d.pingCache=new Kx;var B=new Set;S.set(f,B)}else B=S.get(f),B===void 0&&(B=new Set,S.set(f,B));B.has(_)||(B.add(_),d=rw.bind(null,d,f,_),f.then(d,d))}function yc(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function rv(d,f,_,S,B){return d.mode&1?(d.flags|=65536,d.lanes=B,d):(d===f?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(f=Bn(-1,1),f.tag=2,js(_,f))),_.lanes|=1),d)}function ws(d){d.flags|=4}function iv(d,f){if(d!==null&&d.child===f.child)return!0;if(f.flags&16)return!1;for(d=f.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var _c,xc,jf,rd;if(Fe)_c=function(d,f){for(var _=f.child;_!==null;){if(_.tag===5||_.tag===6)te(d,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},xc=function(){},jf=function(d,f,_,S,B){if(d=d.memoizedProps,d!==S){var L=f.stateNode,$=V(Ei.current);_=xe(L,_,d,S,B,$),(f.updateQueue=_)&&ws(f)}},rd=function(d,f,_,S){_!==S&&ws(f)};else if(Me){_c=function(d,f,_,S){for(var B=f.child;B!==null;){if(B.tag===5){var L=B.stateNode;_&&S&&(L=bn(L,B.type,B.memoizedProps,B)),te(d,L)}else if(B.tag===6)L=B.stateNode,_&&S&&(L=Qr(L,B.memoizedProps,B)),te(d,L);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)L=B.child,L!==null&&(L.return=B),_c(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===f)break;for(;B.sibling===null;){if(B.return===null||B.return===f)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};var sv=function(d,f,_,S){for(var B=f.child;B!==null;){if(B.tag===5){var L=B.stateNode;_&&S&&(L=bn(L,B.type,B.memoizedProps,B)),Vn(d,L)}else if(B.tag===6)L=B.stateNode,_&&S&&(L=Qr(L,B.memoizedProps,B)),Vn(d,L);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)L=B.child,L!==null&&(L.return=B),sv(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===f)break;for(;B.sibling===null;){if(B.return===null||B.return===f)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};xc=function(d,f){var _=f.stateNode;if(!iv(d,f)){d=_.containerInfo;var S=hn(d);sv(S,f,!1,!1),_.pendingChildren=S,ws(f),xr(d,S)}},jf=function(d,f,_,S,B){var L=d.stateNode,$=d.memoizedProps;if((d=iv(d,f))&&$===S)f.stateNode=L;else{var oe=f.stateNode,Be=V(Ei.current),He=null;$!==S&&(He=xe(oe,_,$,S,B,Be)),d&&He===null?f.stateNode=L:(L=st(L,He,_,$,S,f,d,oe),Se(L,_,S,B,Be)&&ws(f),f.stateNode=L,d?ws(f):_c(L,f,!1,!1))}},rd=function(d,f,_,S){_!==S?(d=V(k.current),_=V(Ei.current),f.stateNode=Pe(S,d,_,f),ws(f)):f.stateNode=d.stateNode}}else xc=function(){},jf=function(){},rd=function(){};function id(d,f){if(!an)switch(d.tailMode){case"hidden":f=d.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var S=null;_!==null;)_.alternate!==null&&(S=_),_=_.sibling;S===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function ni(d){var f=d.alternate!==null&&d.alternate.child===d.child,_=0,S=0;if(f)for(var B=d.child;B!==null;)_|=B.lanes|B.childLanes,S|=B.subtreeFlags&14680064,S|=B.flags&14680064,B.return=d,B=B.sibling;else for(B=d.child;B!==null;)_|=B.lanes|B.childLanes,S|=B.subtreeFlags,S|=B.flags,B.return=d,B=B.sibling;return d.subtreeFlags|=S,d.childLanes=_,f}function $x(d,f,_){var S=f.pendingProps;switch($u(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(f),null;case 1:return wr(f.type)&&ac(),ni(f),null;case 3:return S=f.stateNode,ye(),Ht(Tr),Ht(Kn),_s(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(d===null||d.child===null)&&(ol(f)?ws(f):d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Rr!==null&&(dh(Rr),Rr=null))),xc(d,f),ni(f),null;case 5:nn(f),_=V(k.current);var B=f.type;if(d!==null&&f.stateNode!=null)jf(d,f,B,S,_),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return ni(f),null}if(d=V(Ei.current),ol(f)){if(!we)throw Error(o(175));d=xt(f.stateNode,f.type,f.memoizedProps,_,d,f,!fr),f.updateQueue=d,d!==null&&ws(f)}else{var L=pe(B,S,_,d,f);_c(L,f,!1,!1),f.stateNode=L,Se(L,B,S,_,d)&&ws(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ni(f),null;case 6:if(d&&f.stateNode!=null)rd(d,f,d.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(d=V(k.current),_=V(Ei.current),ol(f)){if(!we)throw Error(o(176));if(d=f.stateNode,S=f.memoizedProps,(_=Ot(d,S,f,!fr))&&(B=Zr,B!==null))switch(L=(B.mode&1)!==0,B.tag){case 3:Us(B.stateNode.containerInfo,d,S,L);break;case 5:Ln(B.type,B.memoizedProps,B.stateNode,d,S,L)}_&&ws(f)}else f.stateNode=Pe(S,d,_,f)}return ni(f),null;case 13:if(Ht(Jt),S=f.memoizedState,an&&ui!==null&&f.mode&1&&!(f.flags&128)){for(d=ui;d;)d=Ie(d);return Go(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=ol(f),d===null){if(!S)throw Error(o(318));if(!we)throw Error(o(344));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Pt(d,f)}else Go(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ni(f),null}return Rr!==null&&(dh(Rr),Rr=null),f.flags&128?(f.lanes=_,f):(S=S!==null,_=!1,d===null?ol(f):_=d.memoizedState!==null,S&&!_&&(f.child.flags|=8192,f.mode&1&&(d===null||Jt.current&1?Sr===0&&(Sr=3):eg())),f.updateQueue!==null&&(f.flags|=4),ni(f),null);case 4:return ye(),xc(d,f),d===null&&nt(f.stateNode.containerInfo),ni(f),null;case 10:return hc(f.type._context),ni(f),null;case 17:return wr(f.type)&&ac(),ni(f),null;case 19:if(Ht(Jt),B=f.memoizedState,B===null)return ni(f),null;if(S=(f.flags&128)!==0,L=B.rendering,L===null)if(S)id(B,!1);else{if(Sr!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(L=di(d),L!==null){for(f.flags|=128,id(B,!1),d=L.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=_,S=f.child;S!==null;)_=S,B=d,_.flags&=14680066,L=_.alternate,L===null?(_.childLanes=0,_.lanes=B,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=L.childLanes,_.lanes=L.lanes,_.child=L.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=L.memoizedProps,_.memoizedState=L.memoizedState,_.updateQueue=L.updateQueue,_.type=L.type,B=L.dependencies,_.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),S=S.sibling;return tn(Jt,Jt.current&1|2),f.child}d=d.sibling}B.tail!==null&&dr()>Km&&(f.flags|=128,S=!0,id(B,!1),f.lanes=4194304)}else{if(!S)if(d=di(L),d!==null){if(f.flags|=128,S=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),id(B,!0),B.tail===null&&B.tailMode==="hidden"&&!L.alternate&&!an)return ni(f),null}else 2*dr()-B.renderingStartTime>Km&&_!==1073741824&&(f.flags|=128,S=!0,id(B,!1),f.lanes=4194304);B.isBackwards?(L.sibling=f.child,f.child=L):(d=B.last,d!==null?d.sibling=L:f.child=L,B.last=L)}return B.tail!==null?(f=B.tail,B.rendering=f,B.tail=f.sibling,B.renderingStartTime=dr(),f.sibling=null,d=Jt.current,tn(Jt,S?d&1|2:d&1),f):(ni(f),null);case 22:case 23:return Xm(),S=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?qi&1073741824&&(ni(f),Fe&&f.subtreeFlags&6&&(f.flags|=8192)):ni(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var Yx=a.ReactCurrentOwner,Si=!1;function fi(d,f,_,S){f.child=d===null?Nf(f,null,_,S):Sa(f,d.child,_,S)}function ov(d,f,_,S,B){_=_.render;var L=f.ref;return Ws(f,B),S=zf(d,f,_,S,L,B),_=Gf(),d!==null&&!Si?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~B,Ho(d,f,B)):(an&&_&&Ku(f),f.flags|=1,fi(d,f,S,B),f.child)}function av(d,f,_,S,B){if(d===null){var L=_.type;return typeof L=="function"&&!ng(L)&&L.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(f.tag=15,f.type=L,lv(d,f,L,S,B)):(d=hh(_.type,null,S,f,f.mode,B),d.ref=f.ref,d.return=f,f.child=d)}if(L=d.child,!(d.lanes&B)){var $=L.memoizedProps;if(_=_.compare,_=_!==null?_:Aa,_($,S)&&d.ref===f.ref)return Ho(d,f,B)}return f.flags|=1,d=La(L,S),d.ref=f.ref,d.return=f,f.child=d}function lv(d,f,_,S,B){if(d!==null&&Aa(d.memoizedProps,S)&&d.ref===f.ref)if(Si=!1,(d.lanes&B)!==0)d.flags&131072&&(Si=!0);else return f.lanes=d.lanes,Ho(d,f,B);return Bm(d,f,_,S,B)}function cv(d,f,_){var S=f.pendingProps,B=S.children,L=d!==null?d.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},tn(wc,qi),qi|=_;else if(_&1073741824)f.memoizedState={baseLanes:0,cachePool:null},S=L!==null?L.baseLanes:_,tn(wc,qi),qi|=S;else return d=L!==null?L.baseLanes|_:_,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null},f.updateQueue=null,tn(wc,qi),qi|=d,null;else L!==null?(S=L.baseLanes|_,f.memoizedState=null):S=_,tn(wc,qi),qi|=S;return fi(d,f,B,_),f.child}function uv(d,f){var _=f.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(f.flags|=512,f.flags|=2097152)}function Bm(d,f,_,S,B){var L=wr(_)?Vr:Kn.current;return L=ua(f,L),Ws(f,B),_=zf(d,f,_,S,L,B),S=Gf(),d!==null&&!Si?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~B,Ho(d,f,B)):(an&&S&&Ku(f),f.flags|=1,fi(d,f,_,B),f.child)}function Jf(d,f,_,S,B){if(wr(_)){var L=!0;lc(f)}else L=!1;if(Ws(f,B),f.stateNode===null)d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),kf(f,_,S),nl(f,_,S,B),S=!0;else if(d===null){var $=f.stateNode,oe=f.memoizedProps;$.props=oe;var Be=$.context,He=_.contextType;typeof He=="object"&&He!==null?He=Cr(He):(He=wr(_)?Vr:Kn.current,He=ua(f,He));var it=_.getDerivedStateFromProps,Rt=typeof it=="function"||typeof $.getSnapshotBeforeUpdate=="function";Rt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(oe!==S||Be!==He)&&Ju(f,$,S,He),Yi=!1;var wt=f.memoizedState;$.state=wt,tl(f,S,$,B),Be=f.memoizedState,oe!==S||wt!==Be||Tr.current||Yi?(typeof it=="function"&&(ju(f,_,it,S),Be=f.memoizedState),(oe=Yi||Ff(f,_,oe,S,wt,Be,He))?(Rt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(f.flags|=4194308)):(typeof $.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Be),$.props=S,$.state=Be,$.context=He,S=oe):(typeof $.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{$=f.stateNode,pc(d,f),oe=f.memoizedProps,He=f.type===f.elementType?oe:Ci(f.type,oe),$.props=He,Rt=f.pendingProps,wt=$.context,Be=_.contextType,typeof Be=="object"&&Be!==null?Be=Cr(Be):(Be=wr(_)?Vr:Kn.current,Be=ua(f,Be));var An=_.getDerivedStateFromProps;(it=typeof An=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(oe!==Rt||wt!==Be)&&Ju(f,$,S,Be),Yi=!1,wt=f.memoizedState,$.state=wt,tl(f,S,$,B);var At=f.memoizedState;oe!==Rt||wt!==At||Tr.current||Yi?(typeof An=="function"&&(ju(f,_,An,S),At=f.memoizedState),(He=Yi||Ff(f,_,He,S,wt,At,Be)||!1)?(it||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(S,At,Be),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(S,At,Be)),typeof $.componentDidUpdate=="function"&&(f.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof $.componentDidUpdate!="function"||oe===d.memoizedProps&&wt===d.memoizedState||(f.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&wt===d.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=At),$.props=S,$.state=At,$.context=Be,S=He):(typeof $.componentDidUpdate!="function"||oe===d.memoizedProps&&wt===d.memoizedState||(f.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&wt===d.memoizedState||(f.flags|=1024),S=!1)}return Mm(d,f,_,S,L,B)}function Mm(d,f,_,S,B,L){uv(d,f);var $=(f.flags&128)!==0;if(!S&&!$)return B&&Rf(f,_,!1),Ho(d,f,L);S=f.stateNode,Yx.current=f;var oe=$&&typeof _.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,d!==null&&$?(f.child=Sa(f,d.child,null,L),f.child=Sa(f,null,oe,L)):fi(d,f,oe,L),f.memoizedState=S.state,B&&Rf(f,_,!0),f.child}function dv(d){var f=d.stateNode;f.pendingContext?Mf(d,f.pendingContext,f.pendingContext!==f.context):f.context&&Mf(d,f.context,!1),ie(d,f.containerInfo)}function fv(d,f,_,S,B){return Go(),gc(B),f.flags|=256,fi(d,f,_,S),f.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function $f(d){return{baseLanes:d,cachePool:null}}function hv(d,f,_){var S=f.pendingProps,B=Jt.current,L=!1,$=(f.flags&128)!==0,oe;if((oe=$)||(oe=d!==null&&d.memoizedState===null?!1:(B&2)!==0),oe?(L=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(B|=1),tn(Jt,B&1),d===null)return wa(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?J(d)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(B=S.children,d=S.fallback,L?(S=f.mode,L=f.child,B={mode:"hidden",children:B},!(S&1)&&L!==null?(L.childLanes=0,L.pendingProps=B):L=ph(B,S,0,null),d=gl(d,S,_,null),L.return=f,d.return=f,L.sibling=d,f.child=L,f.child.memoizedState=$f(_),f.memoizedState=Kf,d):Tm(f,B));if(B=d.memoizedState,B!==null){if(oe=B.dehydrated,oe!==null){if($)return f.flags&256?(f.flags&=-257,Yf(d,f,_,Error(o(422)))):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(L=S.fallback,B=f.mode,S=ph({mode:"visible",children:S.children},B,0,null),L=gl(L,B,_,null),L.flags|=2,S.return=f,L.return=f,S.sibling=L,f.child=S,f.mode&1&&Sa(f,d.child,null,_),f.child.memoizedState=$f(_),f.memoizedState=Kf,L);if(!(f.mode&1))f=Yf(d,f,_,null);else if(J(oe))f=Yf(d,f,_,Error(o(419)));else if(S=(_&d.childLanes)!==0,Si||S){if(S=hr,S!==null){switch(_&-_){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}S=L&(S.suspendedLanes|_)?0:L,S!==0&&S!==B.retryLane&&(B.retryLane=S,Ii(d,S,-1))}eg(),f=Yf(d,f,_,Error(o(421)))}else oc(oe)?(f.flags|=128,f.child=d.child,f=iw.bind(null,d),Ae(oe,f),f=null):(_=B.treeContext,we&&(ui=_t(oe),Zr=f,an=!0,Rr=null,fr=!1,_!==null&&(Er[_n++]=Ks,Er[_n++]=vs,Er[_n++]=Js,Ks=_.id,vs=_.overflow,Js=f)),f=Tm(f,f.pendingProps.children),f.flags|=4096);return f}return L?(S=pv(d,f,S.children,S.fallback,_),L=f.child,B=d.child.memoizedState,L.memoizedState=B===null?$f(_):{baseLanes:B.baseLanes|_,cachePool:null},L.childLanes=d.childLanes&~_,f.memoizedState=Kf,S):(_=Rm(d,f,S.children,_),f.memoizedState=null,_)}return L?(S=pv(d,f,S.children,S.fallback,_),L=f.child,B=d.child.memoizedState,L.memoizedState=B===null?$f(_):{baseLanes:B.baseLanes|_,cachePool:null},L.childLanes=d.childLanes&~_,f.memoizedState=Kf,S):(_=Rm(d,f,S.children,_),f.memoizedState=null,_)}function Tm(d,f){return f=ph({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function Rm(d,f,_,S){var B=d.child;return d=B.sibling,_=La(B,{mode:"visible",children:_}),!(f.mode&1)&&(_.lanes=S),_.return=f,_.sibling=null,d!==null&&(S=f.deletions,S===null?(f.deletions=[d],f.flags|=16):S.push(d)),f.child=_}function pv(d,f,_,S,B){var L=f.mode;d=d.child;var $=d.sibling,oe={mode:"hidden",children:_};return!(L&1)&&f.child!==d?(_=f.child,_.childLanes=0,_.pendingProps=oe,f.deletions=null):(_=La(d,oe),_.subtreeFlags=d.subtreeFlags&14680064),$!==null?S=La($,S):(S=gl(S,L,B,null),S.flags|=2),S.return=f,_.return=f,_.sibling=S,f.child=_,S}function Yf(d,f,_,S){return S!==null&&gc(S),Sa(f,d.child,null,_),d=Tm(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function mv(d,f,_){d.lanes|=f;var S=d.alternate;S!==null&&(S.lanes|=f),zo(d.return,f,_)}function Pm(d,f,_,S,B){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:_,tailMode:B}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=_,L.tailMode=B)}function gv(d,f,_){var S=f.pendingProps,B=S.revealOrder,L=S.tail;if(fi(d,f,S.children,_),S=Jt.current,S&2)S=S&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&mv(d,_,f);else if(d.tag===19)mv(d,_,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}if(tn(Jt,S),!(f.mode&1))f.memoizedState=null;else switch(B){case"forwards":for(_=f.child,B=null;_!==null;)d=_.alternate,d!==null&&di(d)===null&&(B=_),_=_.sibling;_=B,_===null?(B=f.child,f.child=null):(B=_.sibling,_.sibling=null),Pm(f,!1,B,_,L);break;case"backwards":for(_=null,B=f.child,f.child=null;B!==null;){if(d=B.alternate,d!==null&&di(d)===null){f.child=B;break}d=B.sibling,B.sibling=_,_=B,B=d}Pm(f,!0,_,null,L);break;case"together":Pm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ho(d,f,_){if(d!==null&&(f.dependencies=d.dependencies),$s|=f.lanes,!(_&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(o(153));if(f.child!==null){for(d=f.child,_=La(d,d.pendingProps),f.child=_,_.return=f;d.sibling!==null;)d=d.sibling,_=_.sibling=La(d,d.pendingProps),_.return=f;_.sibling=null}return f.child}function qx(d,f,_){switch(f.tag){case 3:dv(f),Go();break;case 5:Et(f);break;case 1:wr(f.type)&&lc(f);break;case 4:ie(f,f.stateNode.containerInfo);break;case 10:Vu(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(tn(Jt,Jt.current&1),f.flags|=128,null):_&f.child.childLanes?hv(d,f,_):(tn(Jt,Jt.current&1),d=Ho(d,f,_),d!==null?d.sibling:null);tn(Jt,Jt.current&1);break;case 19:if(S=(_&f.childLanes)!==0,d.flags&128){if(S)return gv(d,f,_);f.flags|=128}var B=f.memoizedState;if(B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),tn(Jt,Jt.current),S)break;return null;case 22:case 23:return f.lanes=0,cv(d,f,_)}return Ho(d,f,_)}function Xx(d,f){switch($u(f),f.tag){case 1:return wr(f.type)&&ac(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return ye(),Ht(Tr),Ht(Kn),_s(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return nn(f),null;case 13:if(Ht(Jt),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Go()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return Ht(Jt),null;case 4:return ye(),null;case 10:return hc(f.type._context),null;case 22:case 23:return Xm(),null;case 24:return null;default:return null}}var qf=!1,cl=!1,Zx=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Xf(d,f){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(S){Mi(d,f,S)}else _.current=null}function Dm(d,f,_){try{_()}catch(S){Mi(d,f,S)}}var Av=!1;function ew(d,f){for(ne(d.containerInfo),qe=f;qe!==null;)if(d=qe,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,qe=f;else for(;qe!==null;){d=qe;try{var _=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,B=_.memoizedState,L=d.stateNode,$=L.getSnapshotBeforeUpdate(d.elementType===d.type?S:Ci(d.type,S),B);L.__reactInternalSnapshotBeforeUpdate=$}break;case 3:Fe&&rt(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){Mi(d,d.return,oe)}if(f=d.sibling,f!==null){f.return=d.return,qe=f;break}qe=d.return}return _=Av,Av=!1,_}function ul(d,f,_){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var B=S=S.next;do{if((B.tag&d)===d){var L=B.destroy;B.destroy=void 0,L!==void 0&&Dm(f,_,L)}B=B.next}while(B!==S)}}function dl(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var _=f=f.next;do{if((_.tag&d)===d){var S=_.create;_.destroy=S()}_=_.next}while(_!==f)}}function Lm(d){var f=d.ref;if(f!==null){var _=d.stateNode;switch(d.tag){case 5:d=de(_);break;default:d=_}typeof f=="function"?f(d):f.current=d}}function vv(d,f,_){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(ga,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(d=f.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var S=d=d.next;do{var B=S,L=B.destroy;B=B.tag,L!==void 0&&(B&2||B&4)&&Dm(f,_,L),S=S.next}while(S!==d)}break;case 1:if(Xf(f,_),d=f.stateNode,typeof d.componentWillUnmount=="function")try{d.props=f.memoizedProps,d.state=f.memoizedState,d.componentWillUnmount()}catch($){Mi(f,_,$)}break;case 5:Xf(f,_);break;case 4:Fe?Zf(d,f,_):Me&&Me&&(f=f.stateNode.containerInfo,_=hn(f),er(f,_))}}function Fm(d,f,_){for(var S=f;;)if(vv(d,S,_),S.child===null||Fe&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function yv(d){var f=d.alternate;f!==null&&(d.alternate=null,yv(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&ut(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function _v(d){return d.tag===5||d.tag===3||d.tag===4}function xv(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||_v(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function wv(d){if(Fe){e:{for(var f=d.return;f!==null;){if(_v(f))break e;f=f.return}throw Error(o(160))}var _=f;switch(_.tag){case 5:f=_.stateNode,_.flags&32&&(on(f),_.flags&=-33),_=xv(d),Om(d,_,f);break;case 3:case 4:f=_.stateNode.containerInfo,_=xv(d),km(d,_,f);break;default:throw Error(o(161))}}}function km(d,f,_){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?gt(_,d,f):Ke(_,d);else if(S!==4&&(d=d.child,d!==null))for(km(d,f,_),d=d.sibling;d!==null;)km(d,f,_),d=d.sibling}function Om(d,f,_){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?yt(_,d,f):lt(_,d);else if(S!==4&&(d=d.child,d!==null))for(Om(d,f,_),d=d.sibling;d!==null;)Om(d,f,_),d=d.sibling}function Zf(d,f,_){for(var S=f,B=!1,L,$;;){if(!B){B=S.return;e:for(;;){if(B===null)throw Error(o(160));switch(L=B.stateNode,B.tag){case 5:$=!1;break e;case 3:L=L.containerInfo,$=!0;break e;case 4:L=L.containerInfo,$=!0;break e}B=B.return}B=!0}if(S.tag===5||S.tag===6)Fm(d,S,_),$?Gt(L,S.stateNode):dt(L,S.stateNode);else if(S.tag===18)$?Hr(L,S.stateNode):Dn(L,S.stateNode);else if(S.tag===4){if(S.child!==null){L=S.stateNode.containerInfo,$=!0,S.child.return=S,S=S.child;continue}}else if(vv(d,S,_),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(B=!1)}S.sibling.return=S.return,S=S.sibling}}function sd(d,f){if(Fe){switch(f.tag){case 0:case 11:case 14:case 15:ul(3,f,f.return),dl(3,f),ul(5,f,f.return);return;case 1:return;case 5:var _=f.stateNode;if(_!=null){var S=f.memoizedProps;d=d!==null?d.memoizedProps:S;var B=f.type,L=f.updateQueue;f.updateQueue=null,L!==null&&Ze(_,L,B,d,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));_=f.memoizedProps,Re(f.stateNode,d!==null?d.memoizedProps:_,_);return;case 3:we&&d!==null&&d.memoizedState.isDehydrated&&Nt(f.stateNode.containerInfo);return;case 12:return;case 13:eh(f);return;case 19:eh(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ul(3,f,f.return),dl(3,f),ul(5,f,f.return);return;case 12:return;case 13:eh(f);return;case 19:eh(f);return;case 3:we&&d!==null&&d.memoizedState.isDehydrated&&Nt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(Me){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,er(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function eh(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new Zx),f.forEach(function(S){var B=sw.bind(null,d,S);_.has(S)||(_.add(S),S.then(B,B))})}}function Cv(d,f){for(qe=f;qe!==null;){f=qe;var _=f.deletions;if(_!==null)for(var S=0;S<_.length;S++){var B=_[S];try{var L=d;Fe?Zf(L,B,f):Fm(L,B,f);var $=B.alternate;$!==null&&($.return=null),B.return=null}catch(mt){Mi(B,f,mt)}}if(_=f.child,f.subtreeFlags&12854&&_!==null)_.return=f,qe=_;else for(;qe!==null;){f=qe;try{var oe=f.flags;if(oe&32&&Fe&&on(f.stateNode),oe&512){var Be=f.alternate;if(Be!==null){var He=Be.ref;He!==null&&(typeof He=="function"?He(null):He.current=null)}}if(oe&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var it=f.alternate;(it===null||it.memoizedState===null)&&(Jm=dr())}break;case 22:var Rt=f.memoizedState!==null,wt=f.alternate,An=wt!==null&&wt.memoizedState!==null;if(_=f,Fe){e:if(S=_,B=Rt,L=null,Fe)for(var At=S;;){if(At.tag===5){if(L===null){L=At;var ri=At.stateNode;B?Sn(ri):be(At.stateNode,At.memoizedProps)}}else if(At.tag===6){if(L===null){var Xi=At.stateNode;B?ae(Xi):Oe(Xi,At.memoizedProps)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===S)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===S)break;for(;At.sibling===null;){if(At.return===null||At.return===S)break e;L===At&&(L=null),At=At.return}L===At&&(L=null),At.sibling.return=At.return,At=At.sibling}}if(Rt&&!An&&_.mode&1){qe=_;for(var ge=_.child;ge!==null;){for(_=qe=ge;qe!==null;){S=qe;var ce=S.child;switch(S.tag){case 0:case 11:case 14:case 15:ul(4,S,S.return);break;case 1:Xf(S,S.return);var _e=S.stateNode;if(typeof _e.componentWillUnmount=="function"){var et=S.return;try{_e.props=S.memoizedProps,_e.state=S.memoizedState,_e.componentWillUnmount()}catch(mt){Mi(S,et,mt)}}break;case 5:Xf(S,S.return);break;case 22:if(S.memoizedState!==null){Um(_);continue}}ce!==null?(ce.return=S,qe=ce):Um(_)}ge=ge.sibling}}}switch(oe&4102){case 2:wv(f),f.flags&=-3;break;case 6:wv(f),f.flags&=-3,sd(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,sd(f.alternate,f);break;case 4:sd(f.alternate,f)}}catch(mt){Mi(f,f.return,mt)}if(_=f.sibling,_!==null){_.return=f.return,qe=_;break}qe=f.return}}}function Ev(d,f,_){qe=d,Nm(d)}function Nm(d,f,_){for(var S=(d.mode&1)!==0;qe!==null;){var B=qe,L=B.child;if(B.tag===22&&S){var $=B.memoizedState!==null||qf;if(!$){var oe=B.alternate,Be=oe!==null&&oe.memoizedState!==null||cl;oe=qf;var He=cl;if(qf=$,(cl=Be)&&!He)for(qe=B;qe!==null;)$=qe,Be=$.child,$.tag===22&&$.memoizedState!==null?zm(B):Be!==null?(Be.return=$,qe=Be):zm(B);for(;L!==null;)qe=L,Nm(L),L=L.sibling;qe=B,qf=oe,cl=He}Sv(d)}else B.subtreeFlags&8772&&L!==null?(L.return=B,qe=L):Sv(d)}}function Sv(d){for(;qe!==null;){var f=qe;if(f.flags&8772){var _=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:cl||dl(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!cl)if(_===null)S.componentDidMount();else{var B=f.elementType===f.type?_.memoizedProps:Ci(f.type,_.memoizedProps);S.componentDidUpdate(B,_.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var L=f.updateQueue;L!==null&&va(f,L,S);break;case 3:var $=f.updateQueue;if($!==null){if(_=null,f.child!==null)switch(f.child.tag){case 5:_=de(f.child.stateNode);break;case 1:_=f.child.stateNode}va(f,$,_)}break;case 5:var oe=f.stateNode;_===null&&f.flags&4&&pt(oe,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(we&&f.memoizedState===null){var Be=f.alternate;if(Be!==null){var He=Be.memoizedState;if(He!==null){var it=He.dehydrated;it!==null&&jt(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}cl||f.flags&512&&Lm(f)}catch(Rt){Mi(f,f.return,Rt)}}if(f===d){qe=null;break}if(_=f.sibling,_!==null){_.return=f.return,qe=_;break}qe=f.return}}function Um(d){for(;qe!==null;){var f=qe;if(f===d){qe=null;break}var _=f.sibling;if(_!==null){_.return=f.return,qe=_;break}qe=f.return}}function zm(d){for(;qe!==null;){var f=qe;try{switch(f.tag){case 0:case 11:case 15:var _=f.return;try{dl(4,f)}catch(Be){Mi(f,_,Be)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var B=f.return;try{S.componentDidMount()}catch(Be){Mi(f,B,Be)}}var L=f.return;try{Lm(f)}catch(Be){Mi(f,L,Be)}break;case 5:var $=f.return;try{Lm(f)}catch(Be){Mi(f,$,Be)}}}catch(Be){Mi(f,f.return,Be)}if(f===d){qe=null;break}var oe=f.sibling;if(oe!==null){oe.return=f.return,qe=oe;break}qe=f.return}}var th=0,nh=1,rh=2,ih=3,sh=4;if(typeof Symbol=="function"&&Symbol.for){var od=Symbol.for;th=od("selector.component"),nh=od("selector.has_pseudo_class"),rh=od("selector.role"),ih=od("selector.test_id"),sh=od("selector.text")}function Gm(d){var f=Ue(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(d=Dt(d),d===null)throw Error(o(362));return d.stateNode.current}function Qm(d,f){switch(f.$$typeof){case th:if(d.type===f.value)return!0;break;case nh:e:{f=f.value,d=[d,0];for(var _=0;_<d.length;){var S=d[_++],B=d[_++],L=f[B];if(S.tag!==5||!le(S)){for(;L!=null&&Qm(S,L);)B++,L=f[B];if(B===f.length){f=!0;break e}else for(S=S.child;S!==null;)d.push(S,B),S=S.sibling}}f=!1}return f;case rh:if(d.tag===5&&De(d.stateNode,f.value))return!0;break;case sh:if((d.tag===5||d.tag===6)&&(d=N(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case ih:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Hm(d){switch(d.$$typeof){case th:return"<"+(F(d.value)||"Unknown")+">";case nh:return":has("+(Hm(d)||"")+")";case rh:return'[role="'+d.value+'"]';case sh:return'"'+d.value+'"';case ih:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function bv(d,f){var _=[];d=[d,0];for(var S=0;S<d.length;){var B=d[S++],L=d[S++],$=f[L];if(B.tag!==5||!le(B)){for(;$!=null&&Qm(B,$);)L++,$=f[L];if(L===f.length)_.push(B);else for(B=B.child;B!==null;)d.push(B,L),B=B.sibling}}return _}function Vm(d,f){if(!zt)throw Error(o(363));d=Gm(d),d=bv(d,f),f=[],d=Array.from(d);for(var _=0;_<d.length;){var S=d[_++];if(S.tag===5)le(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)d.push(S),S=S.sibling}return f}var Iv=Math.ceil,oh=a.ReactCurrentDispatcher,Wm=a.ReactCurrentOwner,tr=a.ReactCurrentBatchConfig,Wt=0,hr=null,pr=null,Wr=0,qi=0,wc=In(0),Sr=0,ad=null,$s=0,fl=0,jm=0,ld=null,bi=null,Jm=0,Km=1/0;function Cc(){Km=dr()+500}var cd=!1,$m=null,Ma=null,ah=!1,Ta=null,lh=0,Ec=0,Ym=null,Sc=-1,ch=0;function jr(){return Wt&6?dr():Sc!==-1?Sc:Sc=dr()}function Ra(d){return d.mode&1?Wt&2&&Wr!==0?Wr&-Wr:vm.transition!==null?(ch===0&&(d=fa,fa<<=1,!(fa&4194240)&&(fa=64),ch=d),ch):(d=Zt,d!==0?d:Je()):1}function Ii(d,f,_){if(50<Ec)throw Ec=0,Ym=null,Error(o(185));var S=ud(d,f);return S===null?null:(Za(S,f,_),(!(Wt&2)||S!==hr)&&(S===hr&&(!(Wt&2)&&(fl|=f),Sr===4&&Pa(S,Wr)),Bi(S,_),f===1&&Wt===0&&!(d.mode&1)&&(Cc(),dc&&As())),S)}function ud(d,f){d.lanes|=f;var _=d.alternate;for(_!==null&&(_.lanes|=f),_=d,d=d.return;d!==null;)d.childLanes|=f,_=d.alternate,_!==null&&(_.childLanes|=f),_=d,d=d.return;return _.tag===3?_.stateNode:null}function Bi(d,f){var _=d.callbackNode;um(d,f);var S=cc(d,d===hr?Wr:0);if(S===0)_!==null&&zu(_),d.callbackNode=null,d.callbackPriority=0;else if(f=S&-S,d.callbackPriority!==f){if(_!=null&&zu(_),f===1)d.tag===0?Am(Mv.bind(null,d)):Df(Mv.bind(null,d)),at?ht(function(){Wt===0&&As()}):uc(Gu,As),_=null;else{switch(Uu(S)){case 1:_=Gu;break;case 4:_=pa;break;case 16:_=ma;break;case 536870912:_=pm;break;default:_=ma}_=tg(_,qm.bind(null,d))}d.callbackPriority=f,d.callbackNode=_}}function qm(d,f){if(Sc=-1,ch=0,Wt&6)throw Error(o(327));var _=d.callbackNode;if(ml()&&d.callbackNode!==_)return null;var S=cc(d,d===hr?Wr:0);if(S===0)return null;if(S&30||S&d.expiredLanes||f)f=dd(d,S);else{f=S;var B=Wt;Wt|=2;var L=Zm();(hr!==d||Wr!==f)&&(Cc(),hl(d,f));do try{nw();break}catch(oe){Da(d,oe)}while(1);Uo(),oh.current=L,Wt=B,pr!==null?f=0:(hr=null,Wr=0,f=Sr)}if(f!==0){if(f===2&&(B=Ou(d),B!==0&&(S=B,f=uh(d,B))),f===1)throw _=ad,hl(d,0),Pa(d,S),Bi(d,dr()),_;if(f===6)Pa(d,S);else{if(B=d.current.alternate,!(S&30)&&!Bv(B)&&(f=dd(d,S),f===2&&(L=Ou(d),L!==0&&(S=L,f=uh(d,L))),f===1))throw _=ad,hl(d,0),Pa(d,S),Bi(d,dr()),_;switch(d.finishedWork=B,d.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:pl(d,bi);break;case 3:if(Pa(d,S),(S&130023424)===S&&(f=Jm+500-dr(),10<f)){if(cc(d,0)!==0)break;if(B=d.suspendedLanes,(B&S)!==S){jr(),d.pingedLanes|=d.suspendedLanes&B;break}d.timeoutHandle=ke(pl.bind(null,d,bi),f);break}pl(d,bi);break;case 4:if(Pa(d,S),(S&4194240)===S)break;for(f=d.eventTimes,B=-1;0<S;){var $=31-Ki(S);L=1<<$,$=f[$],$>B&&(B=$),S&=~L}if(S=B,S=dr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*Iv(S/1960))-S,10<S){d.timeoutHandle=ke(pl.bind(null,d,bi),S);break}pl(d,bi);break;case 5:pl(d,bi);break;default:throw Error(o(329))}}}return Bi(d,dr()),d.callbackNode===_?qm.bind(null,d):null}function uh(d,f){var _=ld;return d.current.memoizedState.isDehydrated&&(hl(d,f).flags|=256),d=dd(d,f),d!==2&&(f=bi,bi=_,f!==null&&dh(f)),d}function dh(d){bi===null?bi=d:bi.push.apply(bi,d)}function Bv(d){for(var f=d;;){if(f.flags&16384){var _=f.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var S=0;S<_.length;S++){var B=_[S],L=B.getSnapshot;B=B.value;try{if(!gs(L(),B))return!1}catch{return!1}}}if(_=f.child,f.subtreeFlags&16384&&_!==null)_.return=f,f=_;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Pa(d,f){for(f&=~jm,f&=~fl,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var _=31-Ki(f),S=1<<_;d[_]=-1,f&=~S}}function Mv(d){if(Wt&6)throw Error(o(327));ml();var f=cc(d,0);if(!(f&1))return Bi(d,dr()),null;var _=dd(d,f);if(d.tag!==0&&_===2){var S=Ou(d);S!==0&&(f=S,_=uh(d,S))}if(_===1)throw _=ad,hl(d,0),Pa(d,f),Bi(d,dr()),_;if(_===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,pl(d,bi),Bi(d,dr()),null}function Tv(d){Ta!==null&&Ta.tag===0&&!(Wt&6)&&ml();var f=Wt;Wt|=1;var _=tr.transition,S=Zt;try{if(tr.transition=null,Zt=1,d)return d()}finally{Zt=S,tr.transition=_,Wt=f,!(Wt&6)&&As()}}function Xm(){qi=wc.current,Ht(wc)}function hl(d,f){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==Ye&&(d.timeoutHandle=Ye,je(_)),pr!==null)for(_=pr.return;_!==null;){var S=_;switch($u(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&ac();break;case 3:ye(),Ht(Tr),Ht(Kn),_s();break;case 5:nn(S);break;case 4:ye();break;case 13:Ht(Jt);break;case 19:Ht(Jt);break;case 10:hc(S.type._context);break;case 22:case 23:Xm()}_=_.return}if(hr=d,pr=d=La(d.current,null),Wr=qi=f,Sr=0,ad=null,jm=fl=$s=0,bi=ld=null,$i!==null){for(f=0;f<$i.length;f++)if(_=$i[f],S=_.interleaved,S!==null){_.interleaved=null;var B=S.next,L=_.pending;if(L!==null){var $=L.next;L.next=B,S.next=$}_.pending=S}$i=null}return d}function Da(d,f){do{var _=pr;try{if(Uo(),Ia.current=Wf,Uf){for(var S=Yn.memoizedState;S!==null;){var B=S.queue;B!==null&&(B.pending=null),S=S.next}Uf=!1}if(Ba=0,Pr=ei=Yn=null,Zu=!1,ed=0,Wm.current=null,_===null||_.return===null){Sr=1,ad=f,pr=null;break}e:{var L=d,$=_.return,oe=_,Be=f;if(f=Wr,oe.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var He=Be,it=oe,Rt=it.tag;if(!(it.mode&1)&&(Rt===0||Rt===11||Rt===15)){var wt=it.alternate;wt?(it.updateQueue=wt.updateQueue,it.memoizedState=wt.memoizedState,it.lanes=wt.lanes):(it.updateQueue=null,it.memoizedState=null)}var An=yc($);if(An!==null){An.flags&=-257,rv(An,$,oe,L,f),An.mode&1&&Im(L,He,f),f=An,Be=He;var At=f.updateQueue;if(At===null){var ri=new Set;ri.add(Be),f.updateQueue=ri}else At.add(Be);break e}else{if(!(f&1)){Im(L,He,f),eg();break e}Be=Error(o(426))}}else if(an&&oe.mode&1){var Xi=yc($);if(Xi!==null){!(Xi.flags&65536)&&(Xi.flags|=256),rv(Xi,$,oe,L,f),gc(Be);break e}}L=Be,Sr!==4&&(Sr=2),ld===null?ld=[L]:ld.push(L),Be=xn(Be,oe),oe=$;do{switch(oe.tag){case 3:oe.flags|=65536,f&=-f,oe.lanes|=f;var ge=tv(oe,Be,f);Wu(oe,ge);break e;case 1:L=Be;var ce=oe.type,_e=oe.stateNode;if(!(oe.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Ma===null||!Ma.has(_e)))){oe.flags|=65536,f&=-f,oe.lanes|=f;var et=nv(oe,L,f);Wu(oe,et);break e}}oe=oe.return}while(oe!==null)}Pv(_)}catch(mt){f=mt,pr===_&&_!==null&&(pr=_=_.return);continue}break}while(1)}function Zm(){var d=oh.current;return oh.current=Wf,d===null?Wf:d}function eg(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),hr===null||!($s&268435455)&&!(fl&268435455)||Pa(hr,Wr)}function dd(d,f){var _=Wt;Wt|=2;var S=Zm();hr===d&&Wr===f||hl(d,f);do try{tw();break}catch(B){Da(d,B)}while(1);if(Uo(),Wt=_,oh.current=S,pr!==null)throw Error(o(261));return hr=null,Wr=0,Sr}function tw(){for(;pr!==null;)Rv(pr)}function nw(){for(;pr!==null&&!fm();)Rv(pr)}function Rv(d){var f=Fv(d.alternate,d,qi);d.memoizedProps=d.pendingProps,f===null?Pv(d):pr=f,Wm.current=null}function Pv(d){var f=d;do{var _=f.alternate;if(d=f.return,f.flags&32768){if(_=Xx(_,f),_!==null){_.flags&=32767,pr=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Sr=6,pr=null;return}}else if(_=$x(_,f,qi),_!==null){pr=_;return}if(f=f.sibling,f!==null){pr=f;return}pr=f=d}while(f!==null);Sr===0&&(Sr=5)}function pl(d,f){var _=Zt,S=tr.transition;try{tr.transition=null,Zt=1,fh(d,f,_)}finally{tr.transition=S,Zt=_}return null}function fh(d,f,_){do ml();while(Ta!==null);if(Wt&6)throw Error(o(327));var S=d.finishedWork,B=d.finishedLanes;if(S===null)return null;if(d.finishedWork=null,d.finishedLanes=0,S===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=S.lanes|S.childLanes;if(dm(d,L),d===hr&&(pr=hr=null,Wr=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||ah||(ah=!0,tg(ma,function(){return ml(),null})),L=(S.flags&15990)!==0,S.subtreeFlags&15990||L){L=tr.transition,tr.transition=null;var $=Zt;Zt=1;var oe=Wt;Wt|=4,Wm.current=null,ew(d,S),Cv(d,S),re(d.containerInfo),d.current=S,Ev(S),hm(),Wt=oe,Zt=$,tr.transition=L}else d.current=S;if(ah&&(ah=!1,Ta=d,lh=B),L=d.pendingLanes,L===0&&(Ma=null),mm(S.stateNode),Bi(d,dr()),f!==null)for(_=d.onRecoverableError,S=0;S<f.length;S++)_(f[S]);if(cd)throw cd=!1,d=$m,$m=null,d;return lh&1&&d.tag!==0&&ml(),L=d.pendingLanes,L&1?d===Ym?Ec++:(Ec=0,Ym=d):Ec=0,As(),null}function ml(){if(Ta!==null){var d=Uu(lh),f=tr.transition,_=Zt;try{if(tr.transition=null,Zt=16>d?16:d,Ta===null)var S=!1;else{if(d=Ta,Ta=null,lh=0,Wt&6)throw Error(o(331));var B=Wt;for(Wt|=4,qe=d.current;qe!==null;){var L=qe,$=L.child;if(qe.flags&16){var oe=L.deletions;if(oe!==null){for(var Be=0;Be<oe.length;Be++){var He=oe[Be];for(qe=He;qe!==null;){var it=qe;switch(it.tag){case 0:case 11:case 15:ul(8,it,L)}var Rt=it.child;if(Rt!==null)Rt.return=it,qe=Rt;else for(;qe!==null;){it=qe;var wt=it.sibling,An=it.return;if(yv(it),it===He){qe=null;break}if(wt!==null){wt.return=An,qe=wt;break}qe=An}}}var At=L.alternate;if(At!==null){var ri=At.child;if(ri!==null){At.child=null;do{var Xi=ri.sibling;ri.sibling=null,ri=Xi}while(ri!==null)}}qe=L}}if(L.subtreeFlags&2064&&$!==null)$.return=L,qe=$;else e:for(;qe!==null;){if(L=qe,L.flags&2048)switch(L.tag){case 0:case 11:case 15:ul(9,L,L.return)}var ge=L.sibling;if(ge!==null){ge.return=L.return,qe=ge;break e}qe=L.return}}var ce=d.current;for(qe=ce;qe!==null;){$=qe;var _e=$.child;if($.subtreeFlags&2064&&_e!==null)_e.return=$,qe=_e;else e:for($=ce;qe!==null;){if(oe=qe,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:dl(9,oe)}}catch(mt){Mi(oe,oe.return,mt)}if(oe===$){qe=null;break e}var et=oe.sibling;if(et!==null){et.return=oe.return,qe=et;break e}qe=oe.return}}if(Wt=B,As(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(ga,d)}catch{}S=!0}return S}finally{Zt=_,tr.transition=f}}return!1}function Dv(d,f,_){f=xn(_,f),f=tv(d,f,1),js(d,f),f=jr(),d=ud(d,1),d!==null&&(Za(d,1,f),Bi(d,f))}function Mi(d,f,_){if(d.tag===3)Dv(d,d,_);else for(;f!==null;){if(f.tag===3){Dv(f,d,_);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ma===null||!Ma.has(S))){d=xn(_,d),d=nv(f,d,1),js(f,d),d=jr(),f=ud(f,1),f!==null&&(Za(f,1,d),Bi(f,d));break}}f=f.return}}function rw(d,f,_){var S=d.pingCache;S!==null&&S.delete(f),f=jr(),d.pingedLanes|=d.suspendedLanes&_,hr===d&&(Wr&_)===_&&(Sr===4||Sr===3&&(Wr&130023424)===Wr&&500>dr()-Jm?hl(d,0):jm|=_),Bi(d,f)}function Lv(d,f){f===0&&(d.mode&1?(f=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):f=1);var _=jr();d=ud(d,f),d!==null&&(Za(d,f,_),Bi(d,_))}function iw(d){var f=d.memoizedState,_=0;f!==null&&(_=f.retryLane),Lv(d,_)}function sw(d,f){var _=0;switch(d.tag){case 13:var S=d.stateNode,B=d.memoizedState;B!==null&&(_=B.retryLane);break;case 19:S=d.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),Lv(d,_)}var Fv;Fv=function(d,f,_){if(d!==null)if(d.memoizedProps!==f.pendingProps||Tr.current)Si=!0;else{if(!(d.lanes&_)&&!(f.flags&128))return Si=!1,qx(d,f,_);Si=!!(d.flags&131072)}else Si=!1,an&&f.flags&1048576&&Of(f,il,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps;var B=ua(f,Kn.current);Ws(f,_),B=zf(null,f,S,d,B,_);var L=Gf();return f.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,wr(S)?(L=!0,lc(f)):L=!1,f.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,mo(f),B.updater=mc,f.stateNode=B,B._reactInternals=f,nl(f,S,d,_),f=Mm(null,f,S,!0,L,_)):(f.tag=0,an&&L&&Ku(f),fi(null,f,B,_),f=f.child),f;case 16:S=f.elementType;e:{switch(d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps,B=S._init,S=B(S._payload),f.type=S,B=f.tag=aw(S),d=Ci(S,d),B){case 0:f=Bm(null,f,S,d,_);break e;case 1:f=Jf(null,f,S,d,_);break e;case 11:f=ov(null,f,S,d,_);break e;case 14:f=av(null,f,S,Ci(S.type,d),_);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,B=f.pendingProps,B=f.elementType===S?B:Ci(S,B),Bm(d,f,S,B,_);case 1:return S=f.type,B=f.pendingProps,B=f.elementType===S?B:Ci(S,B),Jf(d,f,S,B,_);case 3:e:{if(dv(f),d===null)throw Error(o(387));S=f.pendingProps,L=f.memoizedState,B=L.element,pc(d,f),tl(f,S,null,_);var $=f.memoizedState;if(S=$.element,we&&L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:$.cache,transitions:$.transitions},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){B=Error(o(423)),f=fv(d,f,S,_,B);break e}else if(S!==B){B=Error(o(424)),f=fv(d,f,S,_,B);break e}else for(we&&(ui=Te(f.stateNode.containerInfo),Zr=f,an=!0,Rr=null,fr=!1),_=Nf(f,null,S,_),f.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Go(),S===B){f=Ho(d,f,_);break e}fi(d,f,S,_)}f=f.child}return f;case 5:return Et(f),d===null&&wa(f),S=f.type,B=f.pendingProps,L=d!==null?d.memoizedProps:null,$=B.children,ue(S,B)?$=null:L!==null&&ue(S,L)&&(f.flags|=32),uv(d,f),fi(d,f,$,_),f.child;case 6:return d===null&&wa(f),null;case 13:return hv(d,f,_);case 4:return ie(f,f.stateNode.containerInfo),S=f.pendingProps,d===null?f.child=Sa(f,null,S,_):fi(d,f,S,_),f.child;case 11:return S=f.type,B=f.pendingProps,B=f.elementType===S?B:Ci(S,B),ov(d,f,S,B,_);case 7:return fi(d,f,f.pendingProps,_),f.child;case 8:return fi(d,f,f.pendingProps.children,_),f.child;case 12:return fi(d,f,f.pendingProps.children,_),f.child;case 10:e:{if(S=f.type._context,B=f.pendingProps,L=f.memoizedProps,$=B.value,Vu(f,S,$),L!==null)if(gs(L.value,$)){if(L.children===B.children&&!Tr.current){f=Ho(d,f,_);break e}}else for(L=f.child,L!==null&&(L.return=f);L!==null;){var oe=L.dependencies;if(oe!==null){$=L.child;for(var Be=oe.firstContext;Be!==null;){if(Be.context===S){if(L.tag===1){Be=Bn(-1,_&-_),Be.tag=2;var He=L.updateQueue;if(He!==null){He=He.shared;var it=He.pending;it===null?Be.next=Be:(Be.next=it.next,it.next=Be),He.pending=Be}}L.lanes|=_,Be=L.alternate,Be!==null&&(Be.lanes|=_),zo(L.return,_,f),oe.lanes|=_;break}Be=Be.next}}else if(L.tag===10)$=L.type===f.type?null:L.child;else if(L.tag===18){if($=L.return,$===null)throw Error(o(341));$.lanes|=_,oe=$.alternate,oe!==null&&(oe.lanes|=_),zo($,_,f),$=L.sibling}else $=L.child;if($!==null)$.return=L;else for($=L;$!==null;){if($===f){$=null;break}if(L=$.sibling,L!==null){L.return=$.return,$=L;break}$=$.return}L=$}fi(d,f,B.children,_),f=f.child}return f;case 9:return B=f.type,S=f.pendingProps.children,Ws(f,_),B=Cr(B),S=S(B),f.flags|=1,fi(d,f,S,_),f.child;case 14:return S=f.type,B=Ci(S,f.pendingProps),B=Ci(S.type,B),av(d,f,S,B,_);case 15:return lv(d,f,f.type,f.pendingProps,_);case 17:return S=f.type,B=f.pendingProps,B=f.elementType===S?B:Ci(S,B),d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,wr(S)?(d=!0,lc(f)):d=!1,Ws(f,_),kf(f,S,B),nl(f,S,B,_),Mm(null,f,S,!0,d,_);case 19:return gv(d,f,_);case 22:return cv(d,f,_)}throw Error(o(156,f.tag))};function tg(d,f){return uc(d,f)}function ow(d,f,_,S){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(d,f,_,S){return new ow(d,f,_,S)}function ng(d){return d=d.prototype,!(!d||!d.isReactComponent)}function aw(d){if(typeof d=="function")return ng(d)?1:0;if(d!=null){if(d=d.$$typeof,d===v)return 11;if(d===x)return 14}return 2}function La(d,f){var _=d.alternate;return _===null?(_=Cs(d.tag,f,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=f,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,f=d.dependencies,_.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function hh(d,f,_,S,B,L){var $=2;if(S=d,typeof d=="function")ng(d)&&($=1);else if(typeof d=="string")$=5;else e:switch(d){case u:return gl(_.children,B,L,f);case h:$=8,B|=8;break;case p:return d=Cs(12,_,f,B|2),d.elementType=p,d.lanes=L,d;case y:return d=Cs(13,_,f,B),d.elementType=y,d.lanes=L,d;case w:return d=Cs(19,_,f,B),d.elementType=w,d.lanes=L,d;case b:return ph(_,B,L,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case g:$=10;break e;case A:$=9;break e;case v:$=11;break e;case x:$=14;break e;case E:$=16,S=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return f=Cs($,_,f,B),f.elementType=d,f.type=S,f.lanes=L,f}function gl(d,f,_,S){return d=Cs(7,d,S,f),d.lanes=_,d}function ph(d,f,_,S){return d=Cs(22,d,S,f),d.elementType=b,d.lanes=_,d.stateNode={},d}function rg(d,f,_){return d=Cs(6,d,null,f),d.lanes=_,d}function ig(d,f,_){return f=Cs(4,d.children!==null?d.children:[],d.key,f),f.lanes=_,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function lw(d,f,_,S,B){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=S,this.onRecoverableError=B,we&&(this.mutableSourceEagerHydrationData=null)}function kv(d,f,_,S,B,L,$,oe,Be){return d=new lw(d,f,_,oe,Be),f===1?(f=1,L===!0&&(f|=8)):f=0,L=Cs(3,null,null,f),d.current=L,L.stateNode=d,L.memoizedState={element:S,isDehydrated:_,cache:null,transitions:null},mo(L),d}function Ov(d){if(!d)return kn;d=d._reactInternals;e:{if(O(d)!==d||d.tag!==1)throw Error(o(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(wr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(d.tag===1){var _=d.type;if(wr(_))return Tf(d,_,f)}return f}function Nv(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=ee(f),d===null?null:d.stateNode}function Uv(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<f?_:f}}function sg(d,f){Uv(d,f),(d=d.alternate)&&Uv(d,f)}function cw(d){return d=ee(d),d===null?null:d.stateNode}function zv(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var f=jr();Ii(d,134217728,f),sg(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=jr(),_=Ra(d);Ii(d,_,f),sg(d,_)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var _=po(f.pendingLanes);_!==0&&(ha(f,_|1),Bi(f,dr()),!(Wt&6)&&(Cc(),As()))}break;case 13:var S=jr();Tv(function(){return Ii(d,1,S)}),sg(d,1)}},n.batchedUpdates=function(d,f){var _=Wt;Wt|=1;try{return d(f)}finally{Wt=_,Wt===0&&(Cc(),dc&&As())}},n.createComponentSelector=function(d){return{$$typeof:th,value:d}},n.createContainer=function(d,f,_,S,B,L,$){return kv(d,f,!1,null,_,S,B,L,$)},n.createHasPseudoClassSelector=function(d){return{$$typeof:nh,value:d}},n.createHydrationContainer=function(d,f,_,S,B,L,$,oe,Be){return d=kv(_,S,!0,d,B,L,$,oe,Be),d.context=Ov(null),_=d.current,S=jr(),B=Ra(_),L=Bn(S,B),L.callback=f??null,js(_,L),d.current.lanes=B,Za(d,B,S),Bi(d,S),d},n.createPortal=function(d,f,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:d,containerInfo:f,implementation:_}},n.createRoleSelector=function(d){return{$$typeof:rh,value:d}},n.createTestNameSelector=function(d){return{$$typeof:ih,value:d}},n.createTextSelector=function(d){return{$$typeof:sh,value:d}},n.deferredUpdates=function(d){var f=Zt,_=tr.transition;try{return tr.transition=null,Zt=16,d()}finally{Zt=f,tr.transition=_}},n.discreteUpdates=function(d,f,_,S,B){var L=Zt,$=tr.transition;try{return tr.transition=null,Zt=1,d(f,_,S,B)}finally{Zt=L,tr.transition=$,Wt===0&&Cc()}},n.findAllNodes=Vm,n.findBoundingRects=function(d,f){if(!zt)throw Error(o(363));f=Vm(d,f),d=[];for(var _=0;_<f.length;_++)d.push(K(f[_]));for(f=d.length-1;0<f;f--){_=d[f];for(var S=_.x,B=S+_.width,L=_.y,$=L+_.height,oe=f-1;0<=oe;oe--)if(f!==oe){var Be=d[oe],He=Be.x,it=He+Be.width,Rt=Be.y,wt=Rt+Be.height;if(S>=He&&L>=Rt&&B<=it&&$<=wt){d.splice(f,1);break}else if(S!==He||_.width!==Be.width||wt<L||Rt>$){if(!(L!==Rt||_.height!==Be.height||it<S||He>B)){He>S&&(Be.width+=He-S,Be.x=S),it<B&&(Be.width=B-He),d.splice(f,1);break}}else{Rt>L&&(Be.height+=Rt-L,Be.y=L),wt<$&&(Be.height=$-Rt),d.splice(f,1);break}}}return d},n.findHostInstance=Nv,n.findHostInstanceWithNoPortals=function(d){return d=W(d),d=d!==null?Y(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return Nv(d)},n.flushControlled=function(d){var f=Wt;Wt|=1;var _=tr.transition,S=Zt;try{tr.transition=null,Zt=1,d()}finally{Zt=S,tr.transition=_,Wt=f,Wt===0&&(Cc(),As())}},n.flushPassiveEffects=ml,n.flushSync=Tv,n.focusWithin=function(d,f){if(!zt)throw Error(o(363));for(d=Gm(d),f=bv(d,f),f=Array.from(f),d=0;d<f.length;){var _=f[d++];if(!le(_)){if(_.tag===5&&Le(_.stateNode))return!0;for(_=_.child;_!==null;)f.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Zt},n.getFindAllNodesFailureDescription=function(d,f){if(!zt)throw Error(o(363));var _=0,S=[];d=[Gm(d),0];for(var B=0;B<d.length;){var L=d[B++],$=d[B++],oe=f[$];if((L.tag!==5||!le(L))&&(Qm(L,oe)&&(S.push(Hm(oe)),$++,$>_&&(_=$)),$<f.length))for(L=L.child;L!==null;)d.push(L,$),L=L.sibling}if(_<f.length){for(d=[];_<f.length;_++)d.push(Hm(f[_]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return de(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:cw,findFiberByHostInstance:d.findFiberByHostInstance||zv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{ga=f.inject(d),ms=f}catch{}d=!!f.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,f,_,S){if(!zt)throw Error(o(363));d=Vm(d,f);var B=Ne(d,_,S).disconnect;return{disconnect:function(){B()}}},n.registerMutableSourceForHydration=function(d,f){var _=f._getVersion;_=_(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,_]:d.mutableSourceEagerHydrationData.push(f,_)},n.runWithPriority=function(d,f){var _=Zt;try{return Zt=d,f()}finally{Zt=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,f,_,S){var B=f.current,L=jr(),$=Ra(B);return _=Ov(_),f.context===null?f.context=_:f.pendingContext=_,f=Bn(L,$),f.payload={element:d},S=S===void 0?null:S,S!==null&&(f.callback=S),js(B,f),d=Ii(B,$,L),d!==null&&go(d,B,$),$},n};e4.exports=xY;var wY=e4.exports;const CY=_f(wY);function r4(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const Fl=[];function i4(t,e,n=!1,r={}){for(const s of Fl)if(r4(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Fl.indexOf(i);s!==-1&&Fl.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Fl.push(i),!n)throw i.promise}const EY=(t,e,n)=>i4(t,e,!1,n),SY=(t,e,n)=>void i4(t,e,!0,n),bY=t=>{if(t===void 0||t.length===0)Fl.splice(0,Fl.length);else{const e=Fl.find(n=>r4(t,n.keys,n.equal));if(e){const n=Fl.indexOf(e);n!==-1&&Fl.splice(n,1)}}},KB={},Ex=t=>void Object.assign(KB,t);function IY(t,e){function n(u,{args:h=[],attach:p,...g},A){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=g.object;y=Hh(w,{type:u,root:A,attach:p,primitive:!0})}else{const w=KB[v];if(!w)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");y=Hh(new w(...h),{type:u,root:A,attach:p,memoizedProps:{args:h}})}return y.__r3f.attach===void 0&&(y instanceof kt?y.__r3f.attach="geometry":y instanceof _r&&(y.__r3f.attach="material")),v!=="inject"&&JC(y,g),y}function r(u,h){let p=!1;if(h){var g,A;(g=h.__r3f)!=null&&g.attach?jC(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),p=!0),p||(A=u.__r3f)==null||A.objects.push(h),h.__r3f||Hh(h,{}),h.__r3f.parent=u,vb(h),Vh(h)}}function i(u,h,p){let g=!1;if(h){var A,v;if((A=h.__r3f)!=null&&A.attach)jC(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const y=u.children.filter(x=>x!==h),w=y.indexOf(p);u.children=[...y.slice(0,w),h,...y.slice(w)],g=!0}g||(v=u.__r3f)==null||v.objects.push(h),h.__r3f||Hh(h,{}),h.__r3f.parent=u,vb(h),Vh(h)}}function s(u,h,p=!1){u&&[...u].forEach(g=>o(h,g,p))}function o(u,h,p){if(h){var g,A,v;if(h.__r3f&&(h.__r3f.parent=null),(g=u.__r3f)!=null&&g.objects&&(u.__r3f.objects=u.__r3f.objects.filter(b=>b!==h)),(A=h.__r3f)!=null&&A.attach)wP(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var y;u.remove(h),(y=h.__r3f)!=null&&y.root&&FY(h.__r3f.root,h)}const x=(v=h.__r3f)==null?void 0:v.primitive,E=p===void 0?h.dispose!==null&&!x:p;if(!x){var w;s((w=h.__r3f)==null?void 0:w.objects,h,E),s(h.children,h,E)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,x||delete h.__r3f),E&&h.dispose&&h.type!=="Scene"&&gb.unstable_scheduleCallback(gb.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Vh(u)}}function a(u,h,p,g){var A;const v=(A=u.__r3f)==null?void 0:A.parent;if(!v)return;const y=n(h,p,u.__r3f.root);if(u.children){for(const w of u.children)w.__r3f&&r(y,w);u.children=u.children.filter(w=>!w.__r3f)}u.__r3f.objects.forEach(w=>r(y,w)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[g,g.alternate].forEach(w=>{w!==null&&(w.stateNode=y,w.ref&&(typeof w.ref=="function"?w.ref(y):w.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:CY({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,p)=>{if(!h||!p)return;const g=u.getState().scene;g.__r3f&&i(g,h,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,p,g){if(u.__r3f.primitive&&g.object&&g.object!==u)return[!0];{const{args:A=[],children:v,...y}=g,{args:w=[],children:x,...E}=p;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((P,R)=>P!==w[R]))return[!0];const b=d4(u,y,E,!0);return b.changes.length?[!1,b]:null}},commitUpdate(u,[h,p],g,A,v,y){h?a(u,g,v,y):JC(u,p)},commitMount(u,h,p,g){var A;const v=(A=u.__r3f)!=null?A:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Hh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:p,parent:g}=(h=u.__r3f)!=null?h:{};p&&g&&wP(g,u,p),u.isObject3D&&(u.visible=!1),Vh(u)},unhideInstance(u,h){var p;const{attach:g,parent:A}=(p=u.__r3f)!=null?p:{};g&&A&&jC(A,u,g),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),Vh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():fp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&jn.fun(performance.now)?performance.now:jn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:jn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:jn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:JC}}var vP,yP;const s4=()=>{var t;return(t=KB.ColorManagement)!=null?t:null},o4=t=>t&&t.isOrthographicCamera,BY=t=>t&&t.hasOwnProperty("current"),B0=typeof window<"u"&&((vP=window.document)!=null&&vP.createElement||((yP=window.navigator)==null?void 0:yP.product)==="ReactNative")?M.useLayoutEffect:M.useEffect;function a4(t){const e=M.useRef(t);return B0(()=>void(e.current=t),[t]),e}function MY({set:t}){return B0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class l4 extends M.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}l4.getDerivedStateFromError=()=>({error:!0});const c4="__default",_P=new Map,TY=t=>t&&!!t.memoized&&!!t.changes;function u4(t){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(t)?Math.min(Math.max(t[0],e),t[1]):t}const Tg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},jn={obj:t=>t===Object(t)&&!jn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(jn.str(t)||jn.num(t))return t===e;const s=jn.obj(t);if(s&&r==="reference")return t===e;const o=jn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!jn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(jn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function RY(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function PY(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Hh(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function Ab(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const xP=/-\d+$/;function jC(t,e,n){if(jn.str(n)){if(xP.test(n)){const s=n.replace(xP,""),{target:o,key:a}=Ab(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Ab(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function wP(t,e,n){var r,i;if(jn.str(n)){const{target:s,key:o}=Ab(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function d4(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=t==null?void 0:t.__r3f)!=null?u:{},p=Object.entries(i),g=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||p.unshift([v[y],c4+"remove"])}p.forEach(([v,y])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&v==="object"||jn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return g.push([v,y,!0,[]]);let x=[];v.includes("-")&&(x=v.split("-")),g.push([v,y,!1,x]);for(const E in i){const b=i[E];E.startsWith(`${v}-`)&&g.push([E,b,!1,E.split("-")])}});const A={...i};return h.memoizedProps&&h.memoizedProps.args&&(A.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(A.attach=h.memoizedProps.attach),{memoized:A,changes:g}}function JC(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=TY(e)?e:d4(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[g,A,v,y]=c[p],w=t,x=w[g];if(y.length&&(x=y.reduce((E,b)=>E[b],t),!(x&&x.set))){const[E,...b]=y.reverse();w=b.reverse().reduce((P,R)=>P[R],t),g=E}if(A===c4+"remove")if(w.constructor){let E=_P.get(w.constructor);E||(E=new w.constructor,_P.set(w.constructor,E)),A=E[g]}else A=0;if(v)A?s.handlers[g]=A:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof nf)){if(Array.isArray(A))x.fromArray?x.fromArray(A):x.set(...A);else if(x.copy&&A&&A.constructor&&x.constructor===A.constructor)x.copy(A);else if(A!==void 0){const E=x instanceof Ve;!E&&x.setScalar?x.setScalar(A):x instanceof nf&&A instanceof nf?x.mask=A.mask:x.set(A),!s4()&&!a.linear&&E&&x.convertSRGBToLinear()}}else w[g]=A,!a.linear&&w[g]instanceof Tn&&w[g].format===yr&&w[g].type===Gn&&(w[g].encoding=St);Vh(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&vb(t),t}function Vh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function vb(t){t.onUpdate==null||t.onUpdate(t)}function DY(t,e){t.manual||(o4(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function t1(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function LY(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return fp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return fp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return fp.ContinuousEventPriority;default:return fp.DefaultEventPriority}}function f4(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function FY(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{f4(n.capturedMap,e,r,i)})}function kY(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),h=new Set,p=[],g=c?c(u.internal.interaction):u.internal.interaction;for(let w=0;w<g.length;w++){const x=Tg(g[w]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function A(w){const x=Tg(w);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var E;x.events.compute==null||x.events.compute(l,x,(E=x.previousRoot)==null?void 0:E.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(w,!0):[]}let v=g.flatMap(A).sort((w,x)=>{const E=Tg(w.object),b=Tg(x.object);return!E||!b?w.distance-x.distance:b.events.priority-E.events.priority||w.distance-x.distance}).filter(w=>{const x=t1(w);return h.has(x)?!1:(h.add(x),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const w of v){let x=w.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&p.push({...w,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let w of u.internal.capturedMap.get(l.pointerId).values())h.has(t1(w.intersection))||p.push(w.intersection);return p}function i(l,c,u,h){const p=t.getState();if(l.length){const g={stopped:!1};for(const A of l){const v=Tg(A.object)||p,{raycaster:y,pointer:w,camera:x,internal:E}=v,b=new H(w.x,w.y,0).unproject(x),P=U=>{var W,ee;return(W=(ee=E.capturedMap.get(U))==null?void 0:ee.has(A.eventObject))!=null?W:!1},R=U=>{const W={intersection:A,target:c.target};E.capturedMap.has(U)?E.capturedMap.get(U).set(A.eventObject,W):E.capturedMap.set(U,new Map([[A.eventObject,W]])),c.target.setPointerCapture(U)},F=U=>{const W=E.capturedMap.get(U);W&&f4(E.capturedMap,A.eventObject,W,U)};let T={};for(let U in c){let W=c[U];typeof W!="function"&&(T[U]=W)}let O={...A,...T,pointer:w,intersections:l,stopped:g.stopped,delta:u,unprojectedPoint:b,ray:y.ray,camera:x,stopPropagation(){const U="pointerId"in c&&E.capturedMap.get(c.pointerId);if((!U||U.has(A.eventObject))&&(O.stopped=g.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(W=>W.eventObject===A.eventObject))){const W=l.slice(0,l.indexOf(A));s([...W,A])}},target:{hasPointerCapture:P,setPointerCapture:R,releasePointerCapture:F},currentTarget:{hasPointerCapture:P,setPointerCapture:R,releasePointerCapture:F},nativeEvent:c};if(h(O),g.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const p=u.eventObject.__r3f,g=p==null?void 0:p.handlers;if(c.hovered.delete(t1(u)),p!=null&&p.eventCount){const A={...u,intersections:l};g.onPointerOut==null||g.onPointerOut(A),g.onPointerLeave==null||g.onPointerLeave(A)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=u;const g=l==="onPointerMove",A=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,g?n:void 0),w=A?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=y.map(E=>E.eventObject)),A&&!y.length&&w<=2&&(o(u,p.interaction),h&&h(u)),g&&s(y);function x(E){const b=E.eventObject,P=b.__r3f,R=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(g){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const F=t1(E),T=p.hovered.get(F);T?T.stopped&&E.stopPropagation():(p.hovered.set(F,E),R.onPointerOver==null||R.onPointerOver(E),R.onPointerEnter==null||R.onPointerEnter(E))}R.onPointerMove==null||R.onPointerMove(E)}else{const F=R[l];F?(!A||p.initialHits.includes(b))&&(o(u,p.interaction.filter(T=>!p.initialHits.includes(T))),F(E)):A&&p.initialHits.includes(b)&&o(u,p.interaction.filter(T=>!p.initialHits.includes(T)))}}i(y,u,w,x)}}return{handlePointer:a}}const h4=t=>!!(t!=null&&t.render),p4=M.createContext(null),OY=(t,e)=>{const n=_Y((a,l)=>{const c=new H,u=new H,h=new H;function p(w=l().camera,x=u,E=l().size){const{width:b,height:P,top:R,left:F}=E,T=b/P;x instanceof H?h.copy(x):h.set(...x);const O=w.getWorldPosition(c).distanceTo(h);if(o4(w))return{width:b/w.zoom,height:P/w.zoom,top:R,left:F,factor:1,distance:O,aspect:T};{const U=w.fov*Math.PI/180,W=2*Math.tan(U/2)*O,ee=W*(b/P);return{width:ee,height:W,top:R,left:F,factor:b/ee,distance:O,aspect:T}}}let g;const A=w=>a(x=>({performance:{...x.performance,current:w}})),v=new Ee;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(l(),w),advance:(w,x)=>e(w,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new WB,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();g&&clearTimeout(g),w.performance.current!==w.performance.min&&A(w.performance.min),g=setTimeout(()=>A(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>a(x=>({...x,events:{...x.events,...w}})),setSize:(w,x,E,b,P)=>{const R=l().camera,F={width:w,height:x,top:b||0,left:P||0,updateStyle:E};a(T=>({size:F,viewport:{...T.viewport,...p(R,u,F)}}))},setDpr:w=>a(x=>{const E=u4(w);return{viewport:{...x.viewport,dpr:E,initialDpr:x.viewport.initialDpr||E}}}),setFrameloop:(w="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,w!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:M.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,x,E)=>{const b=l().internal;return b.priority=b.priority+(x>0?1:0),b.subscribers.push({ref:w,priority:x,store:E}),b.subscribers=b.subscribers.sort((P,R)=>P.priority-R.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(x>0?1:0),P.subscribers=P.subscribers.filter(R=>R.ref!==w))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=n.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,DY(a,l),u.setPixelRatio(c.dpr);const g=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,g)}a!==o&&(o=a,h(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let n1,NY=new Set,UY=new Set,zY=new Set;function KC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Rg(t,e){switch(t){case"before":return KC(NY,e);case"after":return KC(UY,e);case"tail":return KC(zY,e)}}let $C,YC;function qC(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),$C=e.internal.subscribers,n1=0;n1<$C.length;n1++)YC=$C[n1],YC.ref.current(YC.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function GY(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,Rg("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=qC(l,i))}if(Rg("after",l),n===0)return Rg("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&Rg("before",l),u)qC(l,u,h);else for(const p of t.values())qC(l,p.store.getState());c&&Rg("after",l)}return{loop:s,invalidate:o,advance:a}}function m4(){const t=M.useContext(p4);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function yi(t=n=>n,e){return m4()(t,e)}function ic(t,e=0){const n=m4(),r=n.getState().internal.subscribe,i=a4(t);return B0(()=>r(i,e,n),[e,r,n]),null}function g4(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,RY(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function ko(t,e,n,r){const i=Array.isArray(e)?e:[e],s=EY(g4(n,r),[t,...i],{equal:jn.equ});return Array.isArray(e)?s:s[0]}ko.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return SY(g4(n),[t,...r])};ko.clear=function(t,e){const n=Array.isArray(e)?e:[e];return bY([t,...n])};const Gp=new Map,{invalidate:CP,advance:EP}=GY(Gp),{reconciler:v_,applyProps:Wh}=IY(Gp,LY),Oh={objects:"shallow",strict:!1},QY=(t,e)=>{const n=typeof t=="function"?t(e):t;return h4(n)?n:new fx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function HY(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function VY(t){const e=Gp.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||OY(CP,EP),o=n||v_.createContainer(s,fp.ConcurrentRoot,null,!1,null,"",i,null);e||Gp.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:p,scene:g,events:A,onCreated:v,shadows:y=!1,linear:w=!1,flat:x=!1,legacy:E=!1,orthographic:b=!1,frameloop:P="always",dpr:R=[1,2],performance:F,raycaster:T,camera:O,onPointerMissed:U}=u,W=s.getState(),ee=W.gl;W.gl||W.set({gl:ee=QY(h,t)});let Z=W.raycaster;Z||W.set({raycaster:Z=new jN});const{params:Y,...q}=T||{};if(jn.equ(q,Z,Oh)||Wh(Z,{...q}),jn.equ(Y,Z.params,Oh)||Wh(Z,{params:{...Z.params,...Y}}),!W.camera||W.camera===c&&!jn.equ(c,O,Oh)){c=O;const pe=O instanceof $p,te=pe?O:b?new Pu(0,0,0,0,.1,1e3):new vr(75,0,.1,1e3);pe||(te.position.z=5,O&&Wh(te,O),!W.camera&&!(O!=null&&O.rotation)&&te.lookAt(0,0,0)),W.set({camera:te})}if(!W.scene){let pe;g instanceof Up?pe=g:(pe=new Up,g&&Wh(pe,g)),W.set({scene:Hh(pe)})}if(!W.xr){const pe=(xe,ue)=>{const Pe=s.getState();Pe.frameloop!=="never"&&EP(xe,!0,Pe,ue)},te=()=>{const xe=s.getState();xe.gl.xr.enabled=xe.gl.xr.isPresenting,xe.gl.xr.setAnimationLoop(xe.gl.xr.isPresenting?pe:null),xe.gl.xr.isPresenting||CP(xe)},Se={connect(){const xe=s.getState().gl;xe.xr.addEventListener("sessionstart",te),xe.xr.addEventListener("sessionend",te)},disconnect(){const xe=s.getState().gl;xe.xr.removeEventListener("sessionstart",te),xe.xr.removeEventListener("sessionend",te)}};ee.xr&&Se.connect(),W.set({xr:Se})}if(ee.shadowMap){const pe=ee.shadowMap.enabled,te=ee.shadowMap.type;if(ee.shadowMap.enabled=!!y,jn.boo(y))ee.shadowMap.type=sA;else if(jn.str(y)){var de;const Se={basic:iO,percentage:sx,soft:sA,variance:Vd};ee.shadowMap.type=(de=Se[y])!=null?de:sA}else jn.obj(y)&&Object.assign(ee.shadowMap,y);(pe!==ee.shadowMap.enabled||te!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}const fe=s4();fe&&("enabled"in fe?fe.enabled=!E:"legacyMode"in fe&&(fe.legacyMode=E));const j=w?ds:St,ne=x?na:aB;ee.outputEncoding!==j&&(ee.outputEncoding=j),ee.toneMapping!==ne&&(ee.toneMapping=ne),W.legacy!==E&&W.set(()=>({legacy:E})),W.linear!==w&&W.set(()=>({linear:w})),W.flat!==x&&W.set(()=>({flat:x})),h&&!jn.fun(h)&&!h4(h)&&!jn.equ(h,ee,Oh)&&Wh(ee,h),A&&!W.events.handlers&&W.set({events:A(s)});const re=HY(t,p);return jn.equ(re,W.size,Oh)||W.setSize(re.width,re.height,re.updateStyle,re.top,re.left),R&&W.viewport.dpr!==u4(R)&&W.setDpr(R),W.frameloop!==P&&W.setFrameloop(P),W.onPointerMissed||W.set({onPointerMissed:U}),F&&!jn.equ(F,W.performance,Oh)&&W.set(pe=>({performance:{...pe.performance,...F}})),a=v,l=!0,this},render(u){return l||this.configure(),v_.updateContainer(M.createElement(WY,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){A4(t)}}}function WY({store:t,children:e,onCreated:n,rootElement:r}){return B0(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),M.createElement(p4.Provider,{value:t},e)}function A4(t,e){const n=Gp.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),v_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),PY(i),Gp.delete(t),e&&e(t)}catch{}},500)})}}v_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:M.version});function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}function yb(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}yb.debounce=yb;var jY=yb;const SP=_f(jY);function JY(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=M.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=M.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=M.useRef(!1);M.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,g,A]=M.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:E,top:b,width:P,height:R,bottom:F,right:T,x:O,y:U}=l.current.element.getBoundingClientRect(),W={left:E,top:b,width:P,height:R,bottom:F,right:T,x:O,y:U};l.current.element instanceof HTMLElement&&i&&(W.height=l.current.element.offsetHeight,W.width=l.current.element.offsetWidth),Object.freeze(W),h.current&&!qY(l.current.lastBounds,W)&&a(l.current.lastBounds=W)};return[x,u?SP(x,u):x,c?SP(x,c):x]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",A,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(A),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",A,{capture:!0,passive:!0})))}const w=x=>{!x||x===l.current.element||(v(),l.current.element=x,l.current.scrollContainers=v4(x),y())};return $Y(A,!!n),KY(g),M.useEffect(()=>{v(),y()},[n,A,g]),M.useEffect(()=>v,[]),[w,o,p]}function KY(t){M.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function $Y(t,e){M.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function v4(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...v4(t.parentElement)]}const YY=["x","y","top","bottom","left","right","width","height"],qY=(t,e)=>YY.every(n=>t[n]===e[n]);var XY=Object.defineProperty,ZY=Object.defineProperties,eq=Object.getOwnPropertyDescriptors,bP=Object.getOwnPropertySymbols,tq=Object.prototype.hasOwnProperty,nq=Object.prototype.propertyIsEnumerable,IP=(t,e,n)=>e in t?XY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BP=(t,e)=>{for(var n in e||(e={}))tq.call(e,n)&&IP(t,n,e[n]);if(bP)for(var n of bP(e))nq.call(e,n)&&IP(t,n,e[n]);return t},rq=(t,e)=>ZY(t,eq(e));function y4(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=y4(r,e,n);if(i)return i;r=e?null:r.sibling}}function _4(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const $B=_4(M.createContext(null));class x4 extends M.Component{render(){return M.createElement($B.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:MP,ReactCurrentDispatcher:TP}=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function iq(){const t=M.useContext($B);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=M.useId();return M.useMemo(()=>{var r;return(r=MP==null?void 0:MP.current)!=null?r:y4(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[t,e])}function sq(){var t,e;const n=iq(),[r]=M.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==$B&&!r.has(s)&&r.set(s,(e=TP==null?void 0:TP.current)==null?void 0:e.readContext(_4(s))),i=i.return}return r}function oq(){const t=sq();return M.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>M.createElement(e,null,M.createElement(n.Provider,rq(BP({},r),{value:t.get(n)}))),e=>M.createElement(x4,BP({},e))),[t])}const XC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function aq(t){const{handlePointer:e}=kY(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(XC).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=XC[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=XC[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const lq=M.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=aq,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:p,orthographic:g,frameloop:A,dpr:v,performance:y,raycaster:w,camera:x,onPointerMissed:E,onCreated:b,...P},R){M.useMemo(()=>Ex(AY),[]);const F=oq(),[T,O]=JY({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=M.useRef(null),W=M.useRef(null);M.useImperativeHandle(R,()=>U.current);const ee=a4(E),[Z,Y]=M.useState(!1),[q,de]=M.useState(!1);if(Z)throw Z;if(q)throw q;const fe=M.useRef(null);B0(()=>{const ne=U.current;O.width>0&&O.height>0&&ne&&(fe.current||(fe.current=VY(ne)),fe.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:p,orthographic:g,frameloop:A,dpr:v,performance:y,raycaster:w,camera:x,size:O,onPointerMissed:(...re)=>ee.current==null?void 0:ee.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(a?BY(a)?a.current:a:W.current),l&&re.setEvents({compute:(pe,te)=>{const Se=pe[l+"X"],xe=pe[l+"Y"];te.pointer.set(Se/te.size.width*2-1,-(xe/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)}}),b==null||b(re)}}),fe.current.render(M.createElement(F,null,M.createElement(l4,{set:de},M.createElement(M.Suspense,{fallback:M.createElement(MY,{set:Y})},e)))))}),M.useEffect(()=>{const ne=U.current;if(ne)return()=>A4(ne)},[]);const j=a?"none":"auto";return M.createElement("div",yn({ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},P),M.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},M.createElement("canvas",{ref:U,style:{display:"block"}},n)))}),cq=M.forwardRef(function(e,n){return M.createElement(x4,null,M.createElement(lq,yn({},e,{ref:n})))}),M0=new H,YB=new H,uq=new H,RP=new Ee;function dq(t,e,n){const r=M0.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function fq(t,e){const n=M0.setFromMatrixPosition(t.matrixWorld),r=YB.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(uq);return i.angleTo(s)>Math.PI/2}function hq(t,e,n,r){const i=M0.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),RP.set(s.x,s.y),n.setFromCamera(RP,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function pq(t,e){if(e instanceof Pu)return e.zoom;if(e instanceof vr){const n=M0.setFromMatrixPosition(t.matrixWorld),r=YB.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function mq(t,e,n){if(e instanceof vr||e instanceof Pu){const r=M0.setFromMatrixPosition(t.matrixWorld),i=YB.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const _b=t=>Math.abs(t)<1e-10?0:t;function w4(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=_b(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const gq=(t=>e=>w4(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Aq=(t=>(e,n)=>w4(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function vq(t){return t&&typeof t=="object"&&"current"in t}const C4=M.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:p,castShadow:g,receiveShadow:A,material:v,geometry:y,zIndexRange:w=[16777271,0],calculatePosition:x=dq,as:E="div",wrapperClass:b,pointerEvents:P="auto",...R},F)=>{const{gl:T,camera:O,scene:U,size:W,raycaster:ee,events:Z,viewport:Y}=yi(),[q]=M.useState(()=>document.createElement(E)),de=M.useRef(),fe=M.useRef(null),j=M.useRef(0),ne=M.useRef([0,0]),re=M.useRef(null),pe=M.useRef(null),te=(a==null?void 0:a.current)||Z.connected||T.domElement.parentNode,Se=M.useRef(null),xe=M.useRef(!1),ue=M.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&vq(h[0]),[h]);M.useLayoutEffect(()=>{const ze=T.domElement;h&&h==="blending"?(ze.style.zIndex=`${Math.floor(w[0]/2)}`,ze.style.position="absolute",ze.style.pointerEvents="none"):(ze.style.zIndex=null,ze.style.position=null,ze.style.pointerEvents=null)},[h]),M.useLayoutEffect(()=>{if(fe.current){const ze=de.current=iB(q);if(U.updateMatrixWorld(),u)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Fe=x(fe.current,O,W);q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Fe[0]}px,${Fe[1]}px,0);transform-origin:0 0;`}return te&&(i?te.prepend(q):te.appendChild(q)),()=>{te&&te.removeChild(q),ze.unmount()}}},[te,u]),M.useLayoutEffect(()=>{b&&(q.className=b)},[b]);const Pe=M.useMemo(()=>u?{position:"absolute",top:0,left:0,width:W.width,height:W.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-W.height/2,left:-W.width/2,width:W.width,height:W.height},...n},[n,s,o,W,u]),ke=M.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);M.useLayoutEffect(()=>{if(xe.current=!1,u){var ze;(ze=de.current)==null||ze.render(M.createElement("div",{ref:re,style:Pe},M.createElement("div",{ref:pe,style:ke},M.createElement("div",{ref:F,className:r,style:n,children:t}))))}else{var Fe;(Fe=de.current)==null||Fe.render(M.createElement("div",{ref:F,style:Pe,className:r,children:t}))}});const je=M.useRef(!0);ic(ze=>{if(fe.current){O.updateMatrixWorld(),fe.current.updateWorldMatrix(!0,!1);const Fe=u?ne.current:x(fe.current,O,W);if(u||Math.abs(j.current-O.zoom)>e||Math.abs(ne.current[0]-Fe[0])>e||Math.abs(ne.current[1]-Fe[1])>e){const Me=fq(fe.current,O);let we=!1;ue&&(Array.isArray(h)?we=h.map(ut=>ut.current):h!=="blending"&&(we=[U]));const Ue=je.current;if(we){const ut=hq(fe.current,O,ee,we);je.current=ut&&!Me}else je.current=!Me;Ue!==je.current&&(p?p(!je.current):q.style.display=je.current?"block":"none");const nt=Math.floor(w[0]/2),Je=h?ue?[w[0],nt]:[nt-1,0]:w;if(q.style.zIndex=`${mq(fe.current,O,Je)}`,u){const[ut,at]=[W.width/2,W.height/2],ht=O.projectionMatrix.elements[5]*at,{isOrthographicCamera:zt,top:Dt,left:K,bottom:N,right:le}=O,De=gq(O.matrixWorldInverse),Le=zt?`scale(${ht})translate(${_b(-(le+K)/2)}px,${_b((Dt+N)/2)}px)`:`translateZ(${ht}px)`;let Ne=fe.current.matrixWorld;c&&(Ne=O.matrixWorldInverse.clone().transpose().copyPosition(Ne).scale(fe.current.scale),Ne.elements[3]=Ne.elements[7]=Ne.elements[11]=0,Ne.elements[15]=1),q.style.width=W.width+"px",q.style.height=W.height+"px",q.style.perspective=zt?"":`${ht}px`,re.current&&pe.current&&(re.current.style.transform=`${Le}${De}translate(${ut}px,${at}px)`,pe.current.style.transform=Aq(Ne,1/((l||10)/400)))}else{const ut=l===void 0?1:pq(fe.current,O)*l;q.style.transform=`translate3d(${Fe[0]}px,${Fe[1]}px,0) scale(${ut})`}ne.current=Fe,j.current=O.zoom}}if(!ue&&Se.current&&!xe.current)if(u){if(re.current){const Fe=re.current.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const{isOrthographicCamera:Me}=O;if(Me||y)R.scale&&(Array.isArray(R.scale)?R.scale instanceof H?Se.current.scale.copy(R.scale.clone().divideScalar(1)):Se.current.scale.set(1/R.scale[0],1/R.scale[1],1/R.scale[2]):Se.current.scale.setScalar(1/R.scale));else{const we=(l||10)/400,Ue=Fe.clientWidth*we,nt=Fe.clientHeight*we;Se.current.scale.set(Ue,nt,1)}xe.current=!0}}}else{const Fe=q.children[0];if(Fe!=null&&Fe.clientWidth&&Fe!=null&&Fe.clientHeight){const Me=1/Y.factor,we=Fe.clientWidth*Me,Ue=Fe.clientHeight*Me;Se.current.scale.set(we,Ue,1),xe.current=!0}Se.current.lookAt(ze.camera.position)}});const Ye=M.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return M.createElement("group",yn({},R,{ref:fe}),h&&!ue&&M.createElement("mesh",{castShadow:g,receiveShadow:A,ref:Se},y||M.createElement("planeGeometry",null),v||M.createElement("shaderMaterial",{side:as,vertexShader:Ye.vertexShader,fragmentShader:Ye.fragmentShader})))});function yq(t,e,n){return Math.max(e,Math.min(t,n))}const Qi={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function PP(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function DP(t,e,n,r=.15){return r===0?yq(t,e,n):t<e?-PP(e-t,n-e,r)+e:t>n?+PP(t-n,n-e,r)+n:t}function _q(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[DP(e,s,o,r),DP(n,a,l,i)]}function xq(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wq(t){var e=xq(t,"string");return typeof e=="symbol"?e:String(e)}function bs(t,e,n){return e=wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){bs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const E4={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function FP(t){return t?t[0].toUpperCase()+t.slice(1):""}const Cq=["enter","leave"];function Eq(t=!1,e){return t&&!Cq.includes(e)}function Sq(t,e="",n=!1){const r=E4[t],i=r&&r[e]||e;return"on"+FP(t)+FP(i)+(Eq(n,i)?"Capture":"")}const bq=["gotpointercapture","lostpointercapture"];function Iq(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=bq.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function Bq(t,e=""){const n=E4[t],r=n&&n[e]||e;return t+r}function Sx(t){return"touches"in t}function S4(t){return Sx(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Mq(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function Tq(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function b4(t){return Sx(t)?Tq(t)[0]:t}function Rq(t){return Mq(t).map(e=>e.identifier)}function ZC(t){const e=b4(t);return Sx(t)?e.identifier:e.pointerId}function kP(t){const e=b4(t);return[e.clientX,e.clientY]}function Pq(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function y_(t,...e){return typeof t=="function"?t(...e):t}function Dq(){}function Lq(...t){return t.length===0?Dq:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function OP(t,e){return Object.assign({},e,t||{})}const Fq=32;class kq{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?y_(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Pq(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const R=n._delta.map(Math.abs);Qi.addTo(n._distance,R)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:u,values:h}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&h[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&h[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[R,F]=h;p[0]=u[0]!==!1?R-u[0]:0,p[1]=u[1]!==!1?F-u[1]:0}else p[0]=u[0]!==!1?o-u[0]:0,p[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const g=n.offset,A=n._active&&!n._blocked||n.active;A&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=y_(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[v,y]=n.offset,[[w,x],[E,b]]=n._bounds;n.overflow=[v<w?-1:v>x?1:0,y<E?-1:y>b?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const P=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=_q(n._bounds,n.offset,P),n.delta=Qi.sub(n.offset,g),this.computeMovement(),A&&(!n.last||s>Fq)){n.delta=Qi.sub(n.offset,g);const R=n.delta.map(Math.abs);Qi.addTo(n.distance,R),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[R[0]/s,R[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(lr(lr(lr({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Oq([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class Nq extends kq{constructor(...e){super(...e),bs(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Qi.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Qi.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[S4(e)]:r.axisThreshold;n.axis=Oq(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Uq=t=>t,NP=.15,I4={enabled(t=!0){return t},eventOptions(t,e,n){return lr(lr({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[NP,NP];case!1:return[0,0];default:return Qi.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Qi.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||Uq},threshold(t){return Qi.toVector(t,0)}},zq=0,T0=lr(lr({},I4),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=zq){return t},bounds(t={}){if(typeof t=="function")return s=>T0.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),UP={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Gq extends Nq{constructor(...e){super(...e),bs(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=T0.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=ZC(e),r._pointerActive=!0,this.computeValues(kP(e)),this.computeInitial(),n.preventScrollAxis&&S4(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive||n.type===e.type&&e.timeStamp===n.timeStamp)return;const i=ZC(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=kP(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Qi.sub(s,n._values),this.computeValues(s)),Qi.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=ZC(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,u]=n._movement,[h,p]=r.swipe.velocity,[g,A]=r.swipe.distance,v=r.swipe.duration;if(n.elapsedTime<v){const y=Math.abs(a/n.timeDelta),w=Math.abs(l/n.timeDelta);y>h&&Math.abs(c)>g&&(n.swipe[0]=Math.sign(a)),w>p&&Math.abs(u)>A&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Qq(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=UP[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Qi.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in UP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Qq(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const R0=typeof window<"u"&&window.document&&window.document.createElement;function Hq(){return R0&&"ontouchstart"in window}function zP(){return Hq()||R0&&window.navigator.maxTouchPoints>1}function Vq(){return R0&&"onpointerdown"in window}function Wq(){return R0&&"exitPointerLock"in window.document}function jq(){try{return"constructor"in GestureEvent}catch{return!1}}const So={isBrowser:R0,gesture:jq(),touch:zP(),touchscreen:zP(),pointer:Vq(),pointerLock:Wq()},Jq=250,Kq=180,$q=.5,Yq=50,qq=250,Xq=10,GP={mouse:0,touch:0,pen:8},Zq=lr(lr({},T0),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&So.pointerLock,So.touch&&n?"touch":this.pointerLock?"mouse":So.pointer&&!i?"pointer":So.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?Jq:void 0,!(!So.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Qi.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=$q,distance:e=Yq,duration:n=qq}={}){return{velocity:this.transform(Qi.toVector(t)),distance:this.transform(Qi.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return Kq;case!1:return 0;default:return t}},axisThreshold(t){return t?lr(lr({},GP),t):GP},keyboardDisplacement(t=Xq){return t}});lr(lr({},I4),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!So.touch&&So.gesture)return"gesture";if(So.touch&&r)return"touch";if(So.touchscreen){if(So.pointer)return"pointer";if(So.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=OP(y_(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=OP(y_(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Qi.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});lr(lr({},T0),{},{mouseOnly:(t=!0)=>t});lr(lr({},T0),{},{mouseOnly:(t=!0)=>t});const B4=new Map,xb=new Map;function eX(t){B4.set(t.key,t.engine),xb.set(t.key,t.resolver)}const tX={key:"drag",engine:Gq,resolver:Zq};function nX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rX(t,e){if(t==null)return{};var n=nX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const iX={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=So.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},sX=["target","eventOptions","window","enabled","transform"];function k1(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=k1(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function oX(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=rX(r,sX);if(n.shared=k1({target:i,eventOptions:s,window:o,enabled:a,transform:l},iX),e){const u=xb.get(e);n[e]=k1(lr({shared:n.shared},c),u)}else for(const u in c){const h=xb.get(u);h&&(n[u]=k1(lr({shared:n.shared},c[u]),h))}return n}class M4{constructor(e,n){bs(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=Bq(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=lr(lr({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class aX{constructor(){bs(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class lX{constructor(e){bs(this,"gestures",new Set),bs(this,"_targetEventStore",new M4(this)),bs(this,"gestureEventStores",{}),bs(this,"gestureTimeoutStores",{}),bs(this,"handlers",{}),bs(this,"config",{}),bs(this,"pointerIds",new Set),bs(this,"touchIds",new Set),bs(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),cX(this,e)}setEventIds(e){if(Sx(e))return this.touchIds=new Set(Rq(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=oX(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=QP(r,a.eventOptions,!!i);if(a.enabled){const c=B4.get(o);new c(this,e,o).bind(l)}}const s=QP(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](lr(lr({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=Lq(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=Iq(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function Nh(t,e){t.gestures.add(e),t.gestureEventStores[e]=new M4(t,e),t.gestureTimeoutStores[e]=new aX}function cX(t,e){e.drag&&Nh(t,"drag"),e.wheel&&Nh(t,"wheel"),e.scroll&&Nh(t,"scroll"),e.move&&Nh(t,"move"),e.pinch&&Nh(t,"pinch"),e.hover&&Nh(t,"hover")}const QP=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:Sq(r,i,u);n&&h&&(p+="Passive"),t[p]=t[p]||[],t[p].push(s)};function uX(t,e={},n,r){const i=X.useMemo(()=>new lX(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),X.useEffect(i.effect.bind(i)),X.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function dX(t,e){return eX(tX),uX({drag:t},e||{},"drag")}let Pg;function fX(){var t;if(Pg!==void 0)return Pg;try{let e;const n=document.createElement("canvas");return Pg=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),Pg}catch{return Pg=!1}}const hX=parseInt(nc.replace(/\D+/g,""));function pX(t,e=1e-4){e=Math.max(e,Number.EPSILON);const n={},r=t.getIndex(),i=t.getAttribute("position"),s=r?r.count:i.count;let o=0;const a=Object.keys(t.attributes),l={},c={},u=[],h=["getX","getY","getZ","getW"];for(let v=0,y=a.length;v<y;v++){const w=a[v];l[w]=[];const x=t.morphAttributes[w];x&&(c[w]=new Array(x.length).fill(0).map(()=>[]))}const p=Math.log10(1/e),g=Math.pow(10,p);for(let v=0;v<s;v++){const y=r?r.getX(v):v;let w="";for(let x=0,E=a.length;x<E;x++){const b=a[x],P=t.getAttribute(b),R=P.itemSize;for(let F=0;F<R;F++)w+=`${~~(P[h[F]](y)*g)},`}if(w in n)u.push(n[w]);else{for(let x=0,E=a.length;x<E;x++){const b=a[x],P=t.getAttribute(b),R=t.morphAttributes[b],F=P.itemSize,T=l[b],O=c[b];for(let U=0;U<F;U++){const W=h[U];if(T.push(P[W](y)),R)for(let ee=0,Z=R.length;ee<Z;ee++)O[ee].push(R[ee][W](y))}}n[w]=o,u.push(o),o++}}const A=t.clone();for(let v=0,y=a.length;v<y;v++){const w=a[v],x=t.getAttribute(w),E=new x.array.constructor(l[w]),b=new Ft(E,x.itemSize,x.normalized);if(A.setAttribute(w,b),w in c)for(let P=0;P<c[w].length;P++){const R=t.morphAttributes[w][P],F=new R.array.constructor(c[w][P]),T=new Ft(F,R.itemSize,R.normalized);A.morphAttributes[w][P]=T}}return A.setIndex(u),A}function HP(t,e){if(e===WO)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===m_||e===dB){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===m_)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function __(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const $d="srgb",Vl="srgb-linear",VP=3001,mX=3e3;class qB extends xi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new _X(n)}),this.register(function(n){return new xX(n)}),this.register(function(n){return new TX(n)}),this.register(function(n){return new RX(n)}),this.register(function(n){return new PX(n)}),this.register(function(n){return new CX(n)}),this.register(function(n){return new EX(n)}),this.register(function(n){return new SX(n)}),this.register(function(n){return new bX(n)}),this.register(function(n){return new yX(n)}),this.register(function(n){return new IX(n)}),this.register(function(n){return new wX(n)}),this.register(function(n){return new MX(n)}),this.register(function(n){return new BX(n)}),this.register(function(n){return new AX(n)}),this.register(function(n){return new DX(n)}),this.register(function(n){return new LX(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=lu.extractUrlBase(e);o=lu.resolveURL(c,this.path)}else o=lu.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(__(new Uint8Array(e.slice(0,4)))===T4){try{o[Xt.KHR_BINARY_GLTF]=new FX(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Xt.KHR_BINARY_GLTF].content)}else s=JSON.parse(__(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new KX(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(u){case Xt.KHR_MATERIALS_UNLIT:o[u]=new vX;break;case Xt.KHR_DRACO_MESH_COMPRESSION:o[u]=new kX(s,this.dracoLoader);break;case Xt.KHR_TEXTURE_TRANSFORM:o[u]=new OX;break;case Xt.KHR_MESH_QUANTIZATION:o[u]=new NX;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function gX(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Xt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class AX{constructor(e){this.parser=e,this.name=Xt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ve(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Vl);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new HB(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new QB(u),c.distance=h;break;case"spot":c=new GB(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Rl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class vX{constructor(){this.name=Xt.KHR_MATERIALS_UNLIT}getMaterialType(){return so}extendParams(e,n,r){const i=[];e.color=new Ve(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Vl),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,$d))}return Promise.all(i)}}class yX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class _X{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ee(a,a)}return Promise.all(s)}}class xX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class wX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class CX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Ve(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Vl)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,$d)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class EX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class SX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Ve().setRGB(a[0],a[1],a[2],Vl),Promise.all(s)}}class bX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class IX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Ve().setRGB(a[0],a[1],a[2],Vl),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,$d)),Promise.all(s)}}class BX{constructor(e){this.parser=e,this.name=Xt.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class MX{constructor(e){this.parser=e,this.name=Xt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Fo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class TX{constructor(e){this.parser=e,this.name=Xt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class RX{constructor(e){this.parser=e,this.name=Xt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class PX{constructor(e){this.parser=e,this.name=Xt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class DX{constructor(e){this.name=Xt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,h=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,p,i.mode,i.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(g),u,h,p,i.mode,i.filter),g})})}else return null}}class LX{constructor(e){this.name=Xt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==xo.TRIANGLES&&c.mode!==xo.TRIANGLE_STRIP&&c.mode!==xo.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],p=c[0].count,g=[];for(const A of h){const v=new It,y=new H,w=new Yr,x=new H(1,1,1),E=new CB(A.geometry,A.material,p);for(let b=0;b<p;b++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&w.fromBufferAttribute(l.ROTATION,b),l.SCALE&&x.fromBufferAttribute(l.SCALE,b),E.setMatrixAt(b,v.compose(y,w,x));for(const b in l)if(b==="_COLOR_0"){const P=l[b];E.instanceColor=new hf(P.array,P.itemSize,P.normalized)}else b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&A.geometry.setAttribute(b,l[b]);qt.prototype.copy.call(E,A),this.parser.assignFinalMaterial(E),g.push(E)}return u.isGroup?(u.clear(),u.add(...g),u):g[0]}))}}const T4="glTF",Dg=12,WP={JSON:1313821514,BIN:5130562};class FX{constructor(e){this.name=Xt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Dg);if(this.header={magic:__(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==T4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Dg,i=new DataView(e,Dg);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===WP.JSON){const l=new Uint8Array(e,Dg+s,o);this.content=__(l)}else if(a===WP.BIN){const l=Dg+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class kX{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Xt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=wb[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=wb[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],g=Sp[p.componentType];c[h]=g.name,l[h]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(h,p){i.decodeDracoFile(u,function(g){for(const A in g.attributes){const v=g.attributes[A],y=l[A];y!==void 0&&(v.normalized=y)}h(g)},a,c,Vl,p)})})}}class OX{constructor(){this.name=Xt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class NX{constructor(){this.name=Xt.KHR_MESH_QUANTIZATION}}class R4 extends nm{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,h=(r-n)/u,p=h*h,g=p*h,A=e*c,v=A-c,y=-2*g+3*p,w=g-p,x=1-y,E=w-p+h;for(let b=0;b!==a;b++){const P=o[v+b+a],R=o[v+b+l]*u,F=o[A+b+a],T=o[A+b]*u;s[b]=x*P+E*R+y*F+w*T}return s}}const UX=new Yr;class zX extends R4{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return UX.fromArray(s).normalize().toArray(s),s}}const xo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Sp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},jP={9728:vn,9729:sn,9984:QA,9985:ax,9986:Cp,9987:Do},JP={33071:Ur,33648:Fp,10497:gu},eE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wb={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...hX>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Lc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},GX={CUBICSPLINE:void 0,LINEAR:ff,STEP:kp},tE={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function QX(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new b0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ia})),t.DefaultMaterial}function Rd(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Rl(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function HX(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(r){const p=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):t.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],p=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=h),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function VX(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function WX(t){let e;const n=t.extensions&&t.extensions[Xt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+nE(n.attributes):e=t.indices+":"+nE(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+nE(t.targets[r]);return e}function nE(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function Cb(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function jX(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const JX=new It;class KX{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new gX,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new I0(this.options.manager):this.textureLoader=new GN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Rd(s,a,i),Rl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Xt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(lu.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=eE[i.type],a=Sp[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Ft(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=eE[i.type],c=Sp[i.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,p=i.byteOffset||0,g=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,A=i.normalized===!0;let v,y;if(g&&g!==h){const w=Math.floor(p/g),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let E=n.cache.get(x);E||(v=new c(a,w*g,i.count*g/u),E=new h0(v,g/u),n.cache.add(x,E)),y=new vu(E,l,p%g/u,A)}else a===null?v=new c(i.count*l):v=new c(a,p,i.count*l),y=new Ft(v,l,A);if(i.sparse!==void 0){const w=eE.SCALAR,x=Sp[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,b=i.sparse.values.byteOffset||0,P=new x(o[1],E,i.sparse.count*w),R=new c(o[2],b,i.sparse.count*l);a!==null&&(y=new Ft(y.array.slice(),y.itemSize,y.normalized));for(let F=0,T=P.length;F<T;F++){const O=P[F];if(y.setX(O,R[F*l]),l>=2&&y.setY(O,R[F*l+1]),l>=3&&y.setZ(O,R[F*l+2]),l>=4&&y.setW(O,R[F*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=jP[p.magFilter]||sn,u.minFilter=jP[p.minFilter]||Do,u.wrapS=JP[p.wrapS]||gu,u.wrapT=JP[p.wrapT]||gu,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(p,g){let A=p;n.isImageBitmapLoader===!0&&(A=function(v){const y=new Tn(v);y.needsUpdate=!0,p(y)}),n.load(lu.resolveURL(h,s.path),A,void 0,g)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),Rl(h,o),h.userData.mimeType=o.mimeType||jX(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Xt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Xt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Xt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===VP?$d:Vl),"colorSpace"in o?o.colorSpace=i:o.encoding=i===$d?VP:mX),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new gx,_r.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Vi,_r.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return b0}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Xt.KHR_MATERIALS_UNLIT]){const h=i[Xt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,n))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Ve(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Vl),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",h.baseColorTexture,$d)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=as);const u=s.alphaMode||tE.OPAQUE;if(u===tE.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===tE.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==so&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ee(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==so&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==so){const h=s.emissiveFactor;a.emissive=new Ve().setRGB(h[0],h[1],h[2],Vl)}return s.emissiveTexture!==void 0&&o!==so&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,$d)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Rl(h,s),n.associations.set(h,{materials:e}),s.extensions&&Rd(i,h,s),h})}createUniqueName(e){const n=un.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Xt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return KP(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=WX(c),h=i[u];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[Xt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=KP(new kt,c,n),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?QX(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let g=0,A=u.length;g<A;g++){const v=u[g],y=o[g];let w;const x=c[g];if(y.mode===xo.TRIANGLES||y.mode===xo.TRIANGLE_STRIP||y.mode===xo.TRIANGLE_FAN||y.mode===void 0)w=s.isSkinnedMesh===!0?new wB(v,x):new $r(v,x),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),y.mode===xo.TRIANGLE_STRIP?w.geometry=HP(w.geometry,dB):y.mode===xo.TRIANGLE_FAN&&(w.geometry=HP(w.geometry,m_));else if(y.mode===xo.LINES)w=new oa(v,x);else if(y.mode===xo.LINE_STRIP)w=new Xl(v,x);else if(y.mode===xo.LINE_LOOP)w=new EB(v,x);else if(y.mode===xo.POINTS)w=new SB(v,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(w.geometry.morphAttributes).length>0&&VX(w,s),w.name=n.createUniqueName(s.name||"mesh_"+e),Rl(w,s),y.extensions&&Rd(i,w,y),n.assignFinalMaterial(w),h.push(w)}for(let g=0,A=h.length;g<A;g++)n.associations.set(h[g],{meshes:e,primitives:g});if(h.length===1)return s.extensions&&Rd(i,h[0],s),h[0];const p=new Ha;s.extensions&&Rd(i,p,s),n.associations.set(p,{meshes:e});for(let g=0,A=h.length;g<A;g++)p.add(h[g]);return p})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new vr(os.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Pu(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Rl(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const p=new It;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new p0(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let h=0,p=i.channels.length;h<p;h++){const g=i.channels[h],A=i.samplers[g.sampler],v=g.target,y=v.node,w=i.parameters!==void 0?i.parameters[A.input]:A.input,x=i.parameters!==void 0?i.parameters[A.output]:A.output;v.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",w)),l.push(this.getDependency("accessor",x)),c.push(A),u.push(v))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(h){const p=h[0],g=h[1],A=h[2],v=h[3],y=h[4],w=[];for(let x=0,E=p.length;x<E;x++){const b=p[x],P=g[x],R=A[x],F=v[x],T=y[x];if(b===void 0)continue;b.updateMatrix&&b.updateMatrix();const O=r._createAnimationTracks(b,P,R,F,T);if(O)for(let U=0;U<O.length;U++)w.push(O[U])}return new zp(s,void 0,w)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],h=c[1],p=c[2];p!==null&&u.traverse(function(g){g.isSkinnedMesh&&g.bind(p,JX)});for(let g=0,A=h.length;g<A;g++)u.add(h[g]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new mx:c.length>1?u=new Ha:c.length===1?u=c[0]:u=new qt,u!==c[0])for(let h=0,p=c.length;h<p;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=o),Rl(u,s),s.extensions&&Rd(r,u,s),s.matrix!==void 0){const h=new It;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Ha;r.name&&(s.name=i.createUniqueName(r.name)),Rl(s,r),r.extensions&&Rd(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[p,g]of i.associations)(p instanceof _r||p instanceof Tn)&&h.set(p,g);return u.traverse(p=>{const g=i.associations.get(p);g!=null&&h.set(p,g)}),h};return i.associations=c(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Lc[s.path]===Lc.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(Lc[s.path]){case Lc.weights:c=mf;break;case Lc.rotation:c=yu;break;case Lc.position:case Lc.scale:c=gf;break;default:switch(r.itemSize){case 1:c=mf;break;case 2:case 3:default:c=gf;break}break}const u=i.interpolation!==void 0?GX[i.interpolation]:ff,h=this._getArrayFromAccessor(r);for(let p=0,g=l.length;p<g;p++){const A=new c(l[p]+"."+Lc[s.path],n.array,h,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(A),o.push(A)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=Cb(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof yu?zX:R4;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function $X(t,e,n){const r=e.attributes,i=new Mu;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new H(l[0],l[1],l[2]),new H(c[0],c[1],c[2])),a.normalized){const u=Cb(Sp[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new H,l=new H;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const p=n.json.accessors[h.POSITION],g=p.min,A=p.max;if(g!==void 0&&A!==void 0){if(l.setX(Math.max(Math.abs(g[0]),Math.abs(A[0]))),l.setY(Math.max(Math.abs(g[1]),Math.abs(A[1]))),l.setZ(Math.max(Math.abs(g[2]),Math.abs(A[2]))),p.normalized){const v=Cb(Sp[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Tu;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function KP(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=wb[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Rl(t,e),$X(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?HX(t,e.targets,n):t})}class YX extends Zp{constructor(e,n={}){const{bevelEnabled:r=!1,bevelSize:i=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:c=1,letterSpacing:u=0,...h}=n;if(o===void 0)super();else{const p=o.generateShapes(e,l,{lineHeight:c,letterSpacing:u});super(p,{...h,bevelEnabled:r,bevelSize:i,bevelThickness:s,depth:a})}this.type="TextGeometry"}}var qX=Object.defineProperty,XX=(t,e,n)=>e in t?qX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XB=(t,e,n)=>(XX(t,typeof e!="symbol"?e+"":e,n),n);class ZX extends xi{constructor(e){super(e)}load(e,n,r,i){const s=new vi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);n&&n(l)},r,i)}loadAsync(e,n){return super.loadAsync(e,n)}parse(e){return new ZB(e)}}class ZB{constructor(e){XB(this,"data"),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=eZ(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}XB(ZB,"isFont");XB(ZB,"type");function eZ(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<i.length;u++){const h=i[u];if(h===`
`)l=0,c-=o*r.lineHeight;else{const p=tZ(h,s,l,c,n);p&&(l+=p.offsetX+r.letterSpacing,a.push(p.path))}}return a}function tZ(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new XN;let a,l,c,u,h,p,g,A;if(s.o){const v=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,w=v.length;y<w;)switch(v[y++]){case"m":a=parseInt(v[y++])*e+n,l=parseInt(v[y++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(v[y++])*e+n,l=parseInt(v[y++])*e+r,o.lineTo(a,l);break;case"q":c=parseInt(v[y++])*e+n,u=parseInt(v[y++])*e+r,h=parseInt(v[y++])*e+n,p=parseInt(v[y++])*e+r,o.quadraticCurveTo(h,p,c,u);break;case"b":c=parseInt(v[y++])*e+n,u=parseInt(v[y++])*e+r,h=parseInt(v[y++])*e+n,p=parseInt(v[y++])*e+r,g=parseInt(v[y++])*e+n,A=parseInt(v[y++])*e+r,o.bezierCurveTo(h,p,g,A,c,u);break}}return{offsetX:s.ha*e,path:o}}const rE=new WeakMap;class nZ extends xi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new vi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(rE.has(e)){const l=rE.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),rE.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new kt;e.index&&n.setIndex(new Ft(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Ft(o,a))}return n}_loadLibrary(e,n){const r=new vi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=rZ.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function rZ(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,p=new h.Decoder,g=new h.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{const A=n(h,p,g,c),v=A.attributes.map(y=>y.array.buffer);A.index&&v.push(A.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:A},v)}catch(A){console.error(A),self.postMessage({type:"error",id:a.id,error:A.message})}finally{h.destroy(g),h.destroy(p)}});break}};function n(o,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let p,g;const A=a.GetEncodedGeometryType(l);if(A===o.TRIANGULAR_MESH)p=new o.Mesh,g=a.DecodeBufferToMesh(l,p);else if(A===o.POINT_CLOUD)p=new o.PointCloud,g=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const v={index:null,attributes:[]};for(const y in u){const w=self[h[y]];let x,E;if(c.useUniqueIDs)E=u[y],x=a.GetAttributeByUniqueId(p,E);else{if(E=a.GetAttributeId(p,o[u[y]]),E===-1)continue;x=a.GetAttribute(p,E)}v.attributes.push(i(o,a,p,y,w,x))}return A===o.TRIANGULAR_MESH&&(v.index=r(o,a,p)),o.destroy(p),v}function r(o,a,l){const u=l.num_faces()*3,h=u*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const g=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:g,itemSize:1}}function i(o,a,l,c,u,h){const p=h.num_components(),A=l.num_points()*p,v=A*u.BYTES_PER_ELEMENT,y=s(o,u),w=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,h,y,v,w);const x=new u(o.HEAPF32.buffer,w,A).slice();return o._free(w),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let r1;const iE=()=>{if(r1)return r1;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let A=0;A<h.length;++A){const v=h.charCodeAt(A);p[A]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let g=0;for(let A=0;A<h.length;++A)p[g++]=p[A]<60?r[p[A]]:(p[A]-60)*64+p[++A];return p.buffer.slice(0,g)}function l(h,p,g,A,v,y){const w=s.exports.sbrk,x=g+3&-4,E=w(x*A),b=w(v.length),P=new Uint8Array(s.exports.memory.buffer);P.set(v,b);const R=h(E,g,A,b,v.length);if(R===0&&y&&y(E,x,A),p.set(P.subarray(E,E+g*A)),w(E-w(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return r1={ready:o,supported:!0,decodeVertexBuffer(h,p,g,A,v){l(s.exports.meshopt_decodeVertexBuffer,h,p,g,A,s.exports[c[v]])},decodeIndexBuffer(h,p,g,A){l(s.exports.meshopt_decodeIndexBuffer,h,p,g,A)},decodeIndexSequence(h,p,g,A){l(s.exports.meshopt_decodeIndexSequence,h,p,g,A)},decodeGltfBuffer(h,p,g,A,v,y){l(s.exports[u[v]],h,p,g,A,s.exports[c[y]])}},r1},$P=M.forwardRef(({url:t,distance:e=1,loop:n=!0,autoplay:r,...i},s)=>{const o=M.useRef(null);M.useImperativeHandle(s,()=>o.current,[]);const a=yi(({camera:u})=>u),[l]=M.useState(()=>new QN),c=ko(Cx,t);return M.useEffect(()=>{const u=o.current;u&&(u.setBuffer(c),u.setRefDistance(e),u.setLoop(n),r&&!u.isPlaying&&u.play())},[c,a,e,n]),M.useEffect(()=>{const u=o.current;return a.add(l),()=>{a.remove(l),u&&(u.isPlaying&&u.stop(),u.source&&u.source._connected&&u.disconnect())}},[]),M.createElement("positionalAudio",yn({ref:o,args:[l]},i))}),iZ=t=>typeof t=="object"&&typeof t.then=="function",Yd=[];function P4(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function D4(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Yd)if(P4(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Yd.indexOf(i);s!==-1&&Yd.splice(s,1)},promise:(iZ(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Yd.push(i),!n)throw i.promise}const sZ=(t,e,n)=>D4(t,e,!1,n),oZ=(t,e,n)=>void D4(t,e,!0,n),aZ=t=>{if(t===void 0||t.length===0)Yd.splice(0,Yd.length);else{const e=Yd.find(n=>P4(t,n.keys,n.equal));e&&e.remove()}};let sE=null;async function lZ(t){return typeof t=="string"?await(await fetch(t)).json():t}function cZ(t){return sE||(sE=new ZX),sE.parse(t)}async function L4(t){const e=await lZ(t);return cZ(e)}function eM(t){return sZ(L4,[t])}eM.preload=t=>oZ(L4,[t]);eM.clear=t=>aZ([t]);const uZ=["string","number"],dZ=t=>{let e="";const n=[];return M.Children.forEach(t,r=>{uZ.includes(typeof r)?e+=r+"":n.push(r)}),[e,...n]},fZ=M.forwardRef(({font:t,letterSpacing:e=0,lineHeight:n=1,size:r=1,height:i=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:c=4,curveSegments:u=8,smooth:h,children:p,...g},A)=>{M.useMemo(()=>Ex({RenamedTextGeometry:YX}),[]);const v=M.useRef(null),y=eM(t),w=M.useMemo(()=>({font:y,size:r,height:i,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:c,bevelOffset:l,curveSegments:u,letterSpacing:e,lineHeight:n}),[y,r,i,s,o,a,c,l,u,e,n]),[x,...E]=M.useMemo(()=>dZ(p),[p]),b=M.useMemo(()=>[x,w],[x,w]);return M.useLayoutEffect(()=>{h&&(v.current.geometry=pX(v.current.geometry,h),v.current.geometry.computeVertexNormals())},[b,h]),M.useImperativeHandle(A,()=>v.current,[]),M.createElement("mesh",yn({},g,{ref:v}),M.createElement("renamedTextGeometry",{args:b}),E)});let YP=function(t){return t.Linear="linear",t.Radial="radial",t}({});function hZ({stops:t,colors:e,size:n=1024,width:r=16,type:i=YP.Linear,innerCircleRadius:s=0,outerCircleRadius:o="auto",...a}){const l=yi(u=>u.gl),c=M.useMemo(()=>{const u=document.createElement("canvas"),h=u.getContext("2d");u.width=r,u.height=n;let p;if(i===YP.Linear)p=h.createLinearGradient(0,0,0,n);else{const v=u.width/2,y=u.height/2,w=o!=="auto"?Math.abs(Number(o)):Math.sqrt(v**2+y**2);p=h.createRadialGradient(v,y,Math.abs(s),v,y,w)}const g=new Ve;let A=t.length;for(;A--;)p.addColorStop(t[A],g.set(e[A]).getStyle());return h.save(),h.fillStyle=p,h.fillRect(0,0,r,n),h.restore(),u},[t]);return M.createElement("canvasTexture",yn({colorSpace:l.outputColorSpace,args:[c],attach:"map"},a))}const oE=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function bx(t,e){const n=yi(s=>s.gl),r=ko(I0,oE(t)?Object.values(t):t);return M.useLayoutEffect(()=>{e==null||e(r)},[e]),M.useEffect(()=>{if("initTexture"in n){let s=[];Array.isArray(r)?s=r:r instanceof Tn?s=[r]:oE(r)&&(s=Object.values(r)),s.forEach(o=>{o instanceof Tn&&n.initTexture(o)})}},[n,r]),M.useMemo(()=>{if(oE(t)){const s={};let o=0;for(const a in t)s[a]=r[o++];return s}else return r},[t,r])}bx.preload=t=>ko.preload(I0,t);bx.clear=t=>ko.clear(I0,t);var pZ=Object.defineProperty,mZ=(t,e,n)=>e in t?pZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cn=(t,e,n)=>(mZ(t,typeof e!="symbol"?e+"":e,n),n);function aE(t,e,n,r,i){let s;if(t=t.subarray||t.slice?t:t.buffer,n=n.subarray||n.slice?n:n.buffer,t=e?t.subarray?t.subarray(e,i&&e+i):t.slice(e,i&&e+i):t,n.set)n.set(t,r);else for(s=0;s<t.length;s++)n[s+r]=t[s];return n}function gZ(t){return t instanceof Float32Array?t:t instanceof kt?t.getAttribute("position").array:t.map(e=>{const n=Array.isArray(e);return e instanceof H?[e.x,e.y,e.z]:e instanceof Ee?[e.x,e.y,0]:n&&e.length===3?[e[0],e[1],e[2]]:n&&e.length===2?[e[0],e[1],0]:e}).flat()}class AZ extends kt{constructor(){super(),Cn(this,"type","MeshLine"),Cn(this,"isMeshLine",!0),Cn(this,"positions",[]),Cn(this,"previous",[]),Cn(this,"next",[]),Cn(this,"side",[]),Cn(this,"width",[]),Cn(this,"indices_array",[]),Cn(this,"uvs",[]),Cn(this,"counters",[]),Cn(this,"widthCallback",null),Cn(this,"_attributes"),Cn(this,"_points",[]),Cn(this,"points"),Cn(this,"matrixWorld",new It),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,n){if(e=gZ(e),this._points=e,this.widthCallback=n??null,this.positions=[],this.counters=[],e.length&&e[0]instanceof H)for(let r=0;r<e.length;r++){const i=e[r],s=r/(e.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(s),this.counters.push(s)}else for(let r=0;r<e.length;r+=3){const i=r/(e.length-1);this.positions.push(e[r],e[r+1],e[r+2]),this.positions.push(e[r],e[r+1],e[r+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(e,n){const r=e*6,i=n*6;return this.positions[r]===this.positions[i]&&this.positions[r+1]===this.positions[i+1]&&this.positions[r+2]===this.positions[i+2]}copyV3(e){const n=e*6;return[this.positions[n],this.positions[n+1],this.positions[n+2]]}process(){const e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let n,r;this.compareV3(0,e-1)?r=this.copyV3(e-2):r=this.copyV3(0),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);for(let i=0;i<e;i++){if(this.side.push(1),this.side.push(-1),this.widthCallback?n=this.widthCallback(i/(e-1)):n=1,this.width.push(n),this.width.push(n),this.uvs.push(i/(e-1),0),this.uvs.push(i/(e-1),1),i<e-1){r=this.copyV3(i),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);const s=i*2;this.indices_array.push(s,s+1,s+2),this.indices_array.push(s+2,s+1,s+3)}i>0&&(r=this.copyV3(i),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]))}this.compareV3(e-1,0)?r=this.copyV3(1):r=this.copyV3(e-1),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]),!this._attributes||this._attributes.position.count!==this.positions.length?this._attributes={position:new Ft(new Float32Array(this.positions),3),previous:new Ft(new Float32Array(this.previous),3),next:new Ft(new Float32Array(this.next),3),side:new Ft(new Float32Array(this.side),1),width:new Ft(new Float32Array(this.width),1),uv:new Ft(new Float32Array(this.uvs),2),index:new Ft(new Uint16Array(this.indices_array),1),counters:new Ft(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:n,z:r}){const i=this._attributes.position.array,s=this._attributes.previous.array,o=this._attributes.next.array,a=i.length;aE(i,0,s,0,a),aE(i,6,i,0,a-6),i[a-6]=e,i[a-5]=n,i[a-4]=r,i[a-3]=e,i[a-2]=n,i[a-1]=r,aE(i,6,o,0,a-6),o[a-6]=e,o[a-5]=n,o[a-4]=r,o[a-3]=e,o[a-2]=n,o[a-1]=r,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const vZ=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
  	vCounters = counters;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0);
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <fog_vertex>
  }
`,yZ=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 c = vColor;
    if (useMap == 1.) c *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) c.a *= texture2D(alphaMap, vUV * repeat).a;
    if (c.a < alphaTest) discard;
    if (useDash == 1.) {
      c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    }
    gl_FragColor = c;
    gl_FragColor.a *= step(vCounters, visibility);
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`;class _Z extends zr{constructor(e){super({uniforms:{...$e.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Ve(16777215)},opacity:{value:1},resolution:{value:new Ee(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new Ee(1,1)}},vertexShader:vZ,fragmentShader:yZ}),Cn(this,"lineWidth"),Cn(this,"map"),Cn(this,"useMap"),Cn(this,"alphaMap"),Cn(this,"useAlphaMap"),Cn(this,"color"),Cn(this,"resolution"),Cn(this,"sizeAttenuation"),Cn(this,"dashArray"),Cn(this,"dashOffset"),Cn(this,"dashRatio"),Cn(this,"useDash"),Cn(this,"visibility"),Cn(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(n){this.uniforms.lineWidth.value=n}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(n){this.uniforms.map.value=n}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(n){this.uniforms.useMap.value=n}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(n){this.uniforms.alphaMap.value=n}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(n){this.uniforms.useAlphaMap.value=n}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(n){this.uniforms.color.value=n}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(n){this.uniforms.resolution.value.copy(n)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(n){this.uniforms.sizeAttenuation.value=n}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(n){this.uniforms.dashArray.value=n,this.useDash=n!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(n){this.uniforms.dashOffset.value=n}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(n){this.uniforms.dashRatio.value=n}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(n){this.uniforms.useDash.value=n}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(n){this.uniforms.visibility.value=n}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(n){this.uniforms.alphaTest.value=n}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(n){this.uniforms.repeat.value.copy(n)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}let i1=null,F4="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function k4(t,e,n){return r=>{n&&n(r),t&&(i1||(i1=new nZ),i1.setDecoderPath(typeof t=="string"?t:F4),r.setDRACOLoader(i1)),e&&r.setMeshoptDecoder(typeof iE=="function"?iE():iE)}}function us(t,e=!0,n=!0,r){return ko(qB,t,k4(e,n,r))}us.preload=(t,e=!0,n=!0,r)=>ko.preload(qB,t,k4(e,n,r));us.clear=t=>ko.clear(qB,t);us.setDecoderPath=t=>{F4=t};function xZ(t,e){const n=M.useRef(),[r]=M.useState(()=>e?e instanceof qt?{current:e}:e:n),[i]=M.useState(()=>new WN(void 0));M.useLayoutEffect(()=>{e&&(r.current=e instanceof qt?e:e.current),i._root=r.current});const s=M.useRef({}),o=M.useMemo(()=>{const a={};return t.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:t,actions:a,names:t.map(l=>l.name),mixer:i}},[t]);return ic((a,l)=>i.update(l)),M.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[t]),o}var O4={exports:{}},wZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CZ=wZ,EZ=CZ;function N4(){}function U4(){}U4.resetWarningCache=N4;var SZ=function(){function t(r,i,s,o,a,l){if(l!==EZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U4,resetWarningCache:N4};return n.PropTypes=n,n};O4.exports=SZ();var bZ=O4.exports;const zn=_f(bZ),lE=(t,e)=>{"updateRanges"in t?t.updateRanges[0]=e:t.updateRange=e};let s1;const IZ=new Uint8Array(16);function BZ(){if(!s1&&(s1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s1(IZ)}const hi=[];for(let t=0;t<256;++t)hi.push((t+256).toString(16).slice(1));function MZ(t,e=0){return hi[t[e+0]]+hi[t[e+1]]+hi[t[e+2]]+hi[t[e+3]]+"-"+hi[t[e+4]]+hi[t[e+5]]+"-"+hi[t[e+6]]+hi[t[e+7]]+"-"+hi[t[e+8]]+hi[t[e+9]]+"-"+hi[t[e+10]]+hi[t[e+11]]+hi[t[e+12]]+hi[t[e+13]]+hi[t[e+14]]+hi[t[e+15]]}const TZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qP={randomUUID:TZ};function RZ(t,e,n){if(qP.randomUUID&&!e&&!t)return qP.randomUUID();t=t||{};const r=t.random||(t.rng||BZ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return MZ(r)}const PZ="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png",XP=new It,o1=new H,a1=new Yr,ZP=new H,e3=new Yr,Lg=new H,tM=M.createContext(null),DZ=M.forwardRef(({children:t,material:e=LB,texture:n=PZ,range:r,limit:i=200,frustumCulled:s,...o},a)=>{var l,c;const u=M.useMemo(()=>class extends e{constructor(){super();const T=parseInt(nc.replace(/\D+/g,""))>=154?"opaque_fragment":"output_fragment";this.onBeforeCompile=O=>{O.vertexShader=`attribute float cloudOpacity;
               varying float vOpacity;
              `+O.vertexShader.replace("#include <fog_vertex>",`#include <fog_vertex>
                 vOpacity = cloudOpacity;
                `),O.fragmentShader=`varying float vOpacity;
              `+O.fragmentShader.replace(`#include <${T}>`,`#include <${T}>
                 gl_FragColor = vec4(outgoingLight, diffuseColor.a * vOpacity);
                `)}}},[e]);Ex({CloudMaterial:u});const h=M.useRef(null),p=M.useRef([]),g=M.useMemo(()=>new Float32Array(Array.from({length:i},()=>1)),[i]),A=M.useMemo(()=>new Float32Array(Array.from({length:i},()=>[1,1,1]).flat()),[i]),v=bx(n);let y=0,w=0,x;const E=new Yr,b=new H(0,0,1),P=new H;ic((T,O)=>{for(y=T.clock.getElapsedTime(),XP.copy(h.current.matrixWorld).invert(),T.camera.matrixWorld.decompose(ZP,e3,Lg),w=0;w<p.current.length;w++)x=p.current[w],x.ref.current.matrixWorld.decompose(o1,a1,Lg),o1.add(P.copy(x.position).applyQuaternion(a1).multiply(Lg)),a1.copy(e3).multiply(E.setFromAxisAngle(b,x.rotation+=O*x.rotationFactor)),Lg.multiplyScalar(x.volume+(1+Math.sin(y*x.density*x.speed))/2*x.growth),x.matrix.compose(o1,a1,Lg).premultiply(XP),x.dist=o1.distanceTo(ZP);for(p.current.sort((U,W)=>W.dist-U.dist),w=0;w<p.current.length;w++)x=p.current[w],g[w]=x.opacity*(x.dist<x.fade-1?x.dist/x.fade:1),h.current.setMatrixAt(w,x.matrix),h.current.setColorAt(w,x.color);h.current.geometry.attributes.cloudOpacity.needsUpdate=!0,h.current.instanceMatrix.needsUpdate=!0,h.current.instanceColor&&(h.current.instanceColor.needsUpdate=!0)}),M.useLayoutEffect(()=>{const T=Math.min(i,r!==void 0?r:i,p.current.length);h.current.count=T,lE(h.current.instanceMatrix,{offset:0,count:T*16}),h.current.instanceColor&&lE(h.current.instanceColor,{offset:0,count:T*3}),lE(h.current.geometry.attributes.cloudOpacity,{offset:0,count:T})});let R=[(l=v.image.width)!==null&&l!==void 0?l:1,(c=v.image.height)!==null&&c!==void 0?c:1];const F=Math.max(R[0],R[1]);return R=[R[0]/F,R[1]/F],M.createElement("group",yn({ref:a},o),M.createElement(tM.Provider,{value:p},t,M.createElement("instancedMesh",{matrixAutoUpdate:!1,ref:h,args:[null,null,i],frustumCulled:s},M.createElement("instancedBufferAttribute",{usage:ob,attach:"instanceColor",args:[A,3]}),M.createElement("planeGeometry",{args:[...R]},M.createElement("instancedBufferAttribute",{usage:ob,attach:"attributes-cloudOpacity",args:[g,1]})),M.createElement("cloudMaterial",{key:e.name,map:v,transparent:!0,depthWrite:!1}))))}),t3=M.forwardRef(({opacity:t=1,speed:e=0,bounds:n=[5,1,1],segments:r=20,color:i="#ffffff",fade:s=10,volume:o=6,smallestVolume:a=.25,distribute:l=null,growth:c=4,concentrate:u="inside",seed:h=Math.random(),...p},g)=>{function A(){const E=Math.sin(h++)*1e4;return E-Math.floor(E)}const v=M.useContext(tM),y=M.useRef(null),[w]=M.useState(()=>RZ()),x=M.useMemo(()=>[...new Array(r)].map((E,b)=>({segments:r,bounds:new H(1,1,1),position:new H,uuid:w,index:b,ref:y,dist:0,matrix:new It,color:new Ve,rotation:b*(Math.PI/r)})),[r,w]);return M.useLayoutEffect(()=>{x.forEach((E,b)=>{Wh(E,{volume:o,color:i,speed:e,growth:c,opacity:t,fade:s,bounds:n,density:Math.max(.5,A()),rotationFactor:Math.max(.2,.5*A())*e});const P=l==null?void 0:l(E,b);if(P||r>1){var R;E.position.copy(E.bounds).multiply((R=P==null?void 0:P.point)!==null&&R!==void 0?R:{x:A()*2-1,y:A()*2-1,z:A()*2-1})}const F=Math.abs(E.position.x),T=Math.abs(E.position.y),O=Math.abs(E.position.z),U=Math.max(F,T,O);E.length=1,F===U&&(E.length-=F/E.bounds.x),T===U&&(E.length-=T/E.bounds.y),O===U&&(E.length-=O/E.bounds.z),E.volume=((P==null?void 0:P.volume)!==void 0?P.volume:Math.max(Math.max(0,a),u==="random"?A():u==="inside"?E.length:1-E.length))*o})},[u,n,s,i,t,c,o,h,r,e]),M.useLayoutEffect(()=>{const E=x;return v.current=[...v.current,...E],()=>{v.current=v.current.filter(b=>b.uuid!==w)}},[x]),M.useImperativeHandle(g,()=>y.current,[]),M.createElement("group",yn({ref:y},p))}),LZ=M.forwardRef((t,e)=>M.useContext(tM)?M.createElement(t3,yn({ref:e},t)):M.createElement(DZ,null,M.createElement(t3,yn({ref:e},t))));function cE(t){return ks({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}}]})(t)}var x_={exports:{}},kr={};(function(t){var e=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(k,V,ie)=>V in k?e(k,V,{enumerable:!0,configurable:!0,writable:!0,value:ie}):k[V]=ie,l=(k,V)=>{for(var ie in V||(V={}))s.call(V,ie)&&a(k,ie,V[ie]);if(i)for(var ie of i(V))o.call(V,ie)&&a(k,ie,V[ie]);return k},c=(k,V)=>n(k,r(V)),u=k=>e(k,"__esModule",{value:!0}),h=(k,V)=>{u(k);for(var ie in V)e(k,ie,{get:V[ie],enumerable:!0})};h(t,{Atom:()=>gc,PointerProxy:()=>ys,Ticker:()=>ba,getPointerParts:()=>Cr,isPointer:()=>mo,isPrism:()=>go,iterateAndCountTicks:()=>Sa,iterateOver:()=>Ei,pointer:()=>Yi,pointerToPrism:()=>Ea,prism:()=>sl,val:()=>Xu});var p=Array.isArray,g=p,A=typeof Ga=="object"&&Ga&&Ga.Object===Object&&Ga,v=A,y=typeof self=="object"&&self&&self.Object===Object&&self,w=v||y||Function("return this")(),x=w,E=x.Symbol,b=E,P=Object.prototype,R=P.hasOwnProperty,F=P.toString,T=b?b.toStringTag:void 0;function O(k){var V=R.call(k,T),ie=k[T];try{k[T]=void 0;var ye=!0}catch{}var Et=F.call(k);return ye&&(V?k[T]=ie:delete k[T]),Et}var U=O,W=Object.prototype,ee=W.toString;function Z(k){return ee.call(k)}var Y=Z,q="[object Null]",de="[object Undefined]",fe=b?b.toStringTag:void 0;function j(k){return k==null?k===void 0?de:q:fe&&fe in Object(k)?U(k):Y(k)}var ne=j;function re(k){return k!=null&&typeof k=="object"}var pe=re,te="[object Symbol]";function Se(k){return typeof k=="symbol"||pe(k)&&ne(k)==te}var xe=Se,ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/;function ke(k,V){if(g(k))return!1;var ie=typeof k;return ie=="number"||ie=="symbol"||ie=="boolean"||k==null||xe(k)?!0:Pe.test(k)||!ue.test(k)||V!=null&&k in Object(V)}var je=ke;function Ye(k){var V=typeof k;return k!=null&&(V=="object"||V=="function")}var ze=Ye,Fe="[object AsyncFunction]",Me="[object Function]",we="[object GeneratorFunction]",Ue="[object Proxy]";function nt(k){if(!ze(k))return!1;var V=ne(k);return V==Me||V==we||V==Fe||V==Ue}var Je=nt,ut=x["__core-js_shared__"],at=ut,ht=function(){var k=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}();function zt(k){return!!ht&&ht in k}var Dt=zt,K=Function.prototype,N=K.toString;function le(k){if(k!=null){try{return N.call(k)}catch{}try{return k+""}catch{}}return""}var De=le,Le=/[\\^$.*+?()[\]{}|]/g,Ne=/^\[object .+?Constructor\]$/,lt=Function.prototype,Ke=Object.prototype,Re=lt.toString,pt=Ke.hasOwnProperty,Ze=RegExp("^"+Re.call(pt).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yt(k){if(!ze(k)||Dt(k))return!1;var V=Je(k)?Ze:Ne;return V.test(De(k))}var gt=yt;function dt(k,V){return k==null?void 0:k[V]}var Gt=dt;function on(k,V){var ie=Gt(k,V);return gt(ie)?ie:void 0}var Sn=on,ae=Sn(Object,"create"),be=ae;function Oe(){this.__data__=be?be(null):{},this.size=0}var rt=Oe;function st(k){var V=this.has(k)&&delete this.__data__[k];return this.size-=V?1:0,V}var hn=st,Vn="__lodash_hash_undefined__",xr=Object.prototype,er=xr.hasOwnProperty;function bn(k){var V=this.__data__;if(be){var ie=V[k];return ie===Vn?void 0:ie}return er.call(V,k)?V[k]:void 0}var Qr=bn,wi=Object.prototype,Fu=wi.hasOwnProperty;function ku(k){var V=this.__data__;return be?V[k]!==void 0:Fu.call(V,k)}var oc=ku,J="__lodash_hash_undefined__";function Ae(k,V){var ie=this.__data__;return this.size+=this.has(k)?0:1,ie[k]=be&&V===void 0?J:V,this}var Ie=Ae;function he(k){var V=-1,ie=k==null?0:k.length;for(this.clear();++V<ie;){var ye=k[V];this.set(ye[0],ye[1])}}he.prototype.clear=rt,he.prototype.delete=hn,he.prototype.get=Qr,he.prototype.has=oc,he.prototype.set=Ie;var Te=he;function _t(){this.__data__=[],this.size=0}var xt=_t;function Ot(k,V){return k===V||k!==k&&V!==V}var Pt=Ot;function Yt(k,V){for(var ie=k.length;ie--;)if(Pt(k[ie][0],V))return ie;return-1}var Nt=Yt,jt=Array.prototype,Dn=jt.splice;function Hr(k){var V=this.__data__,ie=Nt(V,k);if(ie<0)return!1;var ye=V.length-1;return ie==ye?V.pop():Dn.call(V,ie,1),--this.size,!0}var ji=Hr;function Us(k){var V=this.__data__,ie=Nt(V,k);return ie<0?void 0:V[ie][1]}var Ln=Us;function Qt(k){return Nt(this.__data__,k)>-1}var zs=Qt;function Fn(k,V){var ie=this.__data__,ye=Nt(ie,k);return ye<0?(++this.size,ie.push([k,V])):ie[ye][1]=V,this}var Ji=Fn;function Gs(k){var V=-1,ie=k==null?0:k.length;for(this.clear();++V<ie;){var ye=k[V];this.set(ye[0],ye[1])}}Gs.prototype.clear=xt,Gs.prototype.delete=ji,Gs.prototype.get=Ln,Gs.prototype.has=zs,Gs.prototype.set=Ji;var Qs=Gs,ps=Sn(x,"Map"),In=ps;function Ht(){this.size=0,this.__data__={hash:new Te,map:new(In||Qs),string:new Te}}var tn=Ht;function kn(k){var V=typeof k;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?k!=="__proto__":k===null}var Kn=kn;function Tr(k,V){var ie=k.__data__;return Kn(V)?ie[typeof V=="string"?"string":"hash"]:ie.map}var Vr=Tr;function ua(k){var V=Vr(this,k).delete(k);return this.size-=V?1:0,V}var wr=ua;function ac(k){return Vr(this,k).get(k)}var Mf=ac;function Tf(k){return Vr(this,k).has(k)}var lc=Tf;function Rf(k,V){var ie=Vr(this,k),ye=ie.size;return ie.set(k,V),this.size+=ie.size==ye?0:1,this}var Ki=Rf;function da(k){var V=-1,ie=k==null?0:k.length;for(this.clear();++V<ie;){var ye=k[V];this.set(ye[0],ye[1])}}da.prototype.clear=tn,da.prototype.delete=wr,da.prototype.get=Mf,da.prototype.has=lc,da.prototype.set=Ki;var Pf=da,cm="Expected a function";function fa(k,V){if(typeof k!="function"||V!=null&&typeof V!="function")throw new TypeError(cm);var ie=function(){var ye=arguments,Et=V?V.apply(this,ye):ye[0],nn=ie.cache;if(nn.has(Et))return nn.get(Et);var Jt=k.apply(this,ye);return ie.cache=nn.set(Et,Jt)||nn,Jt};return ie.cache=new(fa.Cache||Pf),ie}fa.Cache=Pf;var Hs=fa,po=500;function cc(k){var V=Hs(k,function(ye){return ie.size===po&&ie.clear(),ye}),ie=V.cache;return V}var Xa=cc,um=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ou=/\\(\\)?/g,Nu=Xa(function(k){var V=[];return k.charCodeAt(0)===46&&V.push(""),k.replace(um,function(ie,ye,Et,nn){V.push(Et?nn.replace(Ou,"$1"):ye||ie)}),V}),Za=Nu;function dm(k,V){for(var ie=-1,ye=k==null?0:k.length,Et=Array(ye);++ie<ye;)Et[ie]=V(k[ie],ie,k);return Et}var ha=dm,Zt=1/0,Uu=b?b.prototype:void 0,uc=Uu?Uu.toString:void 0;function zu(k){if(typeof k=="string")return k;if(g(k))return ha(k,zu)+"";if(xe(k))return uc?uc.call(k):"";var V=k+"";return V=="0"&&1/k==-Zt?"-0":V}var fm=zu;function hm(k){return k==null?"":fm(k)}var dr=hm;function Gu(k,V){return g(k)?k:je(k,V)?[k]:Za(dr(k))}var pa=Gu,ma=1/0;function pm(k){if(typeof k=="string"||xe(k))return k;var V=k+"";return V=="0"&&1/k==-ma?"-0":V}var ga=pm;function ms(k,V){V=pa(V,k);for(var ie=0,ye=V.length;k!=null&&ie<ye;)k=k[ga(V[ie++])];return ie&&ie==ye?k:void 0}var mm=ms;function gm(k,V,ie){var ye=k==null?void 0:mm(k,V);return ye===void 0?ie:ye}var gs=gm;function Vs(k,V){return function(ie){return k(V(ie))}}var dc=Vs,Qu=dc(Object.getPrototypeOf,Object),Df=Qu,Am="[object Object]",As=Function.prototype,vm=Object.prototype,Aa=As.toString,Lf=vm.hasOwnProperty,Ci=Aa.call(Object);function el(k){if(!pe(k)||ne(k)!=Am)return!1;var V=Df(k);if(V===null)return!0;var ie=Lf.call(V,"constructor")&&V.constructor;return typeof ie=="function"&&ie instanceof ie&&Aa.call(ie)==Ci}var fc=el;function No(k){var V=k==null?0:k.length;return V?k[V-1]:void 0}var Hu=No,Uo=new WeakMap,Vu=new WeakMap,hc=Symbol("pointerMeta"),zo={get(k,V){if(V===hc)return Uo.get(k);let ie=Vu.get(k);ie||(ie=new Map,Vu.set(k,ie));const ye=ie.get(V);if(ye!==void 0)return ye;const Et=Uo.get(k),nn=$i({root:Et.root,path:[...Et.path,V]});return ie.set(V,nn),nn}},Ws=k=>k[hc],Cr=k=>{const{root:V,path:ie}=Ws(k);return{root:V,path:ie}};function $i(k){var V;const ie={root:k.root,path:(V=k.path)!=null?V:[]},ye={};return Uo.set(ye,ie),new Proxy(ye,zo)}var Yi=$i,mo=k=>k&&!!Ws(k);function pc(k,V,ie){return V.length===0?ie(k):Bn(k,V,ie)}var Bn=(k,V,ie)=>{if(V.length===0)return ie(k);if(Array.isArray(k)){let[ye,...Et]=V;ye=parseInt(String(ye),10),isNaN(ye)&&(ye=0);const nn=k[ye],Jt=Bn(nn,Et,ie);if(nn===Jt)return k;const di=[...k];return di.splice(ye,1,Jt),di}else if(typeof k=="object"&&k!==null){const[ye,...Et]=V,nn=k[ye],Jt=Bn(nn,Et,ie);return nn===Jt?k:c(l({},k),{[ye]:Jt})}else{const[ye,...Et]=V;return{[ye]:Bn(void 0,Et,ie)}}},js=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const k=this._head;if(k)return this._head=k.next,k.data}push(k){const V={next:this._head,data:k};this._head=V}};function go(k){return!!(k&&k.isPrism&&k.isPrism===!0)}function Wu(){const k=()=>{},V=new js,ie=k;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{V.push(ie)},stopIgnoringDependencies:()=>{V.peek()!==ie||V.pop()},reportResolutionStart:_s=>{const Ia=V.peek();Ia&&Ia(_s),V.push(ie)},reportResolutionEnd:_s=>{V.pop()},pushCollector:_s=>{V.push(_s)},popCollector:_s=>{if(V.peek()!==_s)throw new Error("Popped collector is not on top of the stack");V.pop()}}}function tl(){const k="__dataverse_discoveryMechanism_sharedStack",V=typeof window<"u"?window:typeof Ga<"u"?Ga:{};if(V){const ie=V[k];if(ie&&typeof ie=="object"&&ie.type==="Dataverse_discoveryMechanism")return ie;{const ye=Wu();return V[k]=ye,ye}}else return Wu()}var{startIgnoringDependencies:va,stopIgnoringDependencies:ya,reportResolutionEnd:ju,reportResolutionStart:mc,pushCollector:Ff,popCollector:kf}=tl(),Ju=()=>{},nl=class{constructor(k,V){this._fn=k,this._prismInstance=V,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new rl(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=ie=>{this._possiblyStaleDeps.add(ie),this._markAsStale()};for(const ie of this._dependencies)ie._addDependent(this._reactToDependencyGoingStale);va(),this.getValue(),ya()}get hasDependents(){return this._dependents.size>0}removeDependent(k){this._dependents.delete(k)}addDependent(k){this._dependents.add(k)}destroy(){for(const k of this._dependencies)k._removeDependent(this._reactToDependencyGoingStale);il(this._scope)}getValue(){if(!this._isFresh){const k=this._recalculate();this._lastValue=k,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let k;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let ye=!1;va();for(const Et of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(Et)!==Et.getValue()){ye=!0;break}if(ya(),this._possiblyStaleDeps.clear(),!ye)return this._lastValue}const V=new Set;this._cacheOfDendencyValues.clear();const ie=ye=>{V.add(ye),this._addDependency(ye)};Ff(ie),_n.push(this._scope);try{k=this._fn()}catch(ye){console.error(ye)}finally{_n.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}kf(ie);for(const ye of this._dependencies)V.has(ye)||this._removeDependency(ye);this._dependencies=V,va();for(const ye of V)this._cacheOfDendencyValues.set(ye,ye.getValue());return ya(),k}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const k of this._dependents)k(this._prismInstance)}}_addDependency(k){this._dependencies.has(k)||(this._dependencies.add(k),k._addDependent(this._reactToDependencyGoingStale))}_removeDependency(k){this._dependencies.has(k)&&(this._dependencies.delete(k),k._removeDependent(this._reactToDependencyGoingStale))}},_a={},xa=class{constructor(k){this._fn=k,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(k,V,ie=!1){const ye=()=>{k.onThisOrNextTick(nn)};let Et=_a;const nn=()=>{const di=this.getValue();di!==Et&&(Et=di,V(di))};return this._addDependent(ye),ie&&(Et=this.getValue(),V(Et)),()=>{this._removeDependent(ye)}}onStale(k){const V=()=>{this._removeDependent(ie)},ie=()=>k();return this._addDependent(ie),V}keepHot(){return this.onStale(()=>{})}_addDependent(k){this._state.hot||this._goHot(),this._state.handle.addDependent(k)}_goHot(){const k=new nl(this._fn,this);this._state={hot:!0,handle:k}}_removeDependent(k){const V=this._state;if(!V.hot)return;const ie=V.handle;ie.removeDependent(k),ie.hasDependents||(this._state={hot:!1,handle:void 0},ie.destroy())}getValue(){mc(this);const k=this._state;let V;return k.hot?V=k.handle.getValue():V=Yu(this._fn),ju(this),V}},rl=class{constructor(k){this._hotHandle=k,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(k,V){let ie=this._refs.get(k);if(ie!==void 0)return ie;{const ye={current:V};return this._refs.set(k,ye),ye}}effect(k,V,ie){let ye=this.effects.get(k);ye===void 0&&(ye={cleanup:Ju,deps:void 0},this.effects.set(k,ye)),vs(ye.deps,ie)&&(ye.cleanup(),va(),ye.cleanup=Er(V,Ju).value,ya(),ye.deps=ie)}memo(k,V,ie){let ye=this.memos.get(k);return ye===void 0&&(ye={cachedValue:null,deps:void 0},this.memos.set(k,ye)),vs(ye.deps,ie)&&(va(),ye.cachedValue=Er(V,void 0).value,ya(),ye.deps=ie),ye.cachedValue}state(k,V){const{value:ie,setValue:ye}=this.memo("state/"+k,()=>{const Et={current:V};return{value:Et,setValue:Jt=>{Et.current=Jt,this._hotHandle.forceStale()}}},[]);return[ie.current,ye]}sub(k){return this.subs[k]||(this.subs[k]=new rl(this._hotHandle)),this.subs[k]}cleanupEffects(){for(const k of this.effects.values())Er(k.cleanup,void 0);this.effects.clear()}source(k,V){const ie="$$source/blah";return this.effect(ie,()=>k(()=>{this._hotHandle.forceStale()}),[k]),V()}};function il(k){for(const V of Object.values(k.subs))il(V);k.cleanupEffects()}function Er(k,V){try{return{value:k(),ok:!0}}catch(ie){return setTimeout(function(){throw ie}),{value:V,ok:!1}}}var _n=new js;function Js(k,V){const ie=_n.peek();if(!ie)throw new Error("prism.ref() is called outside of a prism() call.");return ie.ref(k,V)}function Ks(k,V,ie){const ye=_n.peek();if(!ye)throw new Error("prism.effect() is called outside of a prism() call.");return ye.effect(k,V,ie)}function vs(k,V){if(k===void 0||V===void 0)return!0;const ie=k.length;if(ie!==V.length)return!0;for(let ye=0;ye<ie;ye++)if(k[ye]!==V[ye])return!0;return!1}function $n(k,V,ie){const ye=_n.peek();if(!ye)throw new Error("prism.memo() is called outside of a prism() call.");return ye.memo(k,V,ie)}function Of(k,V){const ie=_n.peek();if(!ie)throw new Error("prism.state() is called outside of a prism() call.");return ie.state(k,V)}function Ku(){if(!_n.peek())throw new Error("The parent function is called outside of a prism() call.")}function $u(k,V){const ie=_n.peek();if(!ie)throw new Error("prism.scope() is called outside of a prism() call.");const ye=ie.sub(k);_n.push(ye);const Et=Er(V,void 0).value;return _n.pop(),Et}function Zr(k,V,ie){return $n(k,()=>fr(V),ie).getValue()}function ui(){return!!_n.peek()}function an(k,V){const ie=_n.peek();if(!ie)throw new Error("prism.source() is called outside of a prism() call.");return ie.source(k,V)}var fr=k=>new xa(k),Rr=class{effect(k,V,ie){console.warn("prism.effect() does not run in cold prisms")}memo(k,V,ie){return V()}state(k,V){return[V,()=>{}]}ref(k,V){return{current:V}}sub(k){return new Rr}source(k,V){return V()}};function Yu(k){const V=new Rr;_n.push(V);let ie;try{ie=k()}catch(ye){console.error(ye)}finally{_n.pop()!==V&&console.warn("The Prism hook stack has slipped. This is a bug.")}return ie}fr.ref=Js,fr.effect=Ks,fr.memo=$n,fr.ensurePrism=Ku,fr.state=Of,fr.scope=$u,fr.sub=Zr,fr.inPrism=ui,fr.source=an;var sl=fr,pn;(function(k){k[k.Dict=0]="Dict",k[k.Array=1]="Array",k[k.Other=2]="Other"})(pn||(pn={}));var wa=k=>Array.isArray(k)?1:fc(k)?0:2,qu=(k,V,ie=wa(k))=>ie===0&&typeof V=="string"||ie===1&&ol(V)?k[V]:void 0,ol=k=>{const V=typeof k=="number"?k:parseInt(k,10);return!isNaN(V)&&V>=0&&V<1/0&&(V|0)===V},Go=class{constructor(k,V){this._parent=k,this._path=V,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(k){this.identityChangeListeners.add(k)}removeIdentityChangeListener(k){this.identityChangeListeners.delete(k),this._checkForGC()}removeChild(k){this.children.delete(k),this._checkForGC()}getChild(k){return this.children.get(k)}getOrCreateChild(k){let V=this.children.get(k);return V||(V=V=new Go(this,this._path.concat([k])),this.children.set(k,V)),V}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(Hu(this._path))}},gc=class{constructor(k){this.$$isPointerToPrismProvider=!0,this.pointer=Yi({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(V,ie)=>{const{path:ye}=Cr(V),Et=this._getOrCreateScopeForPath(ye);return Et.identityChangeListeners.add(ie),()=>{Et.identityChangeListeners.delete(ie)}},this._currentState=k,this._rootScope=new Go(void 0,[])}set(k){const V=this._currentState;this._currentState=k,this._checkUpdates(this._rootScope,V,k)}get(){return this._currentState}getByPointer(k){const V=mo(k)?k:k(this.pointer),ie=Cr(V).path;return this._getIn(ie)}_getIn(k){return k.length===0?this.get():gs(this.get(),k)}reduce(k){this.set(k(this.get()))}reduceByPointer(k,V){const ie=mo(k)?k:k(this.pointer),ye=Cr(ie).path,Et=pc(this.get(),ye,V);this.set(Et)}setByPointer(k,V){this.reduceByPointer(k,()=>V)}_checkUpdates(k,V,ie){if(V===ie)return;for(const nn of k.identityChangeListeners)nn(ie);if(k.children.size===0)return;const ye=wa(V),Et=wa(ie);if(!(ye===2&&ye===Et))for(const[nn,Jt]of k.children){const di=qu(V,nn,ye),vc=qu(ie,nn,Et);this._checkUpdates(Jt,di,vc)}}_getOrCreateScopeForPath(k){let V=this._rootScope;for(const ie of k)V=V.getOrCreateChild(ie);return V}pointerToPrism(k){const{path:V}=Cr(k),ie=Et=>this._onPointerValueChange(k,Et),ye=()=>this._getIn(V);return sl(()=>sl.source(ie,ye))}},Ca=new WeakMap;function Ac(k){return typeof k=="object"&&k!==null&&k.$$isPointerToPrismProvider===!0}var Ea=k=>{const V=Ws(k);let ie=Ca.get(V);if(!ie){const ye=V.root;if(!Ac(ye))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");ie=ye.pointerToPrism(k),Ca.set(V,ie)}return ie},Xu=k=>mo(k)?Ea(k).getValue():go(k)?k.getValue():k;function*Sa(k){let V;if(mo(k))V=Ea(k);else if(go(k))V=k;else throw new Error("Only pointers and prisms are supported");let ie=0;const ye=V.onStale(()=>{ie++});try{for(;;){const Et=ie;ie=0,yield{value:V.getValue(),ticks:Et}}}finally{ye()}}var Nf=60*3,ba=class{constructor(k){this._conf=k,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(k){this._scheduledForThisOrNextTick.add(k),this._dormant&&this._goActive()}onNextTick(k){this._scheduledForNextTick.add(k),this._dormant&&this._goActive()}offThisOrNextTick(k){this._scheduledForThisOrNextTick.delete(k)}offNextTick(k){this._scheduledForNextTick.delete(k)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var k,V;this._dormant&&(this._dormant=!1,(V=(k=this._conf)==null?void 0:k.onActive)==null||V.call(k))}_goDormant(){var k,V;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(V=(k=this._conf)==null?void 0:k.onDormant)==null||V.call(k))}tick(k=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=Nf)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=k;for(const V of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(V);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(k){const V=this.time;if(k>10&&console.warn("_tick() recursing for 10 times"),k>100)throw new Error("Maximum recursion limit for _tick()");const ie=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const ye of ie)ye(V);if(this._scheduledForThisOrNextTick.size>0)return this._tick(k+1)}};function*Ei(k){let V;if(mo(k))V=Ea(k);else if(go(k))V=k;else throw new Error("Only pointers and prisms are supported");const ie=new ba,ye=V.onChange(ie,Et=>{});try{for(;;)ie.tick(),yield V.getValue()}finally{ye()}}var ys=class{constructor(k){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new gc(k),this.pointer=Yi({root:this,path:[]})}setPointer(k){this._currentPointerBox.set(k)}pointerToPrism(k){const{path:V}=Ws(k);return sl(()=>{const ie=this._currentPointerBox.prism.getValue(),ye=V.reduce((Et,nn)=>Et[nn],ie);return Xu(ye)})}}})(kr);x_.exports;(function(t,e){var n=Object.create,r=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(m,C,I)=>C in m?r(m,C,{enumerable:!0,configurable:!0,writable:!0,value:I}):m[C]=I,g=(m,C)=>{for(var I in C||(C={}))u.call(C,I)&&p(m,I,C[I]);if(l)for(var I of l(C))h.call(C,I)&&p(m,I,C[I]);return m},A=(m,C)=>i(m,o(C)),v=m=>r(m,"__esModule",{value:!0}),y=(m,C)=>function(){return C||(0,m[Object.keys(m)[0]])((C={exports:{}}).exports,C),C.exports},w=(m,C)=>{v(m);for(var I in C)r(m,I,{get:C[I],enumerable:!0})},x=(m,C,I)=>{if(C&&typeof C=="object"||typeof C=="function")for(let D of a(C))!u.call(m,D)&&D!=="default"&&r(m,D,{get:()=>C[D],enumerable:!(I=s(C,D))||I.enumerable});return m},E=m=>x(v(r(m!=null?n(c(m)):{},"default",m&&m.__esModule&&"default"in m?{get:()=>m.default,enumerable:!0}:{value:m,enumerable:!0})),m),b=(m,C,I)=>(p(m,typeof C!="symbol"?C+"":C,I),I),P=y({"../node_modules/timing-function/lib/UnitBezier.js"(m,C){C.exports=function(){function I(D,z,Q,se){this.set(D,z,Q,se)}return I.prototype.set=function(D,z,Q,se){this._cx=3*D,this._bx=3*(Q-D)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*z,this._by=3*(se-z)-this._cy,this._ay=1-this._cy-this._by},I.epsilon=1e-6,I.prototype._sampleCurveX=function(D){return((this._ax*D+this._bx)*D+this._cx)*D},I.prototype._sampleCurveY=function(D){return((this._ay*D+this._by)*D+this._cy)*D},I.prototype._sampleCurveDerivativeX=function(D){return(3*this._ax*D+2*this._bx)*D+this._cx},I.prototype._solveCurveX=function(D,z){var Q,se,me,ve,Ce,Ge;for(me=void 0,ve=void 0,Ce=void 0,Ge=void 0,Q=void 0,se=void 0,Ce=D,se=0;se<8;){if(Ge=this._sampleCurveX(Ce)-D,Math.abs(Ge)<z)return Ce;if(Q=this._sampleCurveDerivativeX(Ce),Math.abs(Q)<z)break;Ce=Ce-Ge/Q,se++}if(me=0,ve=1,Ce=D,Ce<me)return me;if(Ce>ve)return ve;for(;me<ve;){if(Ge=this._sampleCurveX(Ce),Math.abs(Ge-D)<z)return Ce;D>Ge?me=Ce:ve=Ce,Ce=(ve-me)*.5+me}return Ce},I.prototype.solve=function(D,z){return this._sampleCurveY(this._solveCurveX(D,z))},I.prototype.solveSimple=function(D){return this._sampleCurveY(this._solveCurveX(D,1e-6))},I}()}}),R=y({"../node_modules/levenshtein-edit-distance/index.js"(m,C){var I,D;I=[],D=[];function z(Q,se,me){var ve,Ce,Ge,We,tt,Ct,vt,$t;if(Q===se)return 0;if(ve=Q.length,Ce=se.length,ve===0)return Ce;if(Ce===0)return ve;for(me&&(Q=Q.toLowerCase(),se=se.toLowerCase()),vt=0;vt<ve;)D[vt]=Q.charCodeAt(vt),I[vt]=++vt;for($t=0;$t<Ce;)for(Ge=se.charCodeAt($t),We=tt=$t++,vt=-1;++vt<ve;)Ct=Ge===D[vt]?tt:tt+1,tt=I[vt],I[vt]=We=tt>We?Ct>We?We+1:Ct:Ct>tt?tt+1:Ct;return We}C.exports=z}}),F=y({"../node_modules/propose/propose.js"(m,C){var I=R();function D(){var z,Q,se,me,ve,Ce=0,Ge=arguments[0],We=arguments[1],tt=We.length,Ct=arguments[2];Ct&&(me=Ct.threshold,ve=Ct.ignoreCase),me===void 0&&(me=0);for(var vt=0;vt<tt;++vt)ve?Q=I(Ge,We[vt],!0):Q=I(Ge,We[vt]),Q>Ge.length?z=1-Q/We[vt].length:z=1-Q/Ge.length,z>Ce&&(Ce=z,se=We[vt]);return Ce>=me?se:null}C.exports=D}}),T=y({"../node_modules/fast-deep-equal/index.js"(m,C){C.exports=function I(D,z){if(D===z)return!0;if(D&&z&&typeof D=="object"&&typeof z=="object"){if(D.constructor!==z.constructor)return!1;var Q,se,me;if(Array.isArray(D)){if(Q=D.length,Q!=z.length)return!1;for(se=Q;se--!==0;)if(!I(D[se],z[se]))return!1;return!0}if(D.constructor===RegExp)return D.source===z.source&&D.flags===z.flags;if(D.valueOf!==Object.prototype.valueOf)return D.valueOf()===z.valueOf();if(D.toString!==Object.prototype.toString)return D.toString()===z.toString();if(me=Object.keys(D),Q=me.length,Q!==Object.keys(z).length)return!1;for(se=Q;se--!==0;)if(!Object.prototype.hasOwnProperty.call(z,me[se]))return!1;for(se=Q;se--!==0;){var ve=me[se];if(!I(D[ve],z[ve]))return!1}return!0}return D!==D&&z!==z}}});w(e,{createRafDriver:()=>gw,getProject:()=>kT,notify:()=>gh,onChange:()=>Uw,types:()=>Aw,val:()=>OT});var O={};w(O,{createRafDriver:()=>gw,getProject:()=>kT,notify:()=>gh,onChange:()=>Uw,types:()=>Aw,val:()=>OT});var U=E(kr),W=class{constructor(){b(this,"atom",new U.Atom({projects:{}}))}add(m,C){this.atom.setByPointer(I=>I.projects[m],C)}get(m){return this.atom.get().projects[m]}has(m){return!!this.get(m)}},ee=new W,Z=ee,Y=new WeakMap;function q(m){return Y.get(m)}function de(m,C){Y.set(m,C)}var fe=[],j=Array.isArray,ne=j,re=typeof Ga=="object"&&Ga&&Ga.Object===Object&&Ga,pe=re,te=typeof self=="object"&&self&&self.Object===Object&&self,Se=pe||te||Function("return this")(),xe=Se,ue=xe.Symbol,Pe=ue,ke=Object.prototype,je=ke.hasOwnProperty,Ye=ke.toString,ze=Pe?Pe.toStringTag:void 0;function Fe(m){var C=je.call(m,ze),I=m[ze];try{m[ze]=void 0;var D=!0}catch{}var z=Ye.call(m);return D&&(C?m[ze]=I:delete m[ze]),z}var Me=Fe,we=Object.prototype,Ue=we.toString;function nt(m){return Ue.call(m)}var Je=nt,ut="[object Null]",at="[object Undefined]",ht=Pe?Pe.toStringTag:void 0;function zt(m){return m==null?m===void 0?at:ut:ht&&ht in Object(m)?Me(m):Je(m)}var Dt=zt;function K(m){return m!=null&&typeof m=="object"}var N=K,le="[object Symbol]";function De(m){return typeof m=="symbol"||N(m)&&Dt(m)==le}var Le=De,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/;function Ke(m,C){if(ne(m))return!1;var I=typeof m;return I=="number"||I=="symbol"||I=="boolean"||m==null||Le(m)?!0:lt.test(m)||!Ne.test(m)||C!=null&&m in Object(C)}var Re=Ke;function pt(m){var C=typeof m;return m!=null&&(C=="object"||C=="function")}var Ze=pt,yt="[object AsyncFunction]",gt="[object Function]",dt="[object GeneratorFunction]",Gt="[object Proxy]";function on(m){if(!Ze(m))return!1;var C=Dt(m);return C==gt||C==dt||C==yt||C==Gt}var Sn=on,ae=xe["__core-js_shared__"],be=ae,Oe=function(){var m=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();function rt(m){return!!Oe&&Oe in m}var st=rt,hn=Function.prototype,Vn=hn.toString;function xr(m){if(m!=null){try{return Vn.call(m)}catch{}try{return m+""}catch{}}return""}var er=xr,bn=/[\\^$.*+?()[\]{}|]/g,Qr=/^\[object .+?Constructor\]$/,wi=Function.prototype,Fu=Object.prototype,ku=wi.toString,oc=Fu.hasOwnProperty,J=RegExp("^"+ku.call(oc).replace(bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ae(m){if(!Ze(m)||st(m))return!1;var C=Sn(m)?J:Qr;return C.test(er(m))}var Ie=Ae;function he(m,C){return m==null?void 0:m[C]}var Te=he;function _t(m,C){var I=Te(m,C);return Ie(I)?I:void 0}var xt=_t,Ot=xt(Object,"create"),Pt=Ot;function Yt(){this.__data__=Pt?Pt(null):{},this.size=0}var Nt=Yt;function jt(m){var C=this.has(m)&&delete this.__data__[m];return this.size-=C?1:0,C}var Dn=jt,Hr="__lodash_hash_undefined__",ji=Object.prototype,Us=ji.hasOwnProperty;function Ln(m){var C=this.__data__;if(Pt){var I=C[m];return I===Hr?void 0:I}return Us.call(C,m)?C[m]:void 0}var Qt=Ln,zs=Object.prototype,Fn=zs.hasOwnProperty;function Ji(m){var C=this.__data__;return Pt?C[m]!==void 0:Fn.call(C,m)}var Gs=Ji,Qs="__lodash_hash_undefined__";function ps(m,C){var I=this.__data__;return this.size+=this.has(m)?0:1,I[m]=Pt&&C===void 0?Qs:C,this}var In=ps;function Ht(m){var C=-1,I=m==null?0:m.length;for(this.clear();++C<I;){var D=m[C];this.set(D[0],D[1])}}Ht.prototype.clear=Nt,Ht.prototype.delete=Dn,Ht.prototype.get=Qt,Ht.prototype.has=Gs,Ht.prototype.set=In;var tn=Ht;function kn(){this.__data__=[],this.size=0}var Kn=kn;function Tr(m,C){return m===C||m!==m&&C!==C}var Vr=Tr;function ua(m,C){for(var I=m.length;I--;)if(Vr(m[I][0],C))return I;return-1}var wr=ua,ac=Array.prototype,Mf=ac.splice;function Tf(m){var C=this.__data__,I=wr(C,m);if(I<0)return!1;var D=C.length-1;return I==D?C.pop():Mf.call(C,I,1),--this.size,!0}var lc=Tf;function Rf(m){var C=this.__data__,I=wr(C,m);return I<0?void 0:C[I][1]}var Ki=Rf;function da(m){return wr(this.__data__,m)>-1}var Pf=da;function cm(m,C){var I=this.__data__,D=wr(I,m);return D<0?(++this.size,I.push([m,C])):I[D][1]=C,this}var fa=cm;function Hs(m){var C=-1,I=m==null?0:m.length;for(this.clear();++C<I;){var D=m[C];this.set(D[0],D[1])}}Hs.prototype.clear=Kn,Hs.prototype.delete=lc,Hs.prototype.get=Ki,Hs.prototype.has=Pf,Hs.prototype.set=fa;var po=Hs,cc=xt(xe,"Map"),Xa=cc;function um(){this.size=0,this.__data__={hash:new tn,map:new(Xa||po),string:new tn}}var Ou=um;function Nu(m){var C=typeof m;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?m!=="__proto__":m===null}var Za=Nu;function dm(m,C){var I=m.__data__;return Za(C)?I[typeof C=="string"?"string":"hash"]:I.map}var ha=dm;function Zt(m){var C=ha(this,m).delete(m);return this.size-=C?1:0,C}var Uu=Zt;function uc(m){return ha(this,m).get(m)}var zu=uc;function fm(m){return ha(this,m).has(m)}var hm=fm;function dr(m,C){var I=ha(this,m),D=I.size;return I.set(m,C),this.size+=I.size==D?0:1,this}var Gu=dr;function pa(m){var C=-1,I=m==null?0:m.length;for(this.clear();++C<I;){var D=m[C];this.set(D[0],D[1])}}pa.prototype.clear=Ou,pa.prototype.delete=Uu,pa.prototype.get=zu,pa.prototype.has=hm,pa.prototype.set=Gu;var ma=pa,pm="Expected a function";function ga(m,C){if(typeof m!="function"||C!=null&&typeof C!="function")throw new TypeError(pm);var I=function(){var D=arguments,z=C?C.apply(this,D):D[0],Q=I.cache;if(Q.has(z))return Q.get(z);var se=m.apply(this,D);return I.cache=Q.set(z,se)||Q,se};return I.cache=new(ga.Cache||ma),I}ga.Cache=ma;var ms=ga,mm=500;function gm(m){var C=ms(m,function(D){return I.size===mm&&I.clear(),D}),I=C.cache;return C}var gs=gm,Vs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dc=/\\(\\)?/g,Qu=gs(function(m){var C=[];return m.charCodeAt(0)===46&&C.push(""),m.replace(Vs,function(I,D,z,Q){C.push(z?Q.replace(dc,"$1"):D||I)}),C}),Df=Qu;function Am(m,C){for(var I=-1,D=m==null?0:m.length,z=Array(D);++I<D;)z[I]=C(m[I],I,m);return z}var As=Am,vm=1/0,Aa=Pe?Pe.prototype:void 0,Lf=Aa?Aa.toString:void 0;function Ci(m){if(typeof m=="string")return m;if(ne(m))return As(m,Ci)+"";if(Le(m))return Lf?Lf.call(m):"";var C=m+"";return C=="0"&&1/m==-vm?"-0":C}var el=Ci;function fc(m){return m==null?"":el(m)}var No=fc;function Hu(m,C){return ne(m)?m:Re(m,C)?[m]:Df(No(m))}var Uo=Hu,Vu=1/0;function hc(m){if(typeof m=="string"||Le(m))return m;var C=m+"";return C=="0"&&1/m==-Vu?"-0":C}var zo=hc;function Ws(m,C){C=Uo(C,m);for(var I=0,D=C.length;m!=null&&I<D;)m=m[zo(C[I++])];return I&&I==D?m:void 0}var Cr=Ws;function $i(m,C,I){var D=m==null?void 0:Cr(m,C);return D===void 0?I:D}var Yi=$i;function mo(m,C){return C.length===0?m:Yi(m,C)}var pc=class{constructor(){b(this,"_values",{})}get(m,C){if(this.has(m))return this._values[m];{const I=C();return this._values[m]=I,I}}has(m){return this._values.hasOwnProperty(m)}},Bn=E(kr),js=function(){try{var m=xt(Object,"defineProperty");return m({},"",{}),m}catch{}}(),go=js;function Wu(m,C,I){C=="__proto__"&&go?go(m,C,{configurable:!0,enumerable:!0,value:I,writable:!0}):m[C]=I}var tl=Wu,va=Object.prototype,ya=va.hasOwnProperty;function ju(m,C,I){var D=m[C];(!(ya.call(m,C)&&Vr(D,I))||I===void 0&&!(C in m))&&tl(m,C,I)}var mc=ju,Ff=9007199254740991,kf=/^(?:0|[1-9]\d*)$/;function Ju(m,C){var I=typeof m;return C=C??Ff,!!C&&(I=="number"||I!="symbol"&&kf.test(m))&&m>-1&&m%1==0&&m<C}var nl=Ju;function _a(m,C,I,D){if(!Ze(m))return m;C=Uo(C,m);for(var z=-1,Q=C.length,se=Q-1,me=m;me!=null&&++z<Q;){var ve=zo(C[z]),Ce=I;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return m;if(z!=se){var Ge=me[ve];Ce=D?D(Ge,ve,me):void 0,Ce===void 0&&(Ce=Ze(Ge)?Ge:nl(C[z+1])?[]:{})}mc(me,ve,Ce),me=me[ve]}return m}var xa=_a;function rl(m,C,I){return m==null?m:xa(m,C,I)}var il=rl,Er=new WeakMap;function _n(m){return Js(m)}function Js(m){if(Er.has(m))return Er.get(m);const C=m.type==="compound"?vs(m):m.type==="enum"?Ks(m):m.default;return Er.set(m,C),C}function Ks(m){const C={$case:m.defaultCase};for(const[I,D]of Object.entries(m.cases))C[I]=Js(D);return C}function vs(m){const C={};for(const[I,D]of Object.entries(m.props))C[I]=Js(D);return C}var $n=E(kr),Of=E(P());function Ku(m,C,I){return(0,$n.prism)(()=>{const D=(0,$n.val)(C);return $n.prism.memo("driver",()=>D?D.type==="BasicKeyframedTrack"?$u(m,D,I):(m.logger.error("Track type not yet supported."),(0,$n.prism)(()=>{})):(0,$n.prism)(()=>{}),[D]).getValue()})}function $u(m,C,I){return(0,$n.prism)(()=>{let D=$n.prism.ref("state",{started:!1}),z=D.current;const Q=I.getValue();return(!z.started||Q<z.validFrom||z.validTo<=Q)&&(D.current=z=ui(m,I,C)),z.der.getValue()})}var Zr=(0,$n.prism)(()=>{});function ui(m,C,I){const D=C.getValue();if(I.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:Zr};let z=0;for(;;){const Q=I.keyframes[z];if(!Q)return an.error;const se=z===I.keyframes.length-1;if(D<Q.position)return z===0?an.beforeFirstKeyframe(Q):an.error;if(Q.position===D)return se?an.lastKeyframe(Q):an.between(Q,I.keyframes[z+1],C);if(z===I.keyframes.length-1)return an.lastKeyframe(Q);{const me=z+1;if(I.keyframes[me].position<=D){z=me;continue}else return an.between(Q,I.keyframes[z+1],C)}}}var an={beforeFirstKeyframe(m){return{started:!0,validFrom:-1/0,validTo:m.position,der:(0,$n.prism)(()=>({left:m.value,progression:0}))}},lastKeyframe(m){return{started:!0,validFrom:m.position,validTo:1/0,der:(0,$n.prism)(()=>({left:m.value,progression:0}))}},between(m,C,I){if(!m.connectedRight)return{started:!0,validFrom:m.position,validTo:C.position,der:(0,$n.prism)(()=>({left:m.value,progression:0}))};const D=Q=>(Q-m.position)/(C.position-m.position);if(!m.type||m.type==="bezier"){const Q=new Of.default(m.handles[2],m.handles[3],C.handles[0],C.handles[1]),se=(0,$n.prism)(()=>{const me=D(I.getValue()),ve=Q.solveSimple(me);return{left:m.value,right:C.value,progression:ve}});return{started:!0,validFrom:m.position,validTo:C.position,der:se}}const z=(0,$n.prism)(()=>{const Q=D(I.getValue()),se=Math.floor(Q);return{left:m.value,right:C.value,progression:se}});return{started:!0,validFrom:m.position,validTo:C.position,der:z}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Zr}};function fr(m,C,I){const z=I.get(m);if(z&&z.override===C)return z.merged;const Q=g({},m);for(const se of Object.keys(C)){const me=C[se],ve=m[se];Q[se]=typeof me=="object"&&typeof ve=="object"?fr(ve,me,I):me===void 0?ve:me}return I.set(m,{override:C,merged:Q}),Q}function Rr(m,C){let I=m;for(const D of C)I=I[D];return I}var Yu=E(kr),sl=(m,C)=>{const I=Yu.prism.memo(m,()=>new Yu.Atom(C),[]);return I.set(C),I},pn=E(kr),wa=E(kr),qu=/\s/;function ol(m){for(var C=m.length;C--&&qu.test(m.charAt(C)););return C}var Go=ol,gc=/^\s+/;function Ca(m){return m&&m.slice(0,Go(m)+1).replace(gc,"")}var Ac=Ca,Ea=0/0,Xu=/^[-+]0x[0-9a-f]+$/i,Sa=/^0b[01]+$/i,Nf=/^0o[0-7]+$/i,ba=parseInt;function Ei(m){if(typeof m=="number")return m;if(Le(m))return Ea;if(Ze(m)){var C=typeof m.valueOf=="function"?m.valueOf():m;m=Ze(C)?C+"":C}if(typeof m!="string")return m===0?m:+m;m=Ac(m);var I=Sa.test(m);return I||Nf.test(m)?ba(m.slice(2),I?2:8):Xu.test(m)?Ea:+m}var ys=Ei,k=1/0,V=17976931348623157e292;function ie(m){if(!m)return m===0?m:0;if(m=ys(m),m===k||m===-k){var C=m<0?-1:1;return C*V}return m===m?m:0}var ye=ie;function Et(m){var C=ye(m),I=C%1;return C===C?I?C-I:C:0}var nn=Et;function Jt(m){return m}var di=Jt,vc=xt(xe,"WeakMap"),_s=vc,Ia=9007199254740991;function xs(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=Ia}var Ba=xs;function Yn(m){return m!=null&&Ba(m.length)&&!Sn(m)}var ei=Yn,Pr=Object.prototype;function Uf(m){var C=m&&m.constructor,I=typeof C=="function"&&C.prototype||Pr;return m===I}var Zu=Uf;function ed(m,C){for(var I=-1,D=Array(m);++I<m;)D[I]=C(I);return D}var Gx=ed,ti="[object Arguments]";function ym(m){return N(m)&&Dt(m)==ti}var zf=ym,Gf=Object.prototype,Qo=Gf.hasOwnProperty,Ao=Gf.propertyIsEnumerable,al=zf(function(){return arguments}())?zf:function(m){return N(m)&&Qo.call(m,"callee")&&!Ao.call(m,"callee")},td=al;function Qf(){return!1}var z0=Qf,_m=e&&!e.nodeType&&e,xm=_m&&!0&&t&&!t.nodeType&&t,G0=xm&&xm.exports===_m,wm=G0?xe.Buffer:void 0,Q0=wm?wm.isBuffer:void 0,Cm=Q0||z0,ll=Cm,H0="[object Arguments]",Hf="[object Array]",Vf="[object Boolean]",Em="[object Date]",nd="[object Error]",V0="[object Function]",W0="[object Map]",j0="[object Number]",J0="[object Object]",Sm="[object RegExp]",K0="[object Set]",$0="[object String]",Qx="[object WeakMap]",Y0="[object ArrayBuffer]",Hx="[object DataView]",Vx="[object Float32Array]",q0="[object Float64Array]",X0="[object Int8Array]",Z0="[object Int16Array]",ev="[object Int32Array]",Wf="[object Uint8Array]",Wx="[object Uint8ClampedArray]",jx="[object Uint16Array]",Jx="[object Uint32Array]",xn={};xn[Vx]=xn[q0]=xn[X0]=xn[Z0]=xn[ev]=xn[Wf]=xn[Wx]=xn[jx]=xn[Jx]=!0,xn[H0]=xn[Hf]=xn[Y0]=xn[Vf]=xn[Hx]=xn[Em]=xn[nd]=xn[V0]=xn[W0]=xn[j0]=xn[J0]=xn[Sm]=xn[K0]=xn[$0]=xn[Qx]=!1;function bm(m){return N(m)&&Ba(m.length)&&!!xn[Dt(m)]}var Kx=bm;function tv(m){return function(C){return m(C)}}var nv=tv,Im=e&&!e.nodeType&&e,yc=Im&&!0&&t&&!t.nodeType&&t,rv=yc&&yc.exports===Im,ws=rv&&pe.process,iv=function(){try{var m=yc&&yc.require&&yc.require("util").types;return m||ws&&ws.binding&&ws.binding("util")}catch{}}(),_c=iv,xc=_c&&_c.isTypedArray,jf=xc?nv(xc):Kx,rd=jf,sv=Object.prototype,id=sv.hasOwnProperty;function ni(m,C){var I=ne(m),D=!I&&td(m),z=!I&&!D&&ll(m),Q=!I&&!D&&!z&&rd(m),se=I||D||z||Q,me=se?Gx(m.length,String):[],ve=me.length;for(var Ce in m)(C||id.call(m,Ce))&&!(se&&(Ce=="length"||z&&(Ce=="offset"||Ce=="parent")||Q&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||nl(Ce,ve)))&&me.push(Ce);return me}var $x=ni;function Yx(m,C){return function(I){return m(C(I))}}var Si=Yx,fi=Si(Object.keys,Object),ov=fi,av=Object.prototype,lv=av.hasOwnProperty;function cv(m){if(!Zu(m))return ov(m);var C=[];for(var I in Object(m))lv.call(m,I)&&I!="constructor"&&C.push(I);return C}var uv=cv;function Bm(m){return ei(m)?$x(m):uv(m)}var Jf=Bm;function Mm(m,C){for(var I=-1,D=C.length,z=m.length;++I<D;)m[z+I]=C[I];return m}var dv=Mm,fv=Si(Object.getPrototypeOf,Object),Kf=fv,$f="[object Object]",hv=Function.prototype,Tm=Object.prototype,Rm=hv.toString,pv=Tm.hasOwnProperty,Yf=Rm.call(Object);function mv(m){if(!N(m)||Dt(m)!=$f)return!1;var C=Kf(m);if(C===null)return!0;var I=pv.call(C,"constructor")&&C.constructor;return typeof I=="function"&&I instanceof I&&Rm.call(I)==Yf}var Pm=mv;function gv(m,C,I){var D=-1,z=m.length;C<0&&(C=-C>z?0:z+C),I=I>z?z:I,I<0&&(I+=z),z=C>I?0:I-C>>>0,C>>>=0;for(var Q=Array(z);++D<z;)Q[D]=m[D+C];return Q}var Ho=gv;function qx(m,C,I){var D=m.length;return I=I===void 0?D:I,!C&&I>=D?m:Ho(m,C,I)}var Xx=qx,qf="\\ud800-\\udfff",cl="\\u0300-\\u036f",Zx="\\ufe20-\\ufe2f",qe="\\u20d0-\\u20ff",Xf=cl+Zx+qe,Dm="\\ufe0e\\ufe0f",Av="\\u200d",ew=RegExp("["+Av+qf+Xf+Dm+"]");function ul(m){return ew.test(m)}var dl=ul;function Lm(m){return m.split("")}var vv=Lm,Fm="\\ud800-\\udfff",yv="\\u0300-\\u036f",_v="\\ufe20-\\ufe2f",xv="\\u20d0-\\u20ff",wv=yv+_v+xv,km="\\ufe0e\\ufe0f",Om="["+Fm+"]",Zf="["+wv+"]",sd="\\ud83c[\\udffb-\\udfff]",eh="(?:"+Zf+"|"+sd+")",Cv="[^"+Fm+"]",Ev="(?:\\ud83c[\\udde6-\\uddff]){2}",Nm="[\\ud800-\\udbff][\\udc00-\\udfff]",Sv="\\u200d",Um=eh+"?",zm="["+km+"]?",th="(?:"+Sv+"(?:"+[Cv,Ev,Nm].join("|")+")"+zm+Um+")*",nh=zm+Um+th,rh="(?:"+[Cv+Zf+"?",Zf,Ev,Nm,Om].join("|")+")",ih=RegExp(sd+"(?="+sd+")|"+rh+nh,"g");function sh(m){return m.match(ih)||[]}var od=sh;function Gm(m){return dl(m)?od(m):vv(m)}var Qm=Gm;function Hm(m,C,I){return m===m&&(I!==void 0&&(m=m<=I?m:I),C!==void 0&&(m=m>=C?m:C)),m}var bv=Hm;function Vm(m,C,I){return I===void 0&&(I=C,C=void 0),I!==void 0&&(I=ys(I),I=I===I?I:0),C!==void 0&&(C=ys(C),C=C===C?C:0),bv(ys(m),C,I)}var Iv=Vm;function oh(){this.__data__=new po,this.size=0}var Wm=oh;function tr(m){var C=this.__data__,I=C.delete(m);return this.size=C.size,I}var Wt=tr;function hr(m){return this.__data__.get(m)}var pr=hr;function Wr(m){return this.__data__.has(m)}var qi=Wr,wc=200;function Sr(m,C){var I=this.__data__;if(I instanceof po){var D=I.__data__;if(!Xa||D.length<wc-1)return D.push([m,C]),this.size=++I.size,this;I=this.__data__=new ma(D)}return I.set(m,C),this.size=I.size,this}var ad=Sr;function $s(m){var C=this.__data__=new po(m);this.size=C.size}$s.prototype.clear=Wm,$s.prototype.delete=Wt,$s.prototype.get=pr,$s.prototype.has=qi,$s.prototype.set=ad;var fl=$s;function jm(m,C){for(var I=-1,D=m==null?0:m.length,z=0,Q=[];++I<D;){var se=m[I];C(se,I,m)&&(Q[z++]=se)}return Q}var ld=jm;function bi(){return[]}var Jm=bi,Km=Object.prototype,Cc=Km.propertyIsEnumerable,cd=Object.getOwnPropertySymbols,$m=cd?function(m){return m==null?[]:(m=Object(m),ld(cd(m),function(C){return Cc.call(m,C)}))}:Jm,Ma=$m;function ah(m,C,I){var D=C(m);return ne(m)?D:dv(D,I(m))}var Ta=ah;function lh(m){return Ta(m,Jf,Ma)}var Ec=lh,Ym=xt(xe,"DataView"),Sc=Ym,ch=xt(xe,"Promise"),jr=ch,Ra=xt(xe,"Set"),Ii=Ra,ud="[object Map]",Bi="[object Object]",qm="[object Promise]",uh="[object Set]",dh="[object WeakMap]",Bv="[object DataView]",Pa=er(Sc),Mv=er(Xa),Tv=er(jr),Xm=er(Ii),hl=er(_s),Da=Dt;(Sc&&Da(new Sc(new ArrayBuffer(1)))!=Bv||Xa&&Da(new Xa)!=ud||jr&&Da(jr.resolve())!=qm||Ii&&Da(new Ii)!=uh||_s&&Da(new _s)!=dh)&&(Da=function(m){var C=Dt(m),I=C==Bi?m.constructor:void 0,D=I?er(I):"";if(D)switch(D){case Pa:return Bv;case Mv:return ud;case Tv:return qm;case Xm:return uh;case hl:return dh}return C});var Zm=Da,eg=xe.Uint8Array,dd=eg,tw="__lodash_hash_undefined__";function nw(m){return this.__data__.set(m,tw),this}var Rv=nw;function Pv(m){return this.__data__.has(m)}var pl=Pv;function fh(m){var C=-1,I=m==null?0:m.length;for(this.__data__=new ma;++C<I;)this.add(m[C])}fh.prototype.add=fh.prototype.push=Rv,fh.prototype.has=pl;var ml=fh;function Dv(m,C){for(var I=-1,D=m==null?0:m.length;++I<D;)if(C(m[I],I,m))return!0;return!1}var Mi=Dv;function rw(m,C){return m.has(C)}var Lv=rw,iw=1,sw=2;function Fv(m,C,I,D,z,Q){var se=I&iw,me=m.length,ve=C.length;if(me!=ve&&!(se&&ve>me))return!1;var Ce=Q.get(m),Ge=Q.get(C);if(Ce&&Ge)return Ce==C&&Ge==m;var We=-1,tt=!0,Ct=I&sw?new ml:void 0;for(Q.set(m,C),Q.set(C,m);++We<me;){var vt=m[We],$t=C[We];if(D)var wn=se?D($t,vt,We,C,m,Q):D(vt,$t,We,m,C,Q);if(wn!==void 0){if(wn)continue;tt=!1;break}if(Ct){if(!Mi(C,function(rn,gn){if(!Lv(Ct,gn)&&(vt===rn||z(vt,rn,I,D,Q)))return Ct.push(gn)})){tt=!1;break}}else if(!(vt===$t||z(vt,$t,I,D,Q))){tt=!1;break}}return Q.delete(m),Q.delete(C),tt}var tg=Fv;function ow(m){var C=-1,I=Array(m.size);return m.forEach(function(D,z){I[++C]=[z,D]}),I}var Cs=ow;function ng(m){var C=-1,I=Array(m.size);return m.forEach(function(D){I[++C]=D}),I}var aw=ng,La=1,hh=2,gl="[object Boolean]",ph="[object Date]",rg="[object Error]",ig="[object Map]",lw="[object Number]",kv="[object RegExp]",Ov="[object Set]",Nv="[object String]",Uv="[object Symbol]",sg="[object ArrayBuffer]",cw="[object DataView]",zv=Pe?Pe.prototype:void 0,d=zv?zv.valueOf:void 0;function f(m,C,I,D,z,Q,se){switch(I){case cw:if(m.byteLength!=C.byteLength||m.byteOffset!=C.byteOffset)return!1;m=m.buffer,C=C.buffer;case sg:return!(m.byteLength!=C.byteLength||!Q(new dd(m),new dd(C)));case gl:case ph:case lw:return Vr(+m,+C);case rg:return m.name==C.name&&m.message==C.message;case kv:case Nv:return m==C+"";case ig:var me=Cs;case Ov:var ve=D&La;if(me||(me=aw),m.size!=C.size&&!ve)return!1;var Ce=se.get(m);if(Ce)return Ce==C;D|=hh,se.set(m,C);var Ge=tg(me(m),me(C),D,z,Q,se);return se.delete(m),Ge;case Uv:if(d)return d.call(m)==d.call(C)}return!1}var _=f,S=1,B=Object.prototype,L=B.hasOwnProperty;function $(m,C,I,D,z,Q){var se=I&S,me=Ec(m),ve=me.length,Ce=Ec(C),Ge=Ce.length;if(ve!=Ge&&!se)return!1;for(var We=ve;We--;){var tt=me[We];if(!(se?tt in C:L.call(C,tt)))return!1}var Ct=Q.get(m),vt=Q.get(C);if(Ct&&vt)return Ct==C&&vt==m;var $t=!0;Q.set(m,C),Q.set(C,m);for(var wn=se;++We<ve;){tt=me[We];var rn=m[tt],gn=C[tt];if(D)var Ri=se?D(gn,rn,tt,C,m,Q):D(rn,gn,tt,m,C,Q);if(!(Ri===void 0?rn===gn||z(rn,gn,I,D,Q):Ri)){$t=!1;break}wn||(wn=tt=="constructor")}if($t&&!wn){var Ss=m.constructor,Pi=C.constructor;Ss!=Pi&&"constructor"in m&&"constructor"in C&&!(typeof Ss=="function"&&Ss instanceof Ss&&typeof Pi=="function"&&Pi instanceof Pi)&&($t=!1)}return Q.delete(m),Q.delete(C),$t}var oe=$,Be=1,He="[object Arguments]",it="[object Array]",Rt="[object Object]",wt=Object.prototype,An=wt.hasOwnProperty;function At(m,C,I,D,z,Q){var se=ne(m),me=ne(C),ve=se?it:Zm(m),Ce=me?it:Zm(C);ve=ve==He?Rt:ve,Ce=Ce==He?Rt:Ce;var Ge=ve==Rt,We=Ce==Rt,tt=ve==Ce;if(tt&&ll(m)){if(!ll(C))return!1;se=!0,Ge=!1}if(tt&&!Ge)return Q||(Q=new fl),se||rd(m)?tg(m,C,I,D,z,Q):_(m,C,ve,I,D,z,Q);if(!(I&Be)){var Ct=Ge&&An.call(m,"__wrapped__"),vt=We&&An.call(C,"__wrapped__");if(Ct||vt){var $t=Ct?m.value():m,wn=vt?C.value():C;return Q||(Q=new fl),z($t,wn,I,D,Q)}}return tt?(Q||(Q=new fl),oe(m,C,I,D,z,Q)):!1}var ri=At;function Xi(m,C,I,D,z){return m===C?!0:m==null||C==null||!N(m)&&!N(C)?m!==m&&C!==C:ri(m,C,I,D,Xi,z)}var ge=Xi,ce=1,_e=2;function et(m,C,I,D){var z=I.length,Q=z,se=!D;if(m==null)return!Q;for(m=Object(m);z--;){var me=I[z];if(se&&me[2]?me[1]!==m[me[0]]:!(me[0]in m))return!1}for(;++z<Q;){me=I[z];var ve=me[0],Ce=m[ve],Ge=me[1];if(se&&me[2]){if(Ce===void 0&&!(ve in m))return!1}else{var We=new fl;if(D)var tt=D(Ce,Ge,ve,m,C,We);if(!(tt===void 0?ge(Ge,Ce,ce|_e,D,We):tt))return!1}}return!0}var mt=et;function Vt(m){return m===m&&!Ze(m)}var Lt=Vt;function ln(m){for(var C=Jf(m),I=C.length;I--;){var D=C[I],z=m[D];C[I]=[D,z,Lt(z)]}return C}var Dr=ln;function cn(m,C){return function(I){return I==null?!1:I[m]===C&&(C!==void 0||m in Object(I))}}var Vo=cn;function uw(m){var C=Dr(m);return C.length==1&&C[0][2]?Vo(C[0][0],C[0][1]):function(I){return I===m||mt(I,m,C)}}var Kz=uw;function $z(m,C){return m!=null&&C in Object(m)}var Yz=$z;function qz(m,C,I){C=Uo(C,m);for(var D=-1,z=C.length,Q=!1;++D<z;){var se=zo(C[D]);if(!(Q=m!=null&&I(m,se)))break;m=m[se]}return Q||++D!=z?Q:(z=m==null?0:m.length,!!z&&Ba(z)&&nl(se,z)&&(ne(m)||td(m)))}var Xz=qz;function Zz(m,C){return m!=null&&Xz(m,C,Yz)}var eG=Zz,tG=1,nG=2;function rG(m,C){return Re(m)&&Lt(C)?Vo(zo(m),C):function(I){var D=Yi(I,m);return D===void 0&&D===C?eG(I,m):ge(C,D,tG|nG)}}var iG=rG;function sG(m){return function(C){return C==null?void 0:C[m]}}var WM=sG;function oG(m){return function(C){return Cr(C,m)}}var aG=oG;function lG(m){return Re(m)?WM(zo(m)):aG(m)}var cG=lG;function uG(m){return typeof m=="function"?m:m==null?di:typeof m=="object"?ne(m)?iG(m[0],m[1]):Kz(m):cG(m)}var dG=uG;function fG(m){return function(C,I,D){for(var z=-1,Q=Object(C),se=D(C),me=se.length;me--;){var ve=se[m?me:++z];if(I(Q[ve],ve,Q)===!1)break}return C}}var hG=fG,pG=hG(),mG=pG;function gG(m,C){return m&&mG(m,C,Jf)}var AG=gG,vG=function(){return xe.Date.now()},dw=vG,yG="Expected a function",_G=Math.max,xG=Math.min;function wG(m,C,I){var D,z,Q,se,me,ve,Ce=0,Ge=!1,We=!1,tt=!0;if(typeof m!="function")throw new TypeError(yG);C=ys(C)||0,Ze(I)&&(Ge=!!I.leading,We="maxWait"in I,Q=We?_G(ys(I.maxWait)||0,C):Q,tt="trailing"in I?!!I.trailing:tt);function Ct(Rn){var Di=D,Zs=z;return D=z=void 0,Ce=Rn,se=m.apply(Zs,Di),se}function vt(Rn){return Ce=Rn,me=setTimeout(rn,C),Ge?Ct(Rn):se}function $t(Rn){var Di=Rn-ve,Zs=Rn-Ce,Fa=C-Di;return We?xG(Fa,Q-Zs):Fa}function wn(Rn){var Di=Rn-ve,Zs=Rn-Ce;return ve===void 0||Di>=C||Di<0||We&&Zs>=Q}function rn(){var Rn=dw();if(wn(Rn))return gn(Rn);me=setTimeout(rn,$t(Rn))}function gn(Rn){return me=void 0,tt&&D?Ct(Rn):(D=z=void 0,se)}function Ri(){me!==void 0&&clearTimeout(me),Ce=0,D=ve=z=me=void 0}function Ss(){return me===void 0?se:gn(dw())}function Pi(){var Rn=dw(),Di=wn(Rn);if(D=arguments,z=this,ve=Rn,Di){if(me===void 0)return vt(ve);if(We)return clearTimeout(me),me=setTimeout(rn,C),Ct(ve)}return me===void 0&&(me=setTimeout(rn,C)),se}return Pi.cancel=Ri,Pi.flush=Ss,Pi}var CG=wG;function EG(m){return typeof m=="number"&&m==nn(m)}var SG=EG;function bG(m,C){var I={};return C=dG(C),AG(m,function(D,z,Q){tl(I,z,C(D,z,Q))}),I}var IG=bG,BG=9007199254740991,MG=Math.floor;function TG(m,C){var I="";if(!m||C<1||C>BG)return I;do C%2&&(I+=m),C=MG(C/2),C&&(m+=m);while(C);return I}var jM=TG,RG=WM("length"),PG=RG,JM="\\ud800-\\udfff",DG="\\u0300-\\u036f",LG="\\ufe20-\\ufe2f",FG="\\u20d0-\\u20ff",kG=DG+LG+FG,OG="\\ufe0e\\ufe0f",NG="["+JM+"]",fw="["+kG+"]",hw="\\ud83c[\\udffb-\\udfff]",UG="(?:"+fw+"|"+hw+")",KM="[^"+JM+"]",$M="(?:\\ud83c[\\udde6-\\uddff]){2}",YM="[\\ud800-\\udbff][\\udc00-\\udfff]",zG="\\u200d",qM=UG+"?",XM="["+OG+"]?",GG="(?:"+zG+"(?:"+[KM,$M,YM].join("|")+")"+XM+qM+")*",QG=XM+qM+GG,HG="(?:"+[KM+fw+"?",fw,$M,YM,NG].join("|")+")",ZM=RegExp(hw+"(?="+hw+")|"+HG+QG,"g");function VG(m){for(var C=ZM.lastIndex=0;ZM.test(m);)++C;return C}var WG=VG;function jG(m){return dl(m)?WG(m):PG(m)}var eT=jG,JG=Math.ceil;function KG(m,C){C=C===void 0?" ":el(C);var I=C.length;if(I<2)return I?jM(C,m):C;var D=jM(C,JG(m/eT(C)));return dl(C)?Xx(Qm(D),0,m).join(""):D.slice(0,m)}var $G=KG;function YG(m,C,I){m=No(m),C=nn(C);var D=C?eT(m):0;return C&&D<C?$G(C-D,I)+m:m}var og=YG,qG=5*1e3,XG=class{constructor(m){b(this,"_cache",new pc),b(this,"_keepHotUntapDebounce"),de(this,m)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return q(this).propsP}get sheet(){return q(this).sheet.publicApi}get project(){return q(this).sheet.project.publicApi}get address(){return g({},q(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const m=q(this);return(0,wa.prism)(()=>(0,wa.val)(m.getValues().getValue()))})}onValuesChange(m,C){return Uw(this._valuesPrism(),m,C)}get value(){const m=this._valuesPrism();{if(!m.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const C=m.keepHot();this._keepHotUntapDebounce=CG(()=>{C(),this._keepHotUntapDebounce=void 0},qG)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return m.getValue()}set initialValue(m){q(this).setInitialValue(m)}};function Gv(m){return m.type==="compound"||m.type==="enum"}function pw(m,C){if(!m)return;const[I,...D]=C;if(I===void 0)return m;if(!Gv(m))return;const z=m.type==="enum"?m.cases[I]:m.props[I];return pw(z,D)}function ZG(m){return!Gv(m)}var eQ=class{constructor(m,C,I){this.sheet=m,this.template=C,this.nativeObject=I,b(this,"$$isPointerToPrismProvider",!0),b(this,"address"),b(this,"publicApi"),b(this,"_initialValue",new pn.Atom({})),b(this,"_cache",new pc),b(this,"_logger"),b(this,"_internalUtilCtx"),this._logger=m._logger.named("SheetObject",C.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=A(g({},C.address),{sheetInstanceId:m.address.sheetInstanceId}),this.publicApi=new XG(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,pn.prism)(()=>{const m=(0,pn.val)(this.template.getDefaultValues()),C=(0,pn.val)(this._initialValue.pointer),I=pn.prism.memo("withInitialCache",()=>new WeakMap,[]),D=fr(m,C,I),z=(0,pn.val)(this.template.getStaticValues()),Q=pn.prism.memo("withStatics",()=>new WeakMap,[]);let me=fr(D,z,Q),ve;{const Ge=pn.prism.memo("seq",()=>this.getSequencedValues(),[]),We=pn.prism.memo("withSeqsCache",()=>new WeakMap,[]);ve=(0,pn.val)((0,pn.val)(Ge)),me=fr(me,ve,We)}return sl("finalAtom",me).pointer}))}getValueByPointer(m){const C=(0,pn.val)(this.getValues()),{path:I}=(0,pn.getPointerParts)(m);return(0,pn.val)(Rr(C,I))}pointerToPrism(m){const{path:C}=(0,pn.getPointerParts)(m);return(0,pn.prism)(()=>{const I=(0,pn.val)(this.getValues());return(0,pn.val)(Rr(I,C))})}getSequencedValues(){return(0,pn.prism)(()=>{const m=pn.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),C=(0,pn.val)(m),I=new pn.Atom({}),D=(0,pn.val)(this.template.configPointer);return pn.prism.effect("processTracks",()=>{const z=[];for(const{trackId:Q,pathToProp:se}of C){const me=this._trackIdToPrism(Q),ve=pw(D,se),Ce=ve.deserializeAndSanitize,Ge=ve.interpolate,We=()=>{const Ct=me.getValue();if(!Ct)return I.setByPointer(gn=>Rr(gn,se),void 0);const vt=Ce(Ct.left),$t=vt===void 0?ve.default:vt;if(Ct.right===void 0)return I.setByPointer(gn=>Rr(gn,se),$t);const wn=Ce(Ct.right),rn=wn===void 0?ve.default:wn;return I.setByPointer(gn=>Rr(gn,se),Ge($t,rn,Ct.progression))},tt=me.onStale(We);We(),z.push(tt)}return()=>{for(const Q of z)Q()}},[D,...C]),I.pointer})}_trackIdToPrism(m){const C=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[m],I=this.sheet.getSequence().positionPrism;return Ku(this._internalUtilCtx,C,I)}get propsP(){return this._cache.get("propsP",()=>(0,pn.pointer)({root:this,path:[]}))}validateValue(m,C){}setInitialValue(m){this.validateValue(this.propsP,m),this._initialValue.set(m)}};function On(m){return function(I,D){return m(I,D())}}var tT;(function(m){m[m.GENERAL=1]="GENERAL",m[m.TODO=2]="TODO",m[m.TROUBLESHOOTING=4]="TROUBLESHOOTING"})(tT||(tT={}));var nT;(function(m){m[m.INTERNAL=8]="INTERNAL",m[m.DEV=16]="DEV",m[m.PUBLIC=32]="PUBLIC"})(nT||(nT={}));var mh;(function(m){m[m.TRACE=64]="TRACE",m[m.DEBUG=128]="DEBUG",m[m.WARN=256]="WARN",m[m.ERROR=512]="ERROR"})(mh||(mh={}));var rT;(function(m){m[m.ERROR_PUBLIC=545]="ERROR_PUBLIC",m[m.ERROR_DEV=529]="ERROR_DEV",m[m._HMM=524]="_HMM",m[m._TODO=522]="_TODO",m[m._ERROR=521]="_ERROR",m[m.WARN_PUBLIC=289]="WARN_PUBLIC",m[m.WARN_DEV=273]="WARN_DEV",m[m._KAPOW=268]="_KAPOW",m[m._WARN=265]="_WARN",m[m.DEBUG_DEV=145]="DEBUG_DEV",m[m._DEBUG=137]="_DEBUG",m[m.TRACE_DEV=81]="TRACE_DEV",m[m._TRACE=73]="_TRACE"})(rT||(rT={}));var Ys={_hmm:qs(524),_todo:qs(522),_error:qs(521),errorDev:qs(529),errorPublic:qs(545),_kapow:qs(268),_warn:qs(265),warnDev:qs(273),warnPublic:qs(289),_debug:qs(137),debugDev:qs(145),_trace:qs(73),traceDev:qs(81)};function qs(m){return Object.freeze({audience:fd(m,8)?"internal":fd(m,16)?"dev":"public",category:fd(m,4)?"troubleshooting":fd(m,2)?"todo":"general",level:fd(m,512)?512:fd(m,256)?256:fd(m,128)?128:64})}function fd(m,C){return(m&C)===C}function Nn(m,C){return((C&32)===32?!0:(C&16)===16?m.dev:(C&8)===8?m.internal:!1)&&m.min<=C}var Al={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(m,C,I){return this.create({names:[...m.names,{name:C,key:I}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(m){if(m.length<5)return m;const C=m.replace(this.collapseOnRE,"");return this.cssMemo.has(C)||this.cssMemo.set(C,this.css(m)),C},css(m){var C,I,D,z;const Q=this.cssMemo.get(m);if(Q)return Q;let se=`color:${(I=(C=this.color)==null?void 0:C.call(this,m))!=null?I:`hsl(${(m.charCodeAt(0)+m.charCodeAt(m.length-1))%360}, 100%, 60%)`}`;return(D=this.bold)!=null&&D.test(m)&&(se+=";font-weight:600"),(z=this.italic)!=null&&z.test(m)&&(se+=";font-style:italic"),this.cssMemo.set(m,se),se}}};function iT(m=console,C={}){const I=A(g({},Al),{includes:g({},Al.includes)}),D={styled:rQ.bind(I,m),noStyle:sQ.bind(I,m)},z=nQ.bind(I);function Q(){return I.loggingConsoleStyle&&I.loggerConsoleStyle?D.styled:D.noStyle}return I.create=Q(),{configureLogger(se){var me;se==="console"?(I.loggerConsoleStyle=Al.loggerConsoleStyle,I.create=Q()):se.type==="console"?(I.loggerConsoleStyle=(me=se.style)!=null?me:Al.loggerConsoleStyle,I.create=Q()):se.type==="keyed"?(I.creatExt=ve=>se.keyed(ve.names),I.create=z):se.type==="named"&&(I.creatExt=tQ.bind(null,se.named),I.create=z)},configureLogging(se){var me,ve,Ce,Ge,We;I.includes.dev=(me=se.dev)!=null?me:Al.includes.dev,I.includes.internal=(ve=se.internal)!=null?ve:Al.includes.internal,I.includes.min=(Ce=se.min)!=null?Ce:Al.includes.min,I.include=(Ge=se.include)!=null?Ge:Al.include,I.loggingConsoleStyle=(We=se.consoleStyle)!=null?We:Al.loggingConsoleStyle,I.create=Q()},getLogger(){return I.create({names:[]})}}}function tQ(m,C){const I=[];for(let{name:D,key:z}of C.names)I.push(z==null?D:`${D} (${z})`);return m(I)}function nQ(m){const C=g(g({},this.includes),this.include(m)),I=this.filtered,D=this.named.bind(this,m),z=this.creatExt(m),Q=Nn(C,524),se=Nn(C,522),me=Nn(C,521),ve=Nn(C,529),Ce=Nn(C,545),Ge=Nn(C,265),We=Nn(C,268),tt=Nn(C,273),Ct=Nn(C,289),vt=Nn(C,137),$t=Nn(C,145),wn=Nn(C,73),rn=Nn(C,81),gn=Q?z.error.bind(z,Ys._hmm):I.bind(m,524),Ri=se?z.error.bind(z,Ys._todo):I.bind(m,522),Ss=me?z.error.bind(z,Ys._error):I.bind(m,521),Pi=ve?z.error.bind(z,Ys.errorDev):I.bind(m,529),Rn=Ce?z.error.bind(z,Ys.errorPublic):I.bind(m,545),Di=We?z.warn.bind(z,Ys._kapow):I.bind(m,268),Zs=Ge?z.warn.bind(z,Ys._warn):I.bind(m,265),Fa=tt?z.warn.bind(z,Ys.warnDev):I.bind(m,273),vd=Ct?z.warn.bind(z,Ys.warnPublic):I.bind(m,273),yd=vt?z.debug.bind(z,Ys._debug):I.bind(m,137),_d=$t?z.debug.bind(z,Ys.debugDev):I.bind(m,145),xd=wn?z.trace.bind(z,Ys._trace):I.bind(m,73),wd=rn?z.trace.bind(z,Ys.traceDev):I.bind(m,81),Lr={_hmm:gn,_todo:Ri,_error:Ss,errorDev:Pi,errorPublic:Rn,_kapow:Di,_warn:Zs,warnDev:Fa,warnPublic:vd,_debug:yd,debugDev:_d,_trace:xd,traceDev:wd,lazy:{_hmm:Q?On(gn):gn,_todo:se?On(Ri):Ri,_error:me?On(Ss):Ss,errorDev:ve?On(Pi):Pi,errorPublic:Ce?On(Rn):Rn,_kapow:We?On(Di):Di,_warn:Ge?On(Zs):Zs,warnDev:tt?On(Fa):Fa,warnPublic:Ct?On(vd):vd,_debug:vt?On(yd):yd,debugDev:$t?On(_d):_d,_trace:wn?On(xd):xd,traceDev:rn?On(wd):wd},named:D,utilFor:{internal(){return{debug:Lr._debug,error:Lr._error,warn:Lr._warn,trace:Lr._trace,named(eo,Un){return Lr.named(eo,Un).utilFor.internal()}}},dev(){return{debug:Lr.debugDev,error:Lr.errorDev,warn:Lr.warnDev,trace:Lr.traceDev,named(eo,Un){return Lr.named(eo,Un).utilFor.dev()}}},public(){return{error:Lr.errorPublic,warn:Lr.warnPublic,debug(eo,Un){Lr._warn(`(public "debug" filtered out) ${eo}`,Un)},trace(eo,Un){Lr._warn(`(public "trace" filtered out) ${eo}`,Un)},named(eo,Un){return Lr.named(eo,Un).utilFor.public()}}}}};return Lr}function rQ(m,C){const I=g(g({},this.includes),this.include(C)),D=[];let z="";for(let ve=0;ve<C.names.length;ve++){const{name:Ce,key:Ge}=C.names[ve];if(z+=` %c${Ce}`,D.push(this.style.css(Ce)),Ge!=null){const We=`%c#${Ge}`;z+=We,D.push(this.style.css(We))}}const Q=this.filtered,se=this.named.bind(this,C),me=[z,...D];return sT(Q,C,I,m,me,iQ(me),se)}function iQ(m){const C=m.slice(0);for(let I=1;I<C.length;I++)C[I]+=";background-color:#e0005a;padding:2px;color:white";return C}function sQ(m,C){const I=g(g({},this.includes),this.include(C));let D="";for(let me=0;me<C.names.length;me++){const{name:ve,key:Ce}=C.names[me];D+=` ${ve}`,Ce!=null&&(D+=`#${Ce}`)}const z=this.filtered,Q=this.named.bind(this,C),se=[D];return sT(z,C,I,m,se,se,Q)}function sT(m,C,I,D,z,Q,se){const me=Nn(I,524),ve=Nn(I,522),Ce=Nn(I,521),Ge=Nn(I,529),We=Nn(I,545),tt=Nn(I,265),Ct=Nn(I,268),vt=Nn(I,273),$t=Nn(I,289),wn=Nn(I,137),rn=Nn(I,145),gn=Nn(I,73),Ri=Nn(I,81),Ss=me?D.error.bind(D,...z):m.bind(C,524),Pi=ve?D.error.bind(D,...z):m.bind(C,522),Rn=Ce?D.error.bind(D,...z):m.bind(C,521),Di=Ge?D.error.bind(D,...z):m.bind(C,529),Zs=We?D.error.bind(D,...z):m.bind(C,545),Fa=Ct?D.warn.bind(D,...Q):m.bind(C,268),vd=tt?D.warn.bind(D,...z):m.bind(C,265),yd=vt?D.warn.bind(D,...z):m.bind(C,273),_d=$t?D.warn.bind(D,...z):m.bind(C,273),xd=wn?D.info.bind(D,...z):m.bind(C,137),wd=rn?D.info.bind(D,...z):m.bind(C,145),Lr=gn?D.debug.bind(D,...z):m.bind(C,73),eo=Ri?D.debug.bind(D,...z):m.bind(C,81),Un={_hmm:Ss,_todo:Pi,_error:Rn,errorDev:Di,errorPublic:Zs,_kapow:Fa,_warn:vd,warnDev:yd,warnPublic:_d,_debug:xd,debugDev:wd,_trace:Lr,traceDev:eo,lazy:{_hmm:me?On(Ss):Ss,_todo:ve?On(Pi):Pi,_error:Ce?On(Rn):Rn,errorDev:Ge?On(Di):Di,errorPublic:We?On(Zs):Zs,_kapow:Ct?On(Fa):Fa,_warn:tt?On(vd):vd,warnDev:vt?On(yd):yd,warnPublic:$t?On(_d):_d,_debug:wn?On(xd):xd,debugDev:rn?On(wd):wd,_trace:gn?On(Lr):Lr,traceDev:Ri?On(eo):eo},named:se,utilFor:{internal(){return{debug:Un._debug,error:Un._error,warn:Un._warn,trace:Un._trace,named(yl,_l){return Un.named(yl,_l).utilFor.internal()}}},dev(){return{debug:Un.debugDev,error:Un.errorDev,warn:Un.warnDev,trace:Un.traceDev,named(yl,_l){return Un.named(yl,_l).utilFor.dev()}}},public(){return{error:Un.errorPublic,warn:Un.warnPublic,debug(yl,_l){Un._warn(`(public "debug" filtered out) ${yl}`,_l)},trace(yl,_l){Un._warn(`(public "trace" filtered out) ${yl}`,_l)},named(yl,_l){return Un.named(yl,_l).utilFor.public()}}}}};return Un}var oT=iT(console,{_debug:function(){},_error:function(){}});oT.configureLogging({dev:!0,min:mh.TRACE});var Qv=oT.getLogger().named("Theatre.js (default logger)").utilFor.dev(),aT=new WeakMap;function oQ(m){const C=aT.get(m);if(C)return C;const I=new Map;return aT.set(m,I),lT([],m,I),I}function lT(m,C,I){for(const[D,z]of Object.entries(C.props))if(!Gv(z)){const Q=[...m,D];I.set(JSON.stringify(Q),I.size),cT(Q,z,I)}for(const[D,z]of Object.entries(C.props))if(Gv(z)){const Q=[...m,D];I.set(JSON.stringify(Q),I.size),cT(Q,z,I)}}function cT(m,C,I){if(C.type==="compound")lT(m,C,I);else{if(C.type==="enum")throw new Error("Enums aren't supported yet");I.set(JSON.stringify(m),I.size)}}var aQ=class{constructor(m,C,I,D,z){this.sheetTemplate=m,b(this,"address"),b(this,"type","Theatre_SheetObjectTemplate"),b(this,"_config"),b(this,"_temp_actions_atom"),b(this,"_cache",new pc),b(this,"project"),this.address=A(g({},m.address),{objectKey:C}),this._config=new Bn.Atom(D),this._temp_actions_atom=new Bn.Atom(z),this.project=m.project}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(m,C,I){return this._config.set(I),new eQ(m,this,C)}reconfigure(m){this._config.set(m)}_temp_setActions(m){this._temp_actions_atom.set(m)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,Bn.prism)(()=>{const m=(0,Bn.val)(this.configPointer);return _n(m)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,Bn.prism)(()=>{var m;const C=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],I=(m=(0,Bn.val)(C.staticOverrides.byObject[this.address.objectKey]))!=null?m:{};return(0,Bn.val)(this.configPointer).deserializeAndSanitize(I)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,Bn.prism)(()=>{const m=this.project.pointers.historic.sheetsById[this.address.sheetId],C=(0,Bn.val)(m.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!C)return fe;const I=[];if(!C)return fe;const D=(0,Bn.val)(this.configPointer),z=Object.entries(C);for(const[se,me]of z){const ve=lQ(se);if(!ve)continue;const Ce=pw(D,ve);Ce&&ZG(Ce)&&I.push({pathToProp:ve,trackId:me})}const Q=oQ(D);return I.sort((se,me)=>{const ve=se.pathToProp,Ce=me.pathToProp,Ge=Q.get(JSON.stringify(ve)),We=Q.get(JSON.stringify(Ce));return Ge>We?1:-1}),I.length===0?fe:I}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,Bn.prism)(()=>{const m=(0,Bn.val)(this.getArrayOfValidSequenceTracks());let C={};for(const{pathToProp:I,trackId:D}of m)il(C,I,D);return C}))}getDefaultsAtPointer(m){const{path:C}=(0,Bn.getPointerParts)(m),I=this.getDefaultValues().getValue();return mo(I,C)}};function lQ(m){try{return JSON.parse(m)}catch{Qv.warn(`property ${JSON.stringify(m)} cannot be parsed. Skipping.`);return}}var uT=E(kr);E(F());var cQ=class extends Error{},Hv=class extends cQ{},uQ=E(kr),dQ=E(kr),fQ=E(kr),Ti=E(kr);function bc(){let m,C;const I=new Promise((z,Q)=>{m=se=>{z(se),D.status="resolved"},C=se=>{Q(se),D.status="rejected"}}),D={resolve:m,reject:C,promise:I,status:"pending"};return D}var hQ=()=>{},Vv=hQ,pQ=E(kr),mQ=class{constructor(){b(this,"_stopPlayCallback",Vv),b(this,"_state",new pQ.Atom({position:0,playing:!1})),b(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=Vv}gotoPosition(m){this._updatePositionInState(m)}_updatePositionInState(m){this._state.setByPointer(C=>C.position,m)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(m){this._state.setByPointer(C=>C.playing,m)}play(m,C,I,D,z){this.playing&&this.pause(),this.playing=!0;const Q=C[1]-C[0];{const tt=this.getCurrentPosition();tt<C[0]||tt>C[1]?D==="normal"||D==="alternate"?this._updatePositionInState(C[0]):(D==="reverse"||D==="alternateReverse")&&this._updatePositionInState(C[1]):D==="normal"||D==="alternate"?tt===C[1]&&this._updatePositionInState(C[0]):tt===C[0]&&this._updatePositionInState(C[1])}const se=bc(),me=z.time,ve=Q*m;let Ce=this.getCurrentPosition()-C[0];(D==="reverse"||D==="alternateReverse")&&(Ce=C[1]-this.getCurrentPosition());const Ge=tt=>{const vt=Math.max(tt-me,0)/1e3,$t=Math.min(vt*I+Ce,ve);if($t!==ve){const wn=Math.floor($t/Q);let rn=$t/Q%1*Q;if(D!=="normal")if(D==="reverse")rn=Q-rn;else{const gn=wn%2===0;D==="alternate"?gn||(rn=Q-rn):gn&&(rn=Q-rn)}this._updatePositionInState(rn+C[0]),We()}else{if(D==="normal")this._updatePositionInState(C[1]);else if(D==="reverse")this._updatePositionInState(C[0]);else{const wn=(m-1)%2===0;D==="alternate"?wn?this._updatePositionInState(C[1]):this._updatePositionInState(C[0]):wn?this._updatePositionInState(C[0]):this._updatePositionInState(C[1])}this.playing=!1,se.resolve(!0)}};this._stopPlayCallback=()=>{z.offThisOrNextTick(Ge),z.offNextTick(Ge),this.playing&&se.resolve(!1)};const We=()=>z.onNextTick(Ge);return z.onThisOrNextTick(Ge),se.promise}playDynamicRange(m,C){this.playing&&this.pause(),this.playing=!0;const I=bc(),D=m.keepHot();I.promise.then(D,D);let z=C.time;const Q=me=>{const ve=Math.max(me-z,0);z=me;const Ce=ve/1e3,Ge=this.getCurrentPosition(),We=m.getValue();if(Ge<We[0]||Ge>We[1])this.gotoPosition(We[0]);else{let tt=Ge+Ce;tt>We[1]&&(tt=We[0]+(tt-We[1])),this.gotoPosition(tt)}se()};this._stopPlayCallback=()=>{C.offThisOrNextTick(Q),C.offNextTick(Q),I.resolve(!1)};const se=()=>C.onNextTick(Q);return C.onThisOrNextTick(Q),I.promise}},gQ=E(kr),AQ="__TheatreJS_StudioBundle",mw="__TheatreJS_CoreBundle",vQ="__TheatreJS_Notifications",Wv=m=>(...C)=>{var I;switch(m){case"success":{Qv.debug(C.slice(0,2).join(`
`));break}case"info":{Qv.debug(C.slice(0,2).join(`
`));break}case"warning":{Qv.warn(C.slice(0,2).join(`
`));break}}return typeof window<"u"?(I=window[vQ])==null?void 0:I.notify[m](...C):void 0},gh={warning:Wv("warning"),success:Wv("success"),info:Wv("info"),error:Wv("error")};typeof window<"u"&&(window.addEventListener("error",m=>{gh.error("An error occurred",`<pre>${m.message}</pre>

See **console** for details.`)}),window.addEventListener("unhandledrejection",m=>{gh.error("An error occurred",`<pre>${m.reason}</pre>

See **console** for details.`)}));var yQ=class{constructor(m,C,I){this._decodedBuffer=m,this._audioContext=C,this._nodeDestination=I,b(this,"_mainGain"),b(this,"_state",new gQ.Atom({position:0,playing:!1})),b(this,"statePointer"),b(this,"_stopPlayCallback",Vv),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(m,C){const I=bc();this._playing&&this.pause(),this._playing=!0;let D;const z=()=>{D==null||D(),D=this._loopInRange(m.getValue(),C).stop},Q=m.onStale(z);return z(),this._stopPlayCallback=()=>{D==null||D(),Q(),I.resolve(!1)},I.promise}_loopInRange(m,C){let D=this.getCurrentPosition();const z=m[1]-m[0];D<m[0]||D>m[1]?this._updatePositionInState(m[0]):D===m[1]&&this._updatePositionInState(m[0]),D=this.getCurrentPosition();const Q=this._audioContext.createBufferSource();Q.buffer=this._decodedBuffer,Q.connect(this._mainGain),Q.playbackRate.value=1,Q.loop=!0,Q.loopStart=m[0],Q.loopEnd=m[1];const se=C.time;let me=D-m[0];Q.start(0,D);const ve=We=>{let $t=(Math.max(We-se,0)/1e3*1+me)/z%1*z;this._updatePositionInState($t+m[0]),Ce()},Ce=()=>C.onNextTick(ve);return C.onThisOrNextTick(ve),{stop:()=>{Q.stop(),Q.disconnect(),C.offThisOrNextTick(ve),C.offNextTick(ve)}}}get _playing(){return this._state.get().playing}set _playing(m){this._state.setByPointer(C=>C.playing,m)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=Vv}gotoPosition(m){this._updatePositionInState(m)}_updatePositionInState(m){this._state.reduce(C=>A(g({},C),{position:m}))}getCurrentPosition(){return this._state.get().position}play(m,C,I,D,z){this._playing&&this.pause(),this._playing=!0;let Q=this.getCurrentPosition();const se=C[1]-C[0];if(D!=="normal")throw new Hv(`Audio-controlled sequences can only be played in the "normal" direction. '${D}' given.`);Q<C[0]||Q>C[1]?this._updatePositionInState(C[0]):Q===C[1]&&this._updatePositionInState(C[0]),Q=this.getCurrentPosition();const me=bc(),ve=this._audioContext.createBufferSource();ve.buffer=this._decodedBuffer,ve.connect(this._mainGain),ve.playbackRate.value=I,m>1e3&&(gh.warning("Can't play sequences with audio more than 1000 times",`The sequence will still play, but only 1000 times. The \`iterationCount: ${m}\` provided to \`sequence.play()\`
is too high for a sequence with audio.

To fix this, either set \`iterationCount\` to a lower value, or remove the audio from the sequence.`,[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),m=1e3),m>1&&(ve.loop=!0,ve.loopStart=C[0],ve.loopEnd=C[1]);const Ce=z.time;let Ge=Q-C[0];const We=se*m;ve.start(0,Q,We-Ge);const tt=$t=>{const rn=Math.max($t-Ce,0)/1e3,gn=Math.min(rn*I+Ge,We);if(gn!==We){let Ri=gn/se%1*se;this._updatePositionInState(Ri+C[0]),vt()}else this._updatePositionInState(C[1]),this._playing=!1,Ct(),me.resolve(!0)},Ct=()=>{ve.stop(),ve.disconnect()};this._stopPlayCallback=()=>{Ct(),z.offThisOrNextTick(tt),z.offNextTick(tt),this._playing&&me.resolve(!1)};const vt=()=>z.onNextTick(tt);return z.onThisOrNextTick(tt),me.promise}},_Q=E(kr),dT=0;function gw(m){var C;const I=se=>{D.tick(se)},D=new _Q.Ticker({onActive(){var se;(se=m==null?void 0:m.start)==null||se.call(m)},onDormant(){var se;(se=m==null?void 0:m.stop)==null||se.call(m)}}),z={tick:I,id:dT++,name:(C=m==null?void 0:m.name)!=null?C:`CustomRafDriver-${dT}`,type:"Theatre_RafDriver_PublicAPI"},Q={type:"Theatre_RafDriver_PrivateAPI",publicApi:z,ticker:D,start:m==null?void 0:m.start,stop:m==null?void 0:m.stop};return de(z,Q),z}function xQ(){let m=null;const D=gw({name:"DefaultCoreRafDriver",start:()=>{if(typeof window<"u"){const z=Q=>{D.tick(Q),m=window.requestAnimationFrame(z)};m=window.requestAnimationFrame(z)}else D.tick(0),setTimeout(()=>D.tick(1),0)},stop:()=>{typeof window<"u"&&m!==null&&window.cancelAnimationFrame(m)}});return D}var jv;function fT(){return jv||wQ(xQ()),jv}function hT(){return fT().ticker}function wQ(m){if(jv)throw new Error("`setCoreRafDriver()` is already called.");jv=q(m)}var CQ=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(m){de(this,m)}play(m){const C=q(this);if(C._project.isReady()){const I=m!=null&&m.rafDriver?q(m.rafDriver).ticker:hT();return C.play(m??{},I)}else{const I=bc();return I.resolve(!0),I.promise}}pause(){q(this).pause()}get position(){return q(this).position}set position(m){q(this).position=m}async attachAudio(m){const{audioContext:C,destinationNode:I,decodedBuffer:D,gainNode:z}=await EQ(m),Q=new yQ(D,C,z);return q(this).replacePlaybackController(Q),{audioContext:C,destinationNode:I,decodedBuffer:D,gainNode:z}}get pointer(){return q(this).pointer}};async function EQ(m){function C(){if(m.audioContext)return Promise.resolve(m.audioContext);const Ce=new AudioContext;return Ce.state==="running"||typeof window>"u"?Promise.resolve(Ce):new Promise(Ge=>{const We=()=>{Ce.resume()},tt=["mousedown","keydown","touchstart"],Ct={capture:!0,passive:!1};tt.forEach(vt=>{window.addEventListener(vt,We,Ct)}),Ce.addEventListener("statechange",()=>{Ce.state==="running"&&(tt.forEach(vt=>{window.removeEventListener(vt,We,Ct)}),Ge(Ce))})})}async function I(){if(m.source instanceof AudioBuffer)return m.source;const Ce=bc();if(typeof m.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let Ge;try{Ge=await fetch(m.source)}catch(vt){throw console.error(vt),new Error(`Could not fetch '${m.source}'. Network error logged above.`)}let We;try{We=await Ge.arrayBuffer()}catch(vt){throw console.error(vt),new Error(`Could not read '${m.source}' as an arrayBuffer.`)}(await D).decodeAudioData(We,Ce.resolve,Ce.reject);let Ct;try{Ct=await Ce.promise}catch(vt){throw console.error(vt),new Error(`Could not decode ${m.source} as an audio file.`)}return Ct}const D=C(),z=I(),[Q,se]=await Promise.all([D,z]),me=m.destinationNode||Q.destination,ve=Q.createGain();return ve.connect(me),{audioContext:Q,decodedBuffer:se,gainNode:ve,destinationNode:me}}var SQ=class{constructor(m,C,I,D,z){this._project=m,this._sheet=C,this._lengthD=I,this._subUnitsPerUnitD=D,b(this,"address"),b(this,"publicApi"),b(this,"_playbackControllerBox"),b(this,"_prismOfStatePointer"),b(this,"_positionD"),b(this,"_positionFormatterD"),b(this,"_playableRangeD"),b(this,"pointer",(0,fQ.pointer)({root:this,path:[]})),b(this,"$$isPointerToPrismProvider",!0),b(this,"_logger"),b(this,"closestGridPosition",Q=>{const me=1/this.subUnitsPerUnit;return parseFloat((Math.round(Q/me)*me).toFixed(3))}),this._logger=m._logger.named("Sheet",C.address.sheetId).named("Instance",C.address.sheetInstanceId),this.address=A(g({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new CQ(this),this._playbackControllerBox=new dQ.Atom(z??new mQ),this._prismOfStatePointer=(0,Ti.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,Ti.prism)(()=>{const Q=this._prismOfStatePointer.getValue();return(0,Ti.val)(Q.position)}),this._positionFormatterD=(0,Ti.prism)(()=>{const Q=(0,Ti.val)(this._subUnitsPerUnitD);return new bQ(Q)})}pointerToPrism(m){const{path:C}=(0,uQ.getPointerParts)(m);if(C.length===0)return(0,Ti.prism)(()=>({length:(0,Ti.val)(this.pointer.length),playing:(0,Ti.val)(this.pointer.playing),position:(0,Ti.val)(this.pointer.position)}));if(C.length>1)return(0,Ti.prism)(()=>{});const[I]=C;return I==="length"?this._lengthD:I==="position"?this._positionD:I==="playing"?(0,Ti.prism)(()=>(0,Ti.val)(this._prismOfStatePointer.getValue().playing)):(0,Ti.prism)(()=>{})}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(m){let C=m;this.pause(),C>this.length&&(C=this.length);const I=this.length;this._playbackControllerBox.get().gotoPosition(C>I?I:C)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,Ti.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,Ti.prism)(()=>[0,(0,Ti.val)(this._lengthD)])}playDynamicRange(m,C){return this._playbackControllerBox.get().playDynamicRange(m,C)}async play(m,C){const I=this.length,D=m&&m.range?m.range:[0,I],z=m&&typeof m.iterationCount=="number"?m.iterationCount:1,Q=m&&typeof m.rate<"u"?m.rate:1,se=m&&m.direction?m.direction:"normal";return await this._play(z,[D[0],D[1]],Q,se,C)}_play(m,C,I,D,z){return this._playbackControllerBox.get().play(m,C,I,D,z)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(m){this.pause();const C=this._playbackControllerBox.get();this._playbackControllerBox.set(m);const I=C.getCurrentPosition();C.destroy(),m.gotoPosition(I)}},bQ=class{constructor(m){this._fps=m}formatSubUnitForGrid(m){const C=m%1,I=1/this._fps;return Math.round(C/I)+"f"}formatFullUnitForGrid(m){let C=m,I="";if(C>=Ah){const z=Math.floor(C/Ah);I+=z+"h",C=C%Ah}if(C>=pd){const z=Math.floor(C/pd);I+=z+"m",C=C%pd}if(C>=hd){const z=Math.floor(C/hd);I+=z+"s",C=C%hd}const D=1/this._fps;if(C>=D){const z=Math.floor(C/D);I+=z+"f",C=C%D}return I.length===0?"0s":I}formatForPlayhead(m){let C=m,I="";if(C>=Ah){const z=Math.floor(C/Ah);I+=og(z.toString(),2,"0")+"h",C=C%Ah}if(C>=pd){const z=Math.floor(C/pd);I+=og(z.toString(),2,"0")+"m",C=C%pd}else I.length>0&&(I+="00m");if(C>=hd){const z=Math.floor(C/hd);I+=og(z.toString(),2,"0")+"s",C=C%hd}else I+="00s";const D=1/this._fps;if(C>=D){const z=Math.round(C/D);I+=og(z.toString(),2,"0")+"f",C=C%D}else C/D>.98?(I+=og(1 .toString(),2,"0")+"f",C=C%D):I+="00f";return I.length===0?"00s00f":I}formatBasic(m){return m.toFixed(2)+"s"}},hd=1,pd=hd*60,Ah=pd*60,Aw={};w(Aw,{boolean:()=>_T,compound:()=>yw,image:()=>LQ,number:()=>yT,rgba:()=>UQ,string:()=>xT,stringLiteral:()=>VQ});function pT(m,C){return m.length<=C?m:m.substr(0,C-3)+"..."}var IQ=m=>typeof m=="string"?`string("${pT(m,10)}")`:typeof m=="number"?`number(${pT(String(m),10)})`:m===null?"null":m===void 0?"undefined":typeof m=="boolean"?String(m):Array.isArray(m)?"array":typeof m=="object"?"object":"unknown",mT=IQ;function BQ(m,{removeAlphaIfOpaque:C=!1}={}){const I=(m.a*255|256).toString(16).slice(1);return`#${(m.r*255|256).toString(16).slice(1)+(m.g*255|256).toString(16).slice(1)+(m.b*255|256).toString(16).slice(1)+(C&&I==="ff"?"":I)}`}function vw(m){return A(g({},m),{toString(){return BQ(this,{removeAlphaIfOpaque:!0})}})}function MQ(m){return Object.fromEntries(Object.entries(m).map(([C,I])=>[C,Iv(I,0,1)]))}function TQ(m){function C(I){return I>=.0031308?1.055*I**(1/2.4)-.055:12.92*I}return MQ({r:C(m.r),g:C(m.g),b:C(m.b),a:m.a})}function gT(m){function C(I){return I>=.04045?((I+.055)/(1+.055))**2.4:I/12.92}return{r:C(m.r),g:C(m.g),b:C(m.b),a:m.a}}function AT(m){let C=.4122214708*m.r+.5363325363*m.g+.0514459929*m.b,I=.2119034982*m.r+.6806995451*m.g+.1073969566*m.b,D=.0883024619*m.r+.2817188376*m.g+.6299787005*m.b,z=Math.cbrt(C),Q=Math.cbrt(I),se=Math.cbrt(D);return{L:.2104542553*z+.793617785*Q-.0040720468*se,a:1.9779984951*z-2.428592205*Q+.4505937099*se,b:.0259040371*z+.7827717662*Q-.808675766*se,alpha:m.a}}function RQ(m){let C=m.L+.3963377774*m.a+.2158037573*m.b,I=m.L-.1055613458*m.a-.0638541728*m.b,D=m.L-.0894841775*m.a-1.291485548*m.b,z=C*C*C,Q=I*I*I,se=D*D*D;return{r:4.0767416621*z-3.3077115913*Q+.2309699292*se,g:-1.2684380046*z+2.6097574011*Q-.3413193965*se,b:-.0041960863*z-.7034186147*Q+1.707614701*se,a:m.alpha}}var Ic=Symbol("TheatrePropType_Basic");function vT(m){return typeof m=="object"&&!!m&&m[Ic]==="TheatrePropType"}function PQ(m){if(typeof m=="number")return yT(m);if(typeof m=="boolean")return _T(m);if(typeof m=="string")return xT(m);if(typeof m=="object"&&m){if(vT(m))return m;if(Pm(m))return yw(m);throw new Hv(`This value is not a valid prop type: ${mT(m)}`)}else throw new Hv(`This value is not a valid prop type: ${mT(m)}`)}function DQ(m){const C={};for(const I of Object.keys(m)){const D=m[I];vT(D)?C[I]=D:C[I]=PQ(D)}return C}var yw=(m,C={})=>{const I=DQ(m),D=new WeakMap;return{type:"compound",props:I,valueType:null,[Ic]:"TheatrePropType",label:C.label,default:IG(I,Q=>Q.default),deserializeAndSanitize:Q=>{if(typeof Q!="object"||!Q)return;if(D.has(Q))return D.get(Q);const se={};let me=!1;for(const[ve,Ce]of Object.entries(I))if(Object.prototype.hasOwnProperty.call(Q,ve)){const Ge=Ce.deserializeAndSanitize(Q[ve]);Ge!=null&&(me=!0,se[ve]=Ge)}if(D.set(Q,se),me)return se}}},LQ=(m,C={})=>{const I=(D,z,Q)=>{var se;return{type:"image",id:((se=C.interpolate)!=null?se:Jv)(D.id,z.id,Q)}};return{type:"image",default:{type:"image",id:m},valueType:null,[Ic]:"TheatrePropType",label:C.label,interpolate:I,deserializeAndSanitize:FQ}},FQ=m=>{if(!m)return;let C=!0;if(typeof m.id!="string"&&![null,void 0].includes(m.id)&&(C=!1),m.type!=="image"&&(C=!1),!!C)return m},yT=(m,C={})=>{var I;return A(g({type:"number",valueType:0,default:m,[Ic]:"TheatrePropType"},C||{}),{label:C.label,nudgeFn:(I=C.nudgeFn)!=null?I:WQ,nudgeMultiplier:typeof C.nudgeMultiplier=="number"?C.nudgeMultiplier:void 0,interpolate:NQ,deserializeAndSanitize:kQ(C.range)})},kQ=m=>m?C=>{if(typeof C=="number"&&isFinite(C))return Iv(C,m[0],m[1])}:OQ,OQ=m=>typeof m=="number"&&isFinite(m)?m:void 0,NQ=(m,C,I)=>m+I*(C-m),UQ=(m={r:0,g:0,b:0,a:1},C={})=>{const I={};for(const D of["r","g","b","a"])I[D]=Math.min(Math.max(m[D],0),1);return{type:"rgba",valueType:null,default:vw(I),[Ic]:"TheatrePropType",label:C.label,interpolate:GQ,deserializeAndSanitize:zQ}},zQ=m=>{if(!m)return;let C=!0;for(const D of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(m,D)||typeof m[D]!="number")&&(C=!1);if(!C)return;const I={};for(const D of["r","g","b","a"])I[D]=Math.min(Math.max(m[D],0),1);return vw(I)},GQ=(m,C,I)=>{const D=AT(gT(m)),z=AT(gT(C)),Q={L:(1-I)*D.L+I*z.L,a:(1-I)*D.a+I*z.a,b:(1-I)*D.b+I*z.b,alpha:(1-I)*D.alpha+I*z.alpha},se=TQ(RQ(Q));return vw(se)},_T=(m,C={})=>{var I;return{type:"boolean",default:m,valueType:null,[Ic]:"TheatrePropType",label:C.label,interpolate:(I=C.interpolate)!=null?I:Jv,deserializeAndSanitize:QQ}},QQ=m=>typeof m=="boolean"?m:void 0;function Jv(m){return m}var xT=(m,C={})=>{var I;return{type:"string",default:m,valueType:null,[Ic]:"TheatrePropType",label:C.label,interpolate:(I=C.interpolate)!=null?I:Jv,deserializeAndSanitize:HQ}};function HQ(m){return typeof m=="string"?m:void 0}function VQ(m,C,I={}){var D,z;return{type:"stringLiteral",default:m,valuesAndLabels:g({},C),[Ic]:"TheatrePropType",valueType:null,as:(D=I.as)!=null?D:"menu",label:I.label,interpolate:(z=I.interpolate)!=null?z:Jv,deserializeAndSanitize(Q){if(typeof Q=="string"&&Object.prototype.hasOwnProperty.call(C,Q))return Q}}}var WQ=({config:m,deltaX:C,deltaFraction:I,magnitude:D})=>{var z;const{range:Q}=m;return!m.nudgeMultiplier&&Q&&!Q.includes(1/0)&&!Q.includes(-1/0)?I*(Q[1]-Q[0])*D:C*D*((z=m.nudgeMultiplier)!=null?z:1)},jQ=m=>m.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function _w(m,C){return jQ(m)}E(T());var JQ=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(m){de(this,m)}object(m,C,I){const D=q(this),z=_w(m),Q=D.getObject(z),se=null,me=I==null?void 0:I.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(Q)return me&&Q.template._temp_setActions(me),Q.publicApi;{const ve=yw(C);return D.createObject(z,se,ve,me).publicApi}}get sequence(){return q(this).getSequence().publicApi}get project(){return q(this).project.publicApi}get address(){return g({},q(this).address)}detachObject(m){const C=q(this),I=_w(m);if(!C.getObject(I)){gh.warning(`Couldn't delete object "${I}"`,`There is no object with key "${I}".

To fix this, make sure you are calling \`sheet.deleteObject("${I}")\` with the correct key.`),console.warn(`Object key "${I}" does not exist.`);return}C.deleteObject(I)}},ag=E(kr),KQ=class{constructor(m,C){this.template=m,this.instanceId=C,b(this,"_objects",new ag.Atom({})),b(this,"_sequence"),b(this,"address"),b(this,"publicApi"),b(this,"project"),b(this,"objectsP",this._objects.pointer),b(this,"type","Theatre_Sheet"),b(this,"_logger"),this._logger=m.project._logger.named("Sheet",C),this._logger._trace("creating sheet"),this.project=m.project,this.address=A(g({},m.address),{sheetInstanceId:this.instanceId}),this.publicApi=new JQ(this)}createObject(m,C,I,D={}){const Q=this.template.getObjectTemplate(m,C,I,D).createInstance(this,C,I);return this._objects.setByPointer(se=>se[m],Q),Q}getObject(m){return this._objects.get()[m]}deleteObject(m){this._objects.reduce(C=>{const I=g({},C);return delete I[m],I})}getSequence(){if(!this._sequence){const m=(0,ag.prism)(()=>{const I=(0,ag.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return $Q(I)}),C=(0,ag.prism)(()=>{const I=(0,ag.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return YQ(I)});this._sequence=new SQ(this.template.project,this,m,C)}return this._sequence}},$Q=m=>typeof m=="number"&&isFinite(m)&&m>0?m:10,YQ=m=>typeof m=="number"&&SG(m)&&m>=1&&m<=1e3?m:30,qQ=class{constructor(m,C){this.project=m,b(this,"type","Theatre_SheetTemplate"),b(this,"address"),b(this,"_instances",new uT.Atom({})),b(this,"instancesP",this._instances.pointer),b(this,"_objectTemplates",new uT.Atom({})),b(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=A(g({},m.address),{sheetId:C})}getInstance(m){let C=this._instances.get()[m];return C||(C=new KQ(this,m),this._instances.setByPointer(I=>I[m],C)),C}getObjectTemplate(m,C,I,D){let z=this._objectTemplates.get()[m];return z||(z=new aQ(this,m,C,I,D),this._objectTemplates.setByPointer(Q=>Q[m],z)),z}},xw=E(kr),wT=E(kr),XQ=m=>new Promise(C=>setTimeout(C,m)),ZQ=XQ;function vo(m){for(var C=arguments.length,I=Array(C>1?C-1:0),D=1;D<C;D++)I[D-1]=arguments[D];throw Error("[Immer] minified error nr: "+m+(I.length?" "+I.map(function(z){return"'"+z+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function md(m){return!!m&&!!m[Es]}function gd(m){return!!m&&(function(C){if(!C||typeof C!="object")return!1;var I=Object.getPrototypeOf(C);if(I===null)return!0;var D=Object.hasOwnProperty.call(I,"constructor")&&I.constructor;return D===Object||typeof D=="function"&&Function.toString.call(D)===l9}(m)||Array.isArray(m)||!!m[PT]||!!m.constructor[PT]||Cw(m)||Ew(m))}function e9(m){return md(m)||vo(23,m),m[Es].t}function lg(m,C,I){I===void 0&&(I=!1),vh(m)===0?(I?Object.keys:kw)(m).forEach(function(D){I&&typeof D=="symbol"||C(D,m[D],m)}):m.forEach(function(D,z){return C(z,D,m)})}function vh(m){var C=m[Es];return C?C.i>3?C.i-4:C.i:Array.isArray(m)?1:Cw(m)?2:Ew(m)?3:0}function ww(m,C){return vh(m)===2?m.has(C):Object.prototype.hasOwnProperty.call(m,C)}function t9(m,C){return vh(m)===2?m.get(C):m[C]}function CT(m,C,I){var D=vh(m);D===2?m.set(C,I):D===3?(m.delete(C),m.add(I)):m[C]=I}function n9(m,C){return m===C?m!==0||1/m==1/C:m!=m&&C!=C}function Cw(m){return o9&&m instanceof Map}function Ew(m){return a9&&m instanceof Set}function Ad(m){return m.o||m.t}function Sw(m){if(Array.isArray(m))return Array.prototype.slice.call(m);var C=c9(m);delete C[Es];for(var I=kw(C),D=0;D<I.length;D++){var z=I[D],Q=C[z];Q.writable===!1&&(Q.writable=!0,Q.configurable=!0),(Q.get||Q.set)&&(C[z]={configurable:!0,writable:!0,enumerable:Q.enumerable,value:m[z]})}return Object.create(Object.getPrototypeOf(m),C)}function bw(m,C){return C===void 0&&(C=!1),Iw(m)||md(m)||!gd(m)||(vh(m)>1&&(m.set=m.add=m.clear=m.delete=r9),Object.freeze(m),C&&lg(m,function(I,D){return bw(D,!0)},!0)),m}function r9(){vo(2)}function Iw(m){return m==null||typeof m!="object"||Object.isFrozen(m)}function vl(m){var C=u9[m];return C||vo(18,m),C}function ET(){return cg}function Bw(m,C){C&&(vl("Patches"),m.u=[],m.s=[],m.v=C)}function Kv(m){Mw(m),m.p.forEach(i9),m.p=null}function Mw(m){m===cg&&(cg=m.l)}function ST(m){return cg={p:[],l:cg,h:m,m:!0,_:0}}function i9(m){var C=m[Es];C.i===0||C.i===1?C.j():C.O=!0}function Tw(m,C){C._=C.p.length;var I=C.p[0],D=m!==void 0&&m!==I;return C.h.g||vl("ES5").S(C,m,D),D?(I[Es].P&&(Kv(C),vo(4)),gd(m)&&(m=$v(C,m),C.l||Yv(C,m)),C.u&&vl("Patches").M(I[Es],m,C.u,C.s)):m=$v(C,I,[]),Kv(C),C.u&&C.v(C.u,C.s),m!==RT?m:void 0}function $v(m,C,I){if(Iw(C))return C;var D=C[Es];if(!D)return lg(C,function(Q,se){return bT(m,D,C,Q,se,I)},!0),C;if(D.A!==m)return C;if(!D.P)return Yv(m,D.t,!0),D.t;if(!D.I){D.I=!0,D.A._--;var z=D.i===4||D.i===5?D.o=Sw(D.k):D.o;lg(D.i===3?new Set(z):z,function(Q,se){return bT(m,D,z,Q,se,I)}),Yv(m,z,!1),I&&m.u&&vl("Patches").R(D,I,m.u,m.s)}return D.o}function bT(m,C,I,D,z,Q){if(md(z)){var se=$v(m,z,Q&&C&&C.i!==3&&!ww(C.D,D)?Q.concat(D):void 0);if(CT(I,D,se),!md(se))return;m.m=!1}if(gd(z)&&!Iw(z)){if(!m.h.F&&m._<1)return;$v(m,z),C&&C.A.l||Yv(m,z)}}function Yv(m,C,I){I===void 0&&(I=!1),m.h.F&&m.m&&bw(C,I)}function Rw(m,C){var I=m[Es];return(I?Ad(I):m)[C]}function IT(m,C){if(C in m)for(var I=Object.getPrototypeOf(m);I;){var D=Object.getOwnPropertyDescriptor(I,C);if(D)return D;I=Object.getPrototypeOf(I)}}function Pw(m){m.P||(m.P=!0,m.l&&Pw(m.l))}function Dw(m){m.o||(m.o=Sw(m.t))}function Lw(m,C,I){var D=Cw(C)?vl("MapSet").N(C,I):Ew(C)?vl("MapSet").T(C,I):m.g?function(z,Q){var se=Array.isArray(z),me={i:se?1:0,A:Q?Q.A:ET(),P:!1,I:!1,D:{},l:Q,t:z,k:null,o:null,j:null,C:!1},ve=me,Ce=qv;se&&(ve=[me],Ce=Xv);var Ge=Proxy.revocable(ve,Ce),We=Ge.revoke,tt=Ge.proxy;return me.k=tt,me.j=We,tt}(C,I):vl("ES5").J(C,I);return(I?I.A:ET()).p.push(D),D}function s9(m){return md(m)||vo(22,m),function C(I){if(!gd(I))return I;var D,z=I[Es],Q=vh(I);if(z){if(!z.P&&(z.i<4||!vl("ES5").K(z)))return z.t;z.I=!0,D=BT(I,Q),z.I=!1}else D=BT(I,Q);return lg(D,function(se,me){z&&t9(z.t,se)===me||CT(D,se,C(me))}),Q===3?new Set(D):D}(m)}function BT(m,C){switch(C){case 2:return new Map(m);case 3:return Array.from(m)}return Sw(m)}var MT,cg,Fw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",o9=typeof Map<"u",a9=typeof Set<"u",TT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",RT=Fw?Symbol.for("immer-nothing"):((MT={})["immer-nothing"]=!0,MT),PT=Fw?Symbol.for("immer-draftable"):"__$immer_draftable",Es=Fw?Symbol.for("immer-state"):"__$immer_state",l9=""+Object.prototype.constructor,kw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:Object.getOwnPropertyNames,c9=Object.getOwnPropertyDescriptors||function(m){var C={};return kw(m).forEach(function(I){C[I]=Object.getOwnPropertyDescriptor(m,I)}),C},u9={},qv={get:function(m,C){if(C===Es)return m;var I=Ad(m);if(!ww(I,C))return function(z,Q,se){var me,ve=IT(Q,se);return ve?"value"in ve?ve.value:(me=ve.get)===null||me===void 0?void 0:me.call(z.k):void 0}(m,I,C);var D=I[C];return m.I||!gd(D)?D:D===Rw(m.t,C)?(Dw(m),m.o[C]=Lw(m.A.h,D,m)):D},has:function(m,C){return C in Ad(m)},ownKeys:function(m){return Reflect.ownKeys(Ad(m))},set:function(m,C,I){var D=IT(Ad(m),C);if(D!=null&&D.set)return D.set.call(m.k,I),!0;if(!m.P){var z=Rw(Ad(m),C),Q=z==null?void 0:z[Es];if(Q&&Q.t===I)return m.o[C]=I,m.D[C]=!1,!0;if(n9(I,z)&&(I!==void 0||ww(m.t,C)))return!0;Dw(m),Pw(m)}return m.o[C]===I&&typeof I!="number"&&(I!==void 0||C in m.o)||(m.o[C]=I,m.D[C]=!0,!0)},deleteProperty:function(m,C){return Rw(m.t,C)!==void 0||C in m.t?(m.D[C]=!1,Dw(m),Pw(m)):delete m.D[C],m.o&&delete m.o[C],!0},getOwnPropertyDescriptor:function(m,C){var I=Ad(m),D=Reflect.getOwnPropertyDescriptor(I,C);return D&&{writable:!0,configurable:m.i!==1||C!=="length",enumerable:D.enumerable,value:I[C]}},defineProperty:function(){vo(11)},getPrototypeOf:function(m){return Object.getPrototypeOf(m.t)},setPrototypeOf:function(){vo(12)}},Xv={};lg(qv,function(m,C){Xv[m]=function(){return arguments[0]=arguments[0][0],C.apply(this,arguments)}}),Xv.deleteProperty=function(m,C){return qv.deleteProperty.call(this,m[0],C)},Xv.set=function(m,C,I){return qv.set.call(this,m[0],C,I,m[0])};var d9=function(){function m(I){var D=this;this.g=TT,this.F=!0,this.produce=function(z,Q,se){if(typeof z=="function"&&typeof Q!="function"){var me=Q;Q=z;var ve=D;return function(Ct){var vt=this;Ct===void 0&&(Ct=me);for(var $t=arguments.length,wn=Array($t>1?$t-1:0),rn=1;rn<$t;rn++)wn[rn-1]=arguments[rn];return ve.produce(Ct,function(gn){var Ri;return(Ri=Q).call.apply(Ri,[vt,gn].concat(wn))})}}var Ce;if(typeof Q!="function"&&vo(6),se!==void 0&&typeof se!="function"&&vo(7),gd(z)){var Ge=ST(D),We=Lw(D,z,void 0),tt=!0;try{Ce=Q(We),tt=!1}finally{tt?Kv(Ge):Mw(Ge)}return typeof Promise<"u"&&Ce instanceof Promise?Ce.then(function(Ct){return Bw(Ge,se),Tw(Ct,Ge)},function(Ct){throw Kv(Ge),Ct}):(Bw(Ge,se),Tw(Ce,Ge))}if(!z||typeof z!="object")return(Ce=Q(z))===RT?void 0:(Ce===void 0&&(Ce=z),D.F&&bw(Ce,!0),Ce);vo(21,z)},this.produceWithPatches=function(z,Q){return typeof z=="function"?function(ve){for(var Ce=arguments.length,Ge=Array(Ce>1?Ce-1:0),We=1;We<Ce;We++)Ge[We-1]=arguments[We];return D.produceWithPatches(ve,function(tt){return z.apply(void 0,[tt].concat(Ge))})}:[D.produce(z,Q,function(ve,Ce){se=ve,me=Ce}),se,me];var se,me},typeof(I==null?void 0:I.useProxies)=="boolean"&&this.setUseProxies(I.useProxies),typeof(I==null?void 0:I.autoFreeze)=="boolean"&&this.setAutoFreeze(I.autoFreeze)}var C=m.prototype;return C.createDraft=function(I){gd(I)||vo(8),md(I)&&(I=s9(I));var D=ST(this),z=Lw(this,I,void 0);return z[Es].C=!0,Mw(D),z},C.finishDraft=function(I,D){var z=I&&I[Es],Q=z.A;return Bw(Q,D),Tw(void 0,Q)},C.setAutoFreeze=function(I){this.F=I},C.setUseProxies=function(I){I&&!TT&&vo(20),this.g=I},C.applyPatches=function(I,D){var z;for(z=D.length-1;z>=0;z--){var Q=D[z];if(Q.path.length===0&&Q.op==="replace"){I=Q.value;break}}var se=vl("Patches").$;return md(I)?se(I,D):this.produce(I,function(me){return se(me,D.slice(z+1))})},m}(),Xs=new d9;Xs.produce,Xs.produceWithPatches.bind(Xs),Xs.setAutoFreeze.bind(Xs),Xs.setUseProxies.bind(Xs),Xs.applyPatches.bind(Xs),Xs.createDraft.bind(Xs),Xs.finishDraft.bind(Xs);var f9={currentProjectStateDefinitionVersion:"0.4.0"},Ow=f9;async function h9(m,C,I){await ZQ(0),m.transaction(({drafts:D})=>{var z;const Q=C.address.projectId;D.ephemeral.coreByProject[Q]={lastExportedObject:null,loadingState:{type:"loading"}},D.ahistoric.coreByProject[Q]={ahistoricStuff:""};function se(){D.ephemeral.coreByProject[Q].loadingState={type:"loaded"},D.historic.coreByProject[Q]={sheetsById:{},definitionVersion:Ow.currentProjectStateDefinitionVersion,revisionHistory:[]}}function me(We){D.ephemeral.coreByProject[Q].loadingState={type:"loaded"},D.historic.coreByProject[Q]=We}function ve(){D.ephemeral.coreByProject[Q].loadingState={type:"loaded"}}function Ce(We){D.ephemeral.coreByProject[Q].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:We}}const Ge=(z=e9(D.historic))==null?void 0:z.coreByProject[C.address.projectId];Ge?I&&Ge.revisionHistory.indexOf(I.revisionHistory[0])==-1?Ce(I):ve():I?me(I):se()})}function DT(){}function LT(m){var C,I;const D=(C=m==null?void 0:m.logging)!=null&&C.internal?(I=m.logging.min)!=null?I:mh.WARN:1/0,z=D<=mh.DEBUG,Q=D<=mh.ERROR,se=iT(void 0,{_debug:z?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):DT,_error:Q?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):DT});if(m){const{logger:me,logging:ve}=m;me&&se.configureLogger(me),ve?se.configureLogging(ve):se.configureLogging({dev:!1})}return se.getLogger().named("Theatre")}var p9=class{constructor(m,C={},I){this.config=C,this.publicApi=I,b(this,"pointers"),b(this,"_pointerProxies"),b(this,"address"),b(this,"_studioReadyDeferred"),b(this,"_assetStorageReadyDeferred"),b(this,"_readyPromise"),b(this,"_sheetTemplates",new wT.Atom({})),b(this,"sheetTemplatesP",this._sheetTemplates.pointer),b(this,"_studio"),b(this,"assetStorage"),b(this,"type","Theatre_Project"),b(this,"_logger");var D;this._logger=LT({logging:{dev:!0}}).named("Project",m),this._logger.traceDev("creating project"),this.address={projectId:m};const z=new wT.Atom({ahistoric:{ahistoricStuff:""},historic:(D=C.state)!=null?D:{sheetsById:{},definitionVersion:Ow.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=bc(),this.assetStorage={getAssetUrl:Q=>{var se;return`${(se=C.assets)==null?void 0:se.baseUrl}/${Q}`},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new xw.PointerProxy(z.pointer.historic),ahistoric:new xw.PointerProxy(z.pointer.ahistoric),ephemeral:new xw.PointerProxy(z.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},Z.add(m,this),this._studioReadyDeferred=bc(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),C.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error(`Argument config.state in Theatre.getProject("${m}", config) is empty. You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state`):setTimeout(()=>{if(!this._studio)throw new Error(`Argument config.state in Theatre.getProject("${m}", config) is empty. This is fine while you are using @theatre/core along with @theatre/studio. But since @theatre/studio is not loaded, the state of project "${m}" will be empty.

To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(m){if(this._studio){if(this._studio!==m)throw new Error(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);console.warn(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);return}this._studio=m,m.initialized.then(async()=>{var C;await h9(m,this,this.config.state),this._pointerProxies.historic.setPointer(m.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(m.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(m.atomP.ephemeral.coreByProject[this.address.projectId]),m.createAssetStorage(this,(C=this.config.assets)==null?void 0:C.baseUrl).then(I=>{this.assetStorage=I,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(m,C="default"){let I=this._sheetTemplates.get()[m];return I||(I=new qQ(this,m),this._sheetTemplates.reduce(D=>A(g({},D),{[m]:I}))),I.getInstance(C)}},m9=class{get type(){return"Theatre_Project_PublicAPI"}constructor(m,C={}){de(this,new p9(m,C,this))}get ready(){return q(this).ready}get isReady(){return q(this).isReady()}get address(){return g({},q(this).address)}getAssetUrl(m){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return m.id?q(this).assetStorage.getAssetUrl(m.id):void 0}sheet(m,C="default"){const I=_w(m);return q(this).getOrCreateSheet(I,C).publicApi}};E(T());var FT=E(kr),Nw=E(kr);function kT(m,C={}){const I=Z.get(m);if(I)return I.publicApi;const z=LT().named("Project",m);return C.state?(A9(m,C.state),z._debug("deep validated config.state on disk")):z._debug("no config.state"),new m9(m,C)}var g9=(m,C)=>{if(Array.isArray(C)||C==null||C.definitionVersion!==Ow.currentProjectStateDefinitionVersion)throw new Hv(`Error validating conf.state in Theatre.getProject(${JSON.stringify(m)}, conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state`)},A9=(m,C)=>{g9(m,C)};function Uw(m,C,I){const D=I?q(I).ticker:hT();if((0,FT.isPointer)(m))return(0,Nw.pointerToPrism)(m).onChange(D,C,!0);if((0,Nw.isPrism)(m))return m.onChange(D,C,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function OT(m){if((0,FT.isPointer)(m))return(0,Nw.pointerToPrism)(m).getValue();throw new Error("Called val(p) where p is not a pointer.")}var v9=class{constructor(){b(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.6.0"}getBitsForStudio(m,C){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=m;const I={projectsP:Z.atom.pointer.projects,privateAPI:q,coreExports:O,getCoreRafDriver:fT};C(I)}};y9();function y9(){if(typeof window>"u")return;const m=window[mw];if(typeof m<"u")throw typeof m=="object"&&m&&typeof m.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error(`The variable window.${mw} seems to be already set by a module other than @theatre/core.`);const C=new v9;window[mw]=C;const I=window[AQ];I&&I!==null&&I.type==="Theatre_StudioBundle"&&I.registerCoreBundle(C)}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */})(x_,x_.exports);var Gl=x_.exports,FZ=Object.create,Ix=Object.defineProperty,kZ=Object.defineProperties,OZ=Object.getOwnPropertyDescriptor,NZ=Object.getOwnPropertyDescriptors,UZ=Object.getOwnPropertyNames,w_=Object.getOwnPropertySymbols,zZ=Object.getPrototypeOf,nM=Object.prototype.hasOwnProperty,z4=Object.prototype.propertyIsEnumerable,n3=(t,e,n)=>e in t?Ix(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,or=(t,e)=>{for(var n in e||(e={}))nM.call(e,n)&&n3(t,n,e[n]);if(w_)for(var n of w_(e))z4.call(e,n)&&n3(t,n,e[n]);return t},zi=(t,e)=>kZ(t,NZ(e)),GZ=t=>Ix(t,"__esModule",{value:!0}),rM=(t,e)=>{var n={};for(var r in t)nM.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&w_)for(var r of w_(t))e.indexOf(r)<0&&z4.call(t,r)&&(n[r]=t[r]);return n},QZ=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},HZ=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of UZ(e))!nM.call(t,r)&&r!=="default"&&Ix(t,r,{get:()=>e[r],enumerable:!(n=OZ(e,r))||n.enumerable});return t},VZ=t=>HZ(GZ(Ix(t!=null?FZ(zZ(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),WZ=QZ({"../../node_modules/zustand/vanilla.js"(t){Object.defineProperty(t,"__esModule",{value:!0});function e(n){var r,i=new Set,s=function(p,g){var A=typeof p=="function"?p(r):p;if(A!==r){var v=r;r=g?A:Object.assign({},r,A),i.forEach(function(y){return y(r,v)})}},o=function(){return r},a=function(p,g,A){g===void 0&&(g=o),A===void 0&&(A=Object.is);var v=g(r);function y(){var w=g(r);if(!A(v,w)){var x=v;p(v=w,x)}}return i.add(y),function(){return i.delete(y)}},l=function(p,g,A){return g||A?a(p,g,A):(i.add(p),function(){return i.delete(p)})},c=function(){return i.clear()},u={setState:s,getState:o,subscribe:l,destroy:c};return r=n(s,o,u),u}t.default=e}}),jZ=VZ(WZ()),r3=new WeakSet,JZ=(t,e)=>({sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new Ha,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:(n,r)=>{t({scene:n,gl:r}),e().createSnapshot()},addEditable:(n,r)=>{t(i=>({editables:zi(or({},i.editables),{[n]:r})}))},removeEditable:n=>{t(r=>{const i=or({},r.editables);return delete i[n],{editables:i}})},createSnapshot:()=>{t(n=>{var r,i;return{sceneSnapshot:(i=(r=n.scene)==null?void 0:r.clone())!=null?i:null,editablesSnapshot:n.editables}})},setSnapshotProxyObject:(n,r)=>{t(i=>({editablesSnapshot:zi(or({},i.editablesSnapshot),{[r]:zi(or({},i.editablesSnapshot[r]),{proxyObject:n})})}))}}),Qp=(0,jZ.default)(JZ),KZ=({gl:t,scene:e})=>{const n=Qp.getState().init;n(e,t)};function $Z(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iM=$Z;function YZ(){return yi(({invalidate:t})=>t)}var G4=M.createContext(void 0),qZ=()=>{const t=M.useContext(G4);if(!t)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return t},XZ=()=>qZ().sheet,ZZ=({sheet:t,children:e})=>{const{scene:n,gl:r}=yi(i=>({scene:i.scene,gl:i.gl}));return M.useEffect(()=>{if(!t||t.type!=="Theatre_Sheet_PublicAPI")throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")},[t]),M.useLayoutEffect(()=>{KZ({gl:r,scene:n})},[n,r]),X.createElement(G4.Provider,{value:{sheet:t}},e)},Q4=ZZ;function H4(t){return typeof t=="number"&&isFinite(t)}function eee(t){return["x","y","z"].every(e=>H4(t[e]))}var Eb=t=>t?{x:t[0],y:t[1],z:t[2]}:{x:0,y:0,z:0},uE=(t,e=Eb(),{nudgeMultiplier:n=.01}={})=>({parse:r=>{const i=r[t],s=i?Array.isArray(i)?Eb(i):H4(i)?{x:i,y:i,z:i}:eee(i)?{x:i.x,y:i.y,z:i.z}:(Gl.notify.warning(`Invalid value for vector prop "${t}"`,`Couldn't make sense of \`${t}={${JSON.stringify(i)}}\`, falling back to \`${t}={${JSON.stringify([e.x,e.y,e.z])}}\`.

To fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`),e):e;return["x","y","z"].forEach(o=>{r[`${t}-${o}`]&&(s[o]=r[`${t}-${o}`])}),s},apply:(r,i)=>{i[t].set(r.x,r.y,r.z)},type:{[t]:{x:Gl.types.number(e.x,{nudgeMultiplier:n}),y:Gl.types.number(e.y,{nudgeMultiplier:n}),z:Gl.types.number(e.z,{nudgeMultiplier:n})}}}),Is=(t,e=0,{nudgeMultiplier:n=.01}={})=>({parse:r=>{var i;return(i=r[t])!=null?i:e},apply:(r,i)=>{i[t]=r},type:{[t]:Gl.types.number(e,{nudgeMultiplier:n})}}),jh=(t,e=new Ve(0,0,0))=>({parse:n=>{var r;return zi(or({},(r=n[t])!=null?r:e),{a:1})},apply:(n,r)=>{r[t].setRGB(n.r,n.g,n.b)},type:{[t]:Gl.types.rgba(zi(or({},e),{a:1}))}}),fA=(t,e)=>zi(or({},t),{props:or(or({},t.props),e)}),Pl={props:{position:uE("position"),rotation:uE("rotation"),scale:uE("scale",Eb([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:t=>new A_(t,Jh)},i3=zi(or({},fA(Pl,{intensity:Is("intensity",1),distance:Is("distance"),decay:Is("decay"),color:jh("color",new Ve("white"))})),{dimensionless:!0}),s3=zi(or({},fA(Pl,{near:Is("near",.1,{nudgeMultiplier:.1}),far:Is("far",2e3,{nudgeMultiplier:.1})})),{updateObject:t=>{t.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:t=>new qN(t)}),Jh="#40AAA4",tee={group:zi(or({},Pl),{icon:"collection",createHelper:t=>new A_(t,Jh)}),mesh:zi(or({},Pl),{icon:"cube",createHelper:t=>new A_(t,Jh)}),spotLight:zi(or({},fA(i3,{angle:Is("angle",0,{nudgeMultiplier:.001}),penumbra:Is("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:t=>new JN(t,Jh)}),directionalLight:zi(or({},fA(Pl,{intensity:Is("intensity",1),color:jh("color",new Ve("white"))})),{icon:"sun",dimensionless:!0,createHelper:t=>new YN(t,1,Jh)}),pointLight:zi(or({},i3),{icon:"lightBulb",createHelper:t=>new $N(t,1,Jh)}),ambientLight:{props:{intensity:Is("intensity",1),color:jh("color",new Ve("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:Is("intensity",1),color:jh("color",new Ve("white")),groundColor:jh("groundColor",new Ve("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:fA(s3,{fov:Is("fov",50,{nudgeMultiplier:.1}),zoom:Is("zoom",1)}),orthographicCamera:s3,points:Pl,line:Pl,lineLoop:Pl,lineSegments:Pl,fog:{props:{color:jh("color"),near:Is("near",1,{nudgeMultiplier:.1}),far:Is("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},nee=tee;Qp.getState().createSnapshot;var ree=t=>`${t.sheetId}:${t.sheetInstanceId}:${t.objectKey}`,iee=M.createContext(void 0),see=()=>{var t;return(t=M.useContext(iee))==null?void 0:t.rafDriver},oee=t=>{const e=(r,i)=>{if(r!=="primitive"&&!i)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return M.forwardRef((s,o)=>{var a=s,{theatreKey:l,visible:c,editableType:u,additionalProps:h,objRef:p}=a,g=rM(a,["theatreKey","visible","editableType","additionalProps","objRef"]);if(typeof l!="string")throw new Error(`No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${l}`);if(r==="primitive"&&!u)throw new Error(`When using the primitive component, you must provide the editableType prop. Received: ${u}`);const A=i??u,v=M.useRef(),y=XZ(),w=see(),[x,E]=M.useState(void 0),b=M.useMemo(()=>ree(zi(or({},y.address),{objectKey:l})),[y,l]),P=YZ();return M.useEffect(()=>{if(r==="perspectiveCamera"||r==="orthographicCamera"){const R=r.charAt(0).toUpperCase()+r.slice(1);Gl.notify.warning(`Possibly incorrect use of <e.${r} />`,`You seem to have declared the camera "${l}" simply as \`<e.${r} ... />\`. This alone won't make r3f use it for rendering.

The easiest way to create a custom animatable \`${R}\` is to import it from \`@react-three/drei\`, and make it editable.
\`\`\`
import {${R}} from '@react-three/drei'

const EditableCamera =
  editable(${R}, '${r}')
\`\`\`
Then you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.
\`\`\`
<EditableCamera
  theatreKey="${l}"
  makeDefault
>
\`\`\`
`)}},[r,l]),M.useLayoutEffect(()=>{if(y)if(x){y.object(l,Object.assign(or({},h),...Object.values(t[A].props).map(R=>R.type)),{reconfigure:!0});return}else{const R=y.object(l,Object.assign(or({},h),...Object.values(t[A].props).map(F=>F.type)));r3.add(R),E(R),p&&(typeof p=="function"?p(R):p.current=R),Qp.getState().addEditable(b,{type:A,sheetObject:R,visibleOnlyInEditor:c==="editor",objectConfig:t[A]})}},[y,b,h]),M.useLayoutEffect(()=>{x&&(x.initialValue=Object.fromEntries(Object.entries(t[A].props).map(([R,F])=>[R,F.parse(g)])))},[x,...Object.keys(t[A].props).map(R=>g[R])]),M.useLayoutEffect(()=>{if(!x)return;const R=v.current,F=O=>{var U,W;Object.entries(t[A].props).forEach(([ee,Z])=>Z.apply(O[ee],R)),(W=(U=t[A]).updateObject)==null||W.call(U,R),P()};F(x.value);const T=x.onValuesChange(F,w);return()=>{T(),x.sheet.detachObject(l),r3.delete(x),Qp.getState().removeEditable(b)}},[x,w]),X.createElement(r,zi(or({ref:iM([v,o])},g),{visible:c!=="editor"&&c,userData:{__editable:!0,__storeKey:b}}))})},n=zi(or({},Object.fromEntries(Object.keys(t).map(r=>[r,e(r,r)]))),{primitive:e("primitive",null)});return Object.assign(e,n)},aee=oee(nee),Va=aee,lee=Va(M.forwardRef((t,e)=>{var n=t,{makeDefault:r,lookAt:i}=n,s=rM(n,["makeDefault","lookAt"]);const o=yi(({set:u})=>u),a=yi(({camera:u})=>u),l=yi(({size:u})=>u),c=M.useRef(null);return M.useLayoutEffect(()=>{s.manual||(c.current.aspect=l.width/l.height)},[l,s]),M.useLayoutEffect(()=>{c.current.updateProjectionMatrix()}),M.useLayoutEffect(()=>{if(r){const u=a;return o(()=>({camera:c.current})),()=>o(()=>({camera:u}))}},[c,r,o]),ic(()=>{var u;if(i&&c.current){c.current.lookAt(Array.isArray(i)?new H(...i):i.current?i.current.position:i);const h=Qp.getState().editablesSnapshot;h&&((u=h[c.current.userData.__storeKey].proxyObject)==null||u.rotation.copy(c.current.rotation))}}),M.createElement("perspectiveCamera",or({ref:iM([c,e])},s))}),"perspectiveCamera");Va(M.forwardRef((t,e)=>{var n=t,{makeDefault:r,lookAt:i}=n,s=rM(n,["makeDefault","lookAt"]);const o=yi(({set:u})=>u),a=yi(({camera:u})=>u),l=yi(({size:u})=>u),c=M.useRef(null);return M.useLayoutEffect(()=>{s.manual||c.current.updateProjectionMatrix()},[l,s]),M.useLayoutEffect(()=>{c.current.updateProjectionMatrix()}),M.useLayoutEffect(()=>{if(r){const u=a;return o(()=>({camera:c.current})),()=>o(()=>({camera:u}))}},[c,r,o]),ic(()=>{var u;if(i&&c.current){c.current.lookAt(Array.isArray(i)?new H(...i):i.current?i.current.position:i);const h=Qp.getState().editablesSnapshot;h&&((u=h[c.current.userData.__storeKey].proxyObject)==null||u.rotation.copy(c.current.rotation))}}),M.createElement("orthographicCamera",or({left:l.width/-2,right:l.width/2,top:l.height/2,bottom:l.height/-2,ref:iM([c,e])},s))}),"orthographicCamera");function cee(){const[t,e]=M.useState(!1),n=()=>Tt(C4,{transform:!0,wrapperClass:"browser",distanceFactor:.97,position:[.025,.85,-.65],occlude:!0,children:[Tt("div",{className:"browser-tab",children:[Tt("button",{onClick:()=>c(1),className:a===1?"active":"",children:["Danney",G("a",{target:"_blank",href:"https://danneytrieu.design/",children:G(cE,{})})]}),Tt("button",{onClick:()=>c(2),className:a===2?"active":"",children:["Sean",G("a",{target:"_blank",href:"https://seantai.dev/",children:G(cE,{})})]}),Tt("button",{onClick:()=>c(3),className:a===3?"active":"",children:["Jane",G("a",{target:"_blank",href:"https://jane-moroz-dev.netlify.app/",children:G(cE,{})})]})]}),G("iframe",{title:`project ${a}`,src:u()})]}),r=us("https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/table-wood/model.gltf"),i=us("https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/bench-2/model.gltf"),{nodes:s,materials:o}=us("./models/laptop/laptop.glb"),[a,l]=M.useState(1),c=A=>{l(A)},u=()=>{switch(a){case 1:return"https://danneytrieu.design/";case 2:return"https://seantai.dev/";case 3:return"https://jane-moroz-dev.netlify.app/";default:return"https://danneytrieu.design/"}},h=M.useRef(),[p,g]=M.useState(null);return M.useEffect(()=>p?p.onValuesChange(v=>{v.foo>.79265&&v.foo<.865?e(!0):e(!1)}):void 0,[p]),Tt("group",{position:[1,-.7,2],rotation:[0,-Math.PI+.8,0],children:[G("primitive",{object:r.scene}),G("primitive",{object:i.scene,position:[-.2,0,1.2],scale:"0.7"}),Tt("group",{position:[0,.75,.3],scale:.3,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh485226736.geometry,material:o.mat16}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh485226736_1.geometry,material:o.mat23}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh485226736_2.geometry,material:o.mat17}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh485226736_3.geometry,material:o.mat15}),Tt(Va.group,{theatreKey:"lid",children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh256948792.geometry,material:o.mat16}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh256948792_1.geometry,material:o.mat23}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh256948792_2.geometry,material:o.mat17}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.mesh256948792_3.geometry,material:o.mat25})]}),G(Va.group,{theatreKey:"screen",ref:h,objRef:g,additionalProps:{foo:0},children:t&&n()})]})]})}function uee({text:t="Enter text as param",...e}){const n=bx("./images/matcap.png");return G(ec,{children:Tt(fZ,{font:"./fonts/Bebas Neue_Regular.json",size:3.5,height:.5,curveSegments:20,bevelEnabled:!0,bevelThickness:.15,bevelSize:.15,bevelOffset:0,bevelSegments:1,letterSpacing:.2,position:[-15,17,12],rotation:[1.55,-Math.PI+0,2.81],...e,children:[t,G("meshMatcapMaterial",{matcap:n,wireframes:!0,transparent:!0,opacity:.8})]})})}function dee(t){const{nodes:e,materials:n}=us("models/island/Floating Port-transformed.glb");return Tt("group",{scale:2,...t,dispose:null,children:[Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bamboo_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-10.81,2.67,-1.92]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Bamboo_1_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[5.75,2.67,-8.01]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Bamboo_1_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.74,2.67,7.04]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bamboo_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-9.41,2.67,3.86]})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Box_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.73,2.75,.04],rotation:[Math.PI,-.94,-Math.PI]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Box_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.74,2.75,.27],rotation:[Math.PI,-.14,-Math.PI]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Boat.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.49,2.57,7.54],rotation:[0,-.48,0]})]}),G("group",{position:[.09,2.02,4.64],scale:1.33,children:G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bridge_1_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.67,2.59,6.53],scale:.61})}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Grass_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.73,2.63,-2.58],rotation:[1.45,0,2.33]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.61,2.8,-1.87],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.77,2.75,-3.11],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(3)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.69,2.75,-1.48],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(4)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.24,2.75,-.52],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(5)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.34,2.75,-2.37],rotation:[1.45,0,2.33]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(6)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.19,2.75,-2.39],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(7)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.46,2.75,-4.02],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(8)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[.29,2.75,-3.42],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(9)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.5,2.75,-4.57],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(10)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.73,2.75,-4.46],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(11)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[.49,2.64,-6.04],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(12)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.66,2.75,-4.21],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(13)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.85,2.75,-4.34],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(14)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.35,2.75,-3.1],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(15)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.54,2.75,-3.23],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(16)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.36,2.75,-2.32],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(17)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.56,2.75,-2.45],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(18)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.58,2.75,-1.41],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(19)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.99,2.75,-.42],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(20)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[5.1,2.62,-4.71],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(21)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.24,2.75,1.46],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(22)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.04,2.75,1.34],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(23)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.59,2.75,2.52],rotation:[1.56,.02,2.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Grass_(24)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.06,2.63,-5.21],rotation:[1.45,0,2.33]})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Fire_Wood_&_Stone"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.45,2.56,-4.3],rotation:[-.5,-.51,-.48],scale:1.04}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Rock_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[6.17,3.91,6.88],scale:1.42}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Rock_3.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.14,2.61,-4.74],rotation:[0,-.87,0],scale:1.06}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_3_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-11.26,2.41,-1.12],rotation:[0,-.87,0],scale:1.46}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_3_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[.96,2.5,-6.22],rotation:[Math.PI,-.17,-Math.PI]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_3_(3)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.01,2.55,-4.34],rotation:[0,-.87,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Rock_4.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.63,2.63,-2.15],rotation:[0,-.97,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_4_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.03,2.65,-3.82],rotation:[0,-.63,0],scale:2.56}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_4_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.85,2.69,-2.15],rotation:[0,.6,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_4_(5)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.78,2.49,-5.03],rotation:[0,-.63,0],scale:1.13}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Rock_4_(6)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.4,2.49,-3.59],rotation:[.01,.57,-.06],scale:3.36})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Bench.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.64,2.59,-5.87],rotation:[Math.PI/2,0,-1.05]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Swimming_Chair.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.68,2.66,-5.25],rotation:[0,.34,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Swimming_Chair_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.06,2.66,-5.12],rotation:[0,.16,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Umbrella.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.88,2.78,-5.11],rotation:[-2.89,1.39,2.66]})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Top_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.03,2.75,-4.22],rotation:[3.06,-.44,2.83]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Top_1_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.02,2.84,-.15],rotation:[3.06,-.44,2.83]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Top_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.79,2.7,.9]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Top_2_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.06,2.8,-.86]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Top_3.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.28,2.76,-5.15]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Top_3_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.37,2.71,-2]})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Tree_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.35,2.47,4.78]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_1_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[4.2,2.55,-5.13]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_1_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[5.1,2.38,2.99]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_1_(3)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.65,2.51,2.61]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_1_(4)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.4,2.54,4.27]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_1_(5)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[7.91,2.5,-1.07]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_1_(6)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[6.51,2.59,-2.85]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Tree_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[7.29,2.49,.41]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_2_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[6.25,2.45,-1.94]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Tree_3.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[4.23,2.48,4.76]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_3_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.91,2.49,-6.69]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_3_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-8.07,2.49,1.46]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Tree_4.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[6.69,2.38,-4.29]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_4_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.34,2.41,5.52]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Tree_5.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[5.31,2.56,-4.54]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_5_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.63,2.48,3.46]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Tree_6.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-9.03,2.7,-.01]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_6_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[5.74,2.62,-1.37]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Tree_6_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[.91,2.48,4.78]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Trunk_3.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.94,2.66,-1.63],rotation:[3.05,-.2,-3.13]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Trunk_3_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.56,2.63,1.62],rotation:[3.05,.03,-3.11]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Trunk_3_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.12,2.68,-3.15],rotation:[3.1,.03,-3.11]})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Trunk_Wood_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.97,2.73,1.45],rotation:[-1.38,1.45,-.16]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Trunk_Wood_1_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.17,2.73,1.47],rotation:[-1.38,1.45,-.16]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Trunk_Wood_1_(2)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.07,2.83,1.47],rotation:[1.61,.04,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Trunk_Wood_1_(3)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.88,2.84,1.4],rotation:[1.61,.04,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Trunk_Wood_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.75,2.74,1.43],rotation:[-1.54,-.32,.03]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Trunk_Wood_2_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.35,2.73,1.39],rotation:[1.58,-.23,-3.13]})]}),Tt("group",{position:[.09,2.02,4.64],scale:1.33,children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Wood_Box_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.04,2.78,1.9],rotation:[3.13,0,1.84]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["Wood_Box_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.05,2.69,.14],rotation:[-3.12,.06,3.13]})]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Big_Rock.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[13.68,4.67,3.38],rotation:[0,.13,0],scale:[1.19,1.07,2.1]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Floting_Base.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[.09,-.96,4.62],scale:1.33}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Light_House.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[8.19,5.48,7.52],scale:1.33}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Smoke.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.52,13.07,8.87],rotation:[-Math.PI,0,-Math.PI]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Fance_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.87,5.88,-1.77],rotation:[.08,.2,-.03],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Fance_1-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.05,5.79,.33],rotation:[.08,.7,-.03],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Fance_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-1.96,5.85,-1.54],rotation:[.08,.31,-.01],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Fance_2-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.26,5.79,-.34],rotation:[.08,.65,.03],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Grass.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.06,5.71,.21],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.69,5.69,1.52],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-2"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.98,5.68,1.65],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-3"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.79,5.59,1.97],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-4"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.5,5.58,2.1],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-5"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.57,5.48,3.32],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-6"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.86,5.49,3.45],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-7"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.35,5.49,3.73],rotation:[-3.06,-.33,-3.13],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-8"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.21,5.46,4.01],rotation:[-3.06,-.33,-3.13],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-9"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.65,5.58,3.89],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-10"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.17,5.3,6.4],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-11"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.47,5.16,8.53],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-12"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.87,5.13,8.31],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-13"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.46,5.46,5.25],rotation:[.08,.57,-.01],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Grass-14"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-1.69,5.88,-1.29],rotation:[.08,.57,-.01],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Grass_Roll.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-1.04,5.87,-.96],rotation:[-3.08,-.05,-3.08],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_House.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-.38,7.19,6.81],rotation:[.01,.31,.01],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Rock_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.37,5.04,8.92],rotation:[-3.11,.8,1.61],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Rock_1-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.58,5.49,1.75],rotation:[-3.11,.8,1.61],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Rock_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.59,5.65,1.86],rotation:[-2.73,1.24,2.93],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Rock_2-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.28,5.55,4.14],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Rock_3.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.51,5.73,1.87],rotation:[-3.1,1.26,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Rock_3-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-1.84,5.59,-1.99],rotation:[.04,-1.26,-.04],scale:-.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Rock_3-2"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.25,5.56,3.8],rotation:[.04,-1.26,-.04],scale:-.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Rock_4.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.89,5.23,6.54],rotation:[-3.1,1.26,.04],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_1.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.36,5.38,.65],rotation:[.1,1.13,-.03],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Tree_1-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.27,4.93,8.07],rotation:[.08,.3,-.01],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_2.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-3.1,4.99,8.5],rotation:[2.99,1.19,-3.06],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Tree_2_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[2.17,5.48,-2.47],rotation:[2.99,1.19,-3.06],scale:.53}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_3.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.1,5.2,4.93],rotation:[-2.84,1.04,3.05],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Tree_3-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[.37,5.58,-1.15],rotation:[-2.84,1.04,3.05],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Tree_3_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[5.22,5.37,1.01],rotation:[-2.84,1.04,3.05],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_4.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-2.41,4.76,10.77],rotation:[3.11,.75,3.09],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Tree_4_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.47,5.4,-.04],rotation:[3.11,.75,3.09],scale:.28}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_6.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[3.38,4.96,6.65],rotation:[-2.62,1.35,2.77],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_7.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[4.22,5.18,4.04],rotation:[2.68,1.55,-2.6],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Tree_7_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-5.16,5.43,3.61],rotation:[2.68,1.55,-2.6],scale:.37}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Trunk.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.92,5.51,2.34],rotation:[3.11,1.27,-3.11],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Trunk-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-4.97,5.2,5.75],rotation:[.09,-.53,-.08],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Tree_5.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.79,4.81,9.08],rotation:[3.12,.91,-3.13],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Woods.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.13,5.71,-.32],rotation:[2.01,.9,.97],scale:.71}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.M_Cloud.geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-6.83,12.88,7.85],rotation:[-2.76,.35,2.99]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Cloud-1"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[-7.02,12.49,1.22],rotation:[0,1.51,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Cloud-2"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[7.56,13.94,3.69],rotation:[0,1.14,0]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Cloud-3"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[4.89,13.89,9.35],rotation:[Math.PI,.59,-Math.PI]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e["M_Cloud-1_(1)"].geometry,material:n.Lowpoly_Flaoting_Islands_PortTexture,position:[1.13,12.92,1.04],rotation:[Math.PI,1.07,-Math.PI]})]})}us.preload("models/island/Floating Port-transformed.glb");function fee(t){return G(dee,{})}const hee={Campfire:{staticOverrides:{byObject:{campFireLight:{color:{r:1,g:.30196078431372547,b:0,a:1},intensity:1.5,decay:2,distance:19.619189276647113},particles:{position:{z:-.5,x:-.5,y:1.5},scale:{x:1,y:1,z:1}},campFireBlueLight:{color:{r:.12941176470588237,g:.49019607843137253,b:.7686274509803922,a:1},distance:20,decay:2,intensity:.5},particlesSparks:{position:{y:.4299999999999995,x:-.45999999999999963,z:-.44999999999999973}}}},sequence:{subUnitsPerUnit:30,length:3.31,type:"PositionalSequence",tracksByObject:{campFireLight:{trackData:{"1tRpFzFpsK":{type:"BasicKeyframedTrack",__debugName:'campFireLight:["position","x"]',keyframes:[{id:"Fz-rCuet2z",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"CASTUXsUOc",position:.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"-fBt_Hy4JE",position:.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.52},{id:"pkQJQiYZgg",position:.667,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"Oq7KfRR2iC",position:1.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"vs8XI_KmmT",position:1.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.48},{id:"WvZN_cK7Yj",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"_1GK_7COaI",position:1.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"vi2-O1XzBZ",position:2.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.51},{id:"hcQX8d2inl",position:2.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"eYjt0jq_tj",position:2.8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"pgl7_uDqOh",position:3.067,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.52},{id:"TmUPy_FBgW",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5}]},Y3_1JCrsvA:{type:"BasicKeyframedTrack",__debugName:'campFireLight:["position","y"]',keyframes:[{id:"4Oj-wFFon_",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"orLyQ6W_J_",position:.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"HxI5iTVJzz",position:.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.68},{id:"IFtyM504Fb",position:.667,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"PFKWai9wq7",position:1.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"lWbB3HAzhk",position:1.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.68},{id:"deADFGi0c0",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"FBa918Y8rP",position:1.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"6OWS-S46dH",position:2.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.71},{id:"6Pdy3iDUWU",position:2.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"7f5uo-cjTY",position:2.8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7},{id:"gJvDRj_Ley",position:3.067,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.68},{id:"dD1VYVD0nY",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7}]},DjHHv64Mzw:{type:"BasicKeyframedTrack",__debugName:'campFireLight:["position","z"]',keyframes:[{id:"aXoZL8lJ23",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"IKMs5CDiED",position:.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"T8v1_3G-40",position:.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.49},{id:"Gaz2UV_xWH",position:.667,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"Gtu5eTu9gi",position:1.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"8UzQEw8Bya",position:1.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.49},{id:"jCegv70ttN",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"xhJ540v3wF",position:1.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"fnLYdqLu1l",position:2.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.51},{id:"L22sQtK8hl",position:2.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"WT4JNp2BhC",position:2.8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5},{id:"CCYkMJwMx8",position:3.067,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.52},{id:"crvGO4n86s",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5}]},OnKarw6xpb:{type:"BasicKeyframedTrack",__debugName:'campFireLight:["color"]',keyframes:[{id:"-_qh4J8VtE",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.30196078431372547,b:0,a:1}},{id:"NXngvIuJI-",position:.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.30196078431372547,b:0,a:1}},{id:"cdixN4Co1G",position:.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.9764705882352941,g:.3607843137254902,b:.09803921568627451,a:1}},{id:"MUn3Wd3sda",position:.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.8941176470588236,g:.3215686274509804,b:.07450980392156863,a:1}},{id:"rwQLZevlek",position:1.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.30196078431372547,b:0,a:1}},{id:"hzAQjzG95K",position:1.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.7529411764705882,g:.24705882352941178,b:.027450980392156862,a:1}},{id:"ip98NGhfBp",position:1.733,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.9294117647058824,g:.35294117647058826,b:.10588235294117647,a:1}},{id:"H1bQcXPxRz",position:1.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.30196078431372547,b:0,a:1}},{id:"ojjMcB-xN_",position:2.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.8549019607843137,g:.27058823529411763,b:.0196078431372549,a:1}},{id:"kEYXkTy-FF",position:2.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.9137254901960784,g:.3137254901960784,b:.054901960784313725,a:1}},{id:"-vzpC51K5I",position:2.767,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.8901960784313725,g:.29411764705882354,b:.03529411764705882,a:1}},{id:"hLZuf0TTZ2",position:3.067,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.6980392156862745,g:.22745098039215686,b:.027450980392156862,a:1}},{id:"BlGaPDgj2-",position:3.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.36470588235294116,b:.09019607843137255,a:1}},{id:"DArWPOZY0v",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.30196078431372547,b:0,a:1}}]}},trackIdByPropPath:{'["position","x"]':"1tRpFzFpsK",'["position","y"]':"Y3_1JCrsvA",'["position","z"]':"DjHHv64Mzw",'["color"]':"OnKarw6xpb"}}}}},CameraMovement:{staticOverrides:{byObject:{Camera:{position:{x:-9.740000000000002,y:67.1399999999999,z:26.060000000000105},rotation:{x:0,y:0,z:0},zoom:1.38},CameraTarget:{position:{x:.9100000000000505,y:-1.1400000000000023,z:6.019999999999998}},foo:{position:{x:.02}},lid:{rotation:{x:0}},bubble:{position:{y:-100}},"Section Overlay":{visible:!1},"Bubble Dialogue":{position:{x:-10.47,y:-4.1,z:23},index:0}}},sequence:{subUnitsPerUnit:30,length:11,type:"PositionalSequence",tracksByObject:{Camera:{trackData:{geq1m6cZRP:{type:"BasicKeyframedTrack",__debugName:'Camera:["position","x"]',keyframes:[{id:"BnBAMoII6x",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-9.740000000000002},{id:"lJcTNikW7Q",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-12.438737423874045},{id:"00Vxf8KPEH",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-12.305759065600357},{id:"J3VWaucitn",position:2.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-12.305759065600357},{id:"hnWzcbefiU",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-13.11870004220526},{id:"Jx3ZpYKEKF",position:3.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-13.118161044033814},{id:"2X0NmlrIf8",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-13.502407252303541},{id:"6XJwvjfSjX",position:4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-13.502407252303541},{id:"RRHtkm746F",position:4.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-14.220946553910142},{id:"ETo_PJQ5Fu",position:4.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-14.220946553910142},{id:"ksLn-CQdUz",position:5.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-17.053387016482024},{id:"c4raBExEWr",position:5.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-17.053387016482024},{id:"mZiXayGdme",position:5.633,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-12.438737423874045},{id:"a54uKWTKtV",position:6.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-15.743603993062711},{id:"cUCP-ix_Xu",position:6.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-17.957491695282577},{id:"5fFIbSeM1t",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.8701116063616354},{id:"2QZH7B0en9",position:8.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.3799999999999835},{id:"_PUccdL_tR",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:19.324403391088552},{id:"zvF5_pE5b7",position:9.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:23.59955938235839},{id:"LTvoIq5Vsy",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-9.740000000000002}]},"c-etYglWDL":{type:"BasicKeyframedTrack",__debugName:'Camera:["position","y"]',keyframes:[{id:"ZMhYpbt7MD",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:67.1399999999999},{id:"QBJgomCOgs",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.8500003233492391},{id:"rQ6cku6Sc7",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.379977420589556},{id:"HLULMW8QOg",position:2.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.379977420589556},{id:"4_oRCF3THY",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.381366066914712},{id:"A5CFWOlD6L",position:3.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.381366066914712},{id:"YgX6wvO5Oe",position:4.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.44563863456443875},{id:"lGATOoKK4M",position:4.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.44563863456443875},{id:"IcuDotl79U",position:5.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.36926715749382805},{id:"E794s_DR67",position:5.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.36926715749382805},{id:"jzQ-I7b_eD",position:5.633,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.8500003233492391},{id:"O0m62Qho5J",position:6.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.5712492664611701},{id:"gNqLk1WCX4",position:6.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.5800000000000025},{id:"DvRES1Nh31",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.813036870742347},{id:"vq7i71OfOV",position:8.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:14.639999999999958},{id:"aox5tct8d-",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:12.660019467417465},{id:"oOZ72zLFvC",position:9.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:15.079933650339482},{id:"YLJQ1Tnzk2",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:67.1399999999999}]},OcirpOisvx:{type:"BasicKeyframedTrack",__debugName:'Camera:["position","z"]',keyframes:[{id:"Y3ADwG5kT5",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:26.060000000000105},{id:"qYnvLBXhmI",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:32.519928257177874},{id:"gO4BAMdTS6",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:27.901203000919434},{id:"oENM1O3rzu",position:2.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:27.901203000919434},{id:"IUv05SKqZS",position:2.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:30.05601628479778},{id:"WHcvpeSjVU",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:27.55168743721734},{id:"IvViOieTyX",position:3.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:27.55168743721734},{id:"x3a4vcnRwU",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:24.965398955568894},{id:"xEzI-mDAn1",position:4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:24.965398955568894},{id:"z_BbYSkMS3",position:4.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:25.557838696132123},{id:"SxaZOv-Bw4",position:4.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:25.557838696132123},{id:"asROCql_ZP",position:5.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:30.07086447193713},{id:"CRloVOd3Xt",position:5.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:30.07086447193713},{id:"sO5FB2q7CQ",position:5.633,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:32.519928257177874},{id:"x71B3g2tJb",position:6.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:5.957691186500555},{id:"r1agRe_i6J",position:6.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-12.239621817487414},{id:"PtEmAJkqP2",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.479999999999946},{id:"d_ax9_YJnC",position:8.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-13.569999999999942},{id:"5m4X2dQGfj",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:14.554070393669567},{id:"2j4UiZ0ev5",position:9.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:15.66988690154732},{id:"yTFxoMNheW",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:26.060000000000105}]},dXsS7IIS4O:{type:"BasicKeyframedTrack",__debugName:'Camera:["foo"]',keyframes:[{id:"rdc1fyBgDx",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"Zj1RNQxmor",position:3.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1}]},y_rYCqM2hx:{type:"BasicKeyframedTrack",__debugName:'Camera:["zoom"]',keyframes:[{id:"SqhuwYrYRC",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.38},{id:"V45Qa1VtDI",position:7.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.38},{id:"baGHjESBXe",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.45},{id:"ffpETCpIVm",position:8.067,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.38},{id:"uenFleZTh9",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.38}]}},trackIdByPropPath:{'["position","x"]':"geq1m6cZRP",'["position","y"]':"c-etYglWDL",'["position","z"]':"OcirpOisvx",'["foo"]':"dXsS7IIS4O",'["zoom"]':"y_rYCqM2hx"}},CameraTarget:{trackData:{lH2oOAHMWQ:{type:"BasicKeyframedTrack",__debugName:'CameraTarget:["position","x"]',keyframes:[{id:"EsQrolYjUT",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.9100000000000505},{id:"dAb2QfDUID",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-9.07998004250747},{id:"SXJco5ufqP",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-9.067609916274106},{id:"NM4gFGTRfR",position:2.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-9.067609916274106},{id:"TjmzeOpR5C",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:8.627166608188944},{id:"wqdkXyttHy",position:3.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:8.627166608188944},{id:"owAHSK6-vd",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-5.755529767076664},{id:"tqx1pz6Dg6",position:4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-5.755529767076664},{id:"0-oFCDzwZ8",position:4.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-11.124600339978258},{id:"JfKwAgoR6j",position:4.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-11.124600339978258},{id:"7GQacf6xmp",position:5.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.32977843480055996},{id:"pYOjMPPEMw",position:5.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.32977843480055996},{id:"aUjd4Rd1ly",position:5.633,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-9.07998004250747},{id:"u08oHCYCFE",position:6.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.9719955774306832},{id:"PINlYzmwkd",position:6.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:3.92216713415467},{id:"dm5Q0YhAu0",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.795275824138485},{id:"YHTAgz_rI0",position:8.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.9100000000000505},{id:"nyc5bod0br",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:14.789837368065339},{id:"Izyz8i4hyT",position:9.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:16},{id:"l3GRZQRfzV",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.9100000000000505}]},YXAdCY8lhZ:{type:"BasicKeyframedTrack",__debugName:'CameraTarget:["position","y"]',keyframes:[{id:"Tc8wP97sPX",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.1400000000000023},{id:"g9vpko7HU-",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.1400000000000023},{id:"49yjT1QPCv",position:2.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.1400000000000023},{id:"_9wWHZRqEM",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.4800000000000022},{id:"F3HEP3e_er",position:8.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.1400000000000023},{id:"fUcOMdIuRk",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:9.949872718147878},{id:"EDfNJmsxcn",position:9.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:10.669999999999991},{id:"bEdN7PBdQb",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.1400000000000023}]},mffl87FBJi:{type:"BasicKeyframedTrack",__debugName:'CameraTarget:["position","z"]',keyframes:[{id:"hYUa5QrlwR",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:6.019999999999998},{id:"vdrNvmrDT5",position:1.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.8400000343192344},{id:"55N-q9N_6e",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.843937679923148},{id:"LncGR79EEg",position:2.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.843937679923148},{id:"wfzjyOUY07",position:5.633,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.8400000343192344},{id:"xokDqIFn_c",position:7.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:5.654498156920655},{id:"NdJrsmzlzU",position:8.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:6.019999999999998},{id:"SzjPqKemhp",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:13},{id:"YDqdx6PJ-I",position:9.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:13},{id:"7-gpexpxVo",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:6.025422859740365}]}},trackIdByPropPath:{'["position","x"]':"lH2oOAHMWQ",'["position","y"]':"YXAdCY8lhZ",'["position","z"]':"mffl87FBJi"}},foo:{trackData:{JsDwS5DAJL:{type:"BasicKeyframedTrack",__debugName:'foo:["foo"]',keyframes:[{id:"1dYXjrNdai",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"5xr8a9F0dj",position:3.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1}]}},trackIdByPropPath:{'["foo"]':"JsDwS5DAJL"}},screen:{trackData:{dq8LnmIYmM:{type:"BasicKeyframedTrack",__debugName:'screen:["foo"]',keyframes:[{id:"yP2gKtbUrH",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"WcHx4UbOAr",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1}]}},trackIdByPropPath:{'["foo"]':"dq8LnmIYmM"}},lid:{trackData:{qg94_DQwAI:{type:"BasicKeyframedTrack",__debugName:'lid:["rotation","x"]',keyframes:[{id:"ACOBYscaVm",position:6.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.62},{id:"GG6wvN0zXr",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"sWnzprFLCL",position:8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"TxCMZlDaYW",position:8.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.6}]},mD7L6m6CJ8:{type:"BasicKeyframedTrack",__debugName:'lid:["rotation","y"]',keyframes:[{id:"iFQ7sbl5iM",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"3Hiqc0_a0d",position:8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0}]},"3BZktRRE5L":{type:"BasicKeyframedTrack",__debugName:'lid:["rotation","z"]',keyframes:[{id:"HtJz4xbOQL",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"C1Is4GSW22",position:8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0}]},"2SHJY34pXX":{type:"BasicKeyframedTrack",__debugName:'lid:["position","x"]',keyframes:[{id:"Tiwe-gH8rf",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"NYBM55uZLL",position:8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0}]},MpK4alt1UH:{type:"BasicKeyframedTrack",__debugName:'lid:["position","y"]',keyframes:[{id:"gWhXNK7ALp",position:6.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.609834662635541},{id:"aFnplLCEyo",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"nEQ1N65IS_",position:8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"PMz3qg84KY",position:8.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.609834662635541}]},"5rz6fTGWrl":{type:"BasicKeyframedTrack",__debugName:'lid:["position","z"]',keyframes:[{id:"AU7T_cZhEa",position:6.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5000000000000002},{id:"Lrds_TzNhJ",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"Rizqenu1d0",position:8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"kn30MrpBPZ",position:8.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5}]}},trackIdByPropPath:{'["rotation","x"]':"qg94_DQwAI",'["rotation","y"]':"mD7L6m6CJ8",'["rotation","z"]':"3BZktRRE5L",'["position","x"]':"2SHJY34pXX",'["position","y"]':"MpK4alt1UH",'["position","z"]':"5rz6fTGWrl"}},bubble:{trackData:{DaookWnqkD:{type:"BasicKeyframedTrack",__debugName:'bubble:["position","x"]',keyframes:[]},VWGzQpGIe5:{type:"BasicKeyframedTrack",__debugName:'bubble:["position","y"]',keyframes:[{id:"3wN4A6-z2V",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-100},{id:"B--YFm2NXH",position:.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"SUOhWb6eR_",position:1.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"Xmr-SnHJzO",position:1.733,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-100},{id:"Jr1USlBj_9",position:3.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-100}]},nwrLmu5SOx:{type:"BasicKeyframedTrack",__debugName:'bubble:["position","z"]',keyframes:[]}},trackIdByPropPath:{'["position","x"]':"DaookWnqkD",'["position","y"]':"VWGzQpGIe5",'["position","z"]':"nwrLmu5SOx"}},board:{trackData:{fTYqrGzPy9:{type:"BasicKeyframedTrack",__debugName:'board:["position","x"]',keyframes:[]},i1ojSsra_4:{type:"BasicKeyframedTrack",__debugName:'board:["position","y"]',keyframes:[{id:"YY5Kkzi4Wm",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-100},{id:"S3VBd7sMvD",position:6.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-100},{id:"lHzB1Dbqvg",position:6.4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"b7Rs6sATE2",position:7.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"xN0Lcjzl9H",position:7.433,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-100}]},YHJr2EE5iM:{type:"BasicKeyframedTrack",__debugName:'board:["position","z"]',keyframes:[]}},trackIdByPropPath:{'["position","x"]':"fTYqrGzPy9",'["position","y"]':"i1ojSsra_4",'["position","z"]':"YHJr2EE5iM"}},"Section Overlay":{trackData:{fRwRzHnQvg:{type:"BasicKeyframedTrack",__debugName:'Section Overlay:["visible"]',keyframes:[{id:"3V1cyH5Dgn",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"yuRYLf7usB",position:.5,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"5Vq5Ux4ec9",position:.733,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"NYuMzgbeTo",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"UqynKLnqpb",position:2.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"dBtaEO9sLc",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"bfa1RTfm38",position:3.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"PiCo31VJTl",position:3.633,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"Z_9TXPYkT-",position:4,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"5uTf0r8W4K",position:4.467,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"wopiC89SY_",position:4.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"DI5pGWxVko",position:5.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"SPSen1NIH2",position:5.467,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"UMNXF-R5FX",position:9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"X4KHx67K_P",position:9.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"-VWLGw_ipz",position:10.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1}]},bkGShoDjkG:{type:"BasicKeyframedTrack",__debugName:'Section Overlay:["section"]',keyframes:[{id:"N9Jow0MLAz",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"about"},{id:"en01Bsgb0n",position:1.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"team"},{id:"QGkvix86p7",position:8.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"credits"}]}},trackIdByPropPath:{'["visible"]':"fRwRzHnQvg",'["section"]':"bkGShoDjkG"}},"Bubble Dialogue":{trackData:{"9n_eQ_4Z8N":{type:"BasicKeyframedTrack",__debugName:'Bubble Dialogue:["position","x"]',keyframes:[{id:"pAHdpG6M8V",position:1.9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-10.47}]},"x6ywb-xFF3":{type:"BasicKeyframedTrack",__debugName:'Bubble Dialogue:["position","y"]',keyframes:[{id:"o5b4oQv8Wy",position:1.9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-4.1}]},AYjmQV8ylX:{type:"BasicKeyframedTrack",__debugName:'Bubble Dialogue:["position","z"]',keyframes:[{id:"d7e8ZAA--L",position:1.9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:23}]},"615fkpx-4Q":{type:"BasicKeyframedTrack",__debugName:'Bubble Dialogue:["index"]',keyframes:[{id:"nP8n0Yo-Is",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"XJor3cKxbr",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"1"},{id:"w7nlySsTPi",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"2"},{id:"Dex-Aaj55z",position:4.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"3"},{id:"RvnbjtEypL",position:5.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"4"}]},g0i5oZFrJR:{type:"BasicKeyframedTrack",__debugName:'Bubble Dialogue:["visible"]',keyframes:[{id:"BlzbNVi7U8",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"eTXUWmJnzI",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"kc3vb0-7TM",position:2.2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"OgLpDfybpF",position:2.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"cJmDO3TcT8",position:3.1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"ziDBN-BXap",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"KrRN7qecyH",position:3.9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"qnccIhEAHC",position:4.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"MwRawomVPH",position:4.733,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1},{id:"nz1tyfO9Lt",position:5.167,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!0},{id:"Bf1vuULrPJ",position:5.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:!1}]}},trackIdByPropPath:{'["position","x"]':"9n_eQ_4Z8N",'["position","y"]':"x6ywb-xFF3",'["position","z"]':"AYjmQV8ylX",'["index"]':"615fkpx-4Q",'["visible"]':"g0i5oZFrJR"}},"Team Carousel":{trackData:{vG9CRU44Al:{type:"BasicKeyframedTrack",__debugName:'Team Carousel:["teamMemberIndex"]',keyframes:[{id:"-NE_j6e7v3",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"0"},{id:"Z8CU-Erm2_",position:2.5,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"1"},{id:"QymyA-WZHc",position:3.467,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"2"},{id:"xAqKqRqOHF",position:4.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"3"},{id:"zSiizGTkGL",position:5.067,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"4"}]}},trackIdByPropPath:{'["teamMemberIndex"]':"vG9CRU44Al"}},DanneyAnimation:{trackData:{"A-3AeD0GRk":{type:"BasicKeyframedTrack",__debugName:'DanneyAnimation:["animationName"]',keyframes:[{id:"b48uS5uFIp",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"Idle"},{id:"OrVZsCyCTp",position:1.733,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"Waving"},{id:"w5aL3aqZe_",position:2.033,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:"Idle"}]}},trackIdByPropPath:{'["animationName"]':"A-3AeD0GRk"}}}}}},pee="0.4.0",mee=["ayN7PC9jd3eWlrRv","JLaMWaC2p3_78hwK","POucZJjBjH5b5UVZ","6qrLF6rHXOij23JY","bftYdGY54EaLXXQL","XWWbdDhGe4GTjK_W","WMfOywiH4_djLsoC","g6-md8eDgPkNHeQ8","WBGc-Dcgj1IPB7_u","6TgTgphnCMFLF3rY","h_sVPkEWFzEjRUek","QBy6MxSizsMokTUJ","qezD14BdPSU6POmz","pFBknSAt80TOm9-D","K5hQQJFe3F2UhARl","54mXdM7gawHGW_kI","srGMdPSi7oF6f2KO","NphRasVmVCT6YynK","_fUkmLmMrqyroR4L","jk6zRzr-074sEiY-","oMJ6VBhpD0U6i6IH"],V4={sheetsById:hee,definitionVersion:pee,revisionHistory:mee},dE=Gl.getProject("Chingu29",{state:V4}).sheet("Campfire"),Ms=Gl.getProject("Chingu29",{state:V4}).sheet("CameraMovement");function gee(t){const{nodes:e,materials:n}=us("models/campfire/Campfire-transformed.glb");return G("group",{scale:.4,...t,dispose:null,children:Tt("group",{rotation:[-Math.PI/2,0,0],children:[G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere001_0.geometry,material:n.Rock,position:[-1.49,-.51,.81],rotation:[0,0,-2.91],scale:.34}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere003_0.geometry,material:n.Rock,position:[-2.97,1.63,.22],rotation:[0,0,-1.35],scale:.15}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere005_0.geometry,material:n.Rock,position:[-.62,2.37,.36],rotation:[-1,-.58,-.91],scale:.66}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere007_0.geometry,material:n.Rock,position:[.21,2.13,.7],rotation:[0,0,-2.25],scale:.39}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere009_0.geometry,material:n.Rock,position:[.33,.83,.5],rotation:[2.15,-1.56,2.82],scale:.38}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere010_0.geometry,material:n.Rock,position:[.74,.49,.62],rotation:[.33,-.12,-1.7],scale:.38}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere014_0.geometry,material:n.Rock,position:[-2.32,1.83,.53],rotation:[-1.65,-1.17,0],scale:.39}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere015_0.geometry,material:n.Rock,position:[-2.51,1.35,.79],rotation:[0,0,-.42],scale:.42}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere017_0.geometry,material:n.Rock,position:[-2.33,2.48,.05],rotation:[-1.29,-.59,-2.08],scale:.46}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere018_0.geometry,material:n.Rock,position:[-2.07,-.27,.6],rotation:[0,0,-.83],scale:.26}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere019_0.geometry,material:n.Rock,position:[-2.57,-.18,.51],rotation:[1.58,-.74,2.24],scale:.38}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere020_0.geometry,material:n.Rock,position:[-1.97,-.06,.59],rotation:[3.11,-.65,2.81],scale:.39}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere021_0.geometry,material:n.Rock,position:[.12,-.03,.8],rotation:[3.13,-.62,3.13],scale:.32}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere024_0.geometry,material:n.Rock,position:[-2.45,.42,.05],rotation:[.04,1.34,2.43],scale:.39}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere025_0.geometry,material:n.Rock,position:[-2.75,.69,.18],rotation:[-.6,-1.21,-1.55],scale:.31}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Icosphere026_0.geometry,material:n.Rock,position:[-.12,2.72,.1],rotation:[-1.27,-.67,-2.05],scale:.39}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Mball018_0.geometry,material:n.Fire,position:[-1.21,1.42,.74],scale:[.2,.2,.57]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath008_0.geometry,material:n.LightWood,position:[-1.67,.54,1.44],rotation:[.88,-.34,-1.88]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath009_0.geometry,material:n.LightWood,position:[-1.57,1.49,1.49],rotation:[-.31,-.89,2.71]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath010_0.geometry,material:n.LightWood,position:[-1.63,1.21,1.1],rotation:[.34,-1.24,-1.98]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath011_0.geometry,material:n.LightWood,position:[-1.33,1.38,1.09],rotation:[-.42,1.22,1.25]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath012_0.geometry,material:n.LightWood,position:[-.89,.91,1.03],rotation:[.27,.9,-.38]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath013_0.geometry,material:n.LightWood,position:[-1.24,1.65,.98],rotation:[-.88,.32,1.28]}),G("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.NurbsPath014_0.geometry,material:n.LightWood,position:[-1.24,.95,1.22],rotation:[-.88,.32,1.28]})]})})}us.preload("models/campfire/Campfire-transformed.glb");function Aee(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}const W4=M.forwardRef((t,e)=>{const{children:n,...r}=t;return M.Children.toArray(n).some(o3)?M.createElement(M.Fragment,null,M.Children.map(n,i=>o3(i)?M.createElement(Sb,yn({},r,{ref:e}),i.props.children):i)):M.createElement(Sb,yn({},r,{ref:e}),n)});W4.displayName="Slot";const Sb=M.forwardRef((t,e)=>{const{children:n,...r}=t;return M.isValidElement(n)?M.cloneElement(n,{...yee(r,n.props),ref:Aee(e,n.ref)}):M.Children.count(n)>1?M.Children.only(null):null});Sb.displayName="SlotClone";const vee=({children:t})=>M.createElement(M.Fragment,null,t);function o3(t){return M.isValidElement(t)&&t.type===vee}function yee(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const _ee=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:M.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?W4:e;return M.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),M.createElement(o,yn({},s,{ref:r}))})}),{}),xee=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},wee=M.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=M.useState({});return xee(()=>{l({})},[]),a?$k.createPortal(M.createElement(_ee.div,yn({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Cee=wee;var a3=Object.prototype.hasOwnProperty;function C_(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&C_(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(a3.call(t,n)&&++r&&!a3.call(e,n)||!(n in e)||!C_(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function j4(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Bx=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};Bx.prototype._test=function(e){var n=this.fn;try{bp(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return bp(this.modifiers.slice(),n,this)(e)}catch{return!1}};Bx.prototype._check=function(e){try{bp(this.modifiers.slice(),this.fn,this)(e)}catch{if(bp(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!bp(this.modifiers.slice(),this.fn,this)(e))throw null};Bx.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){K4(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function J4(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function bp(t,e,n){if(t.length){var r=t.shift(),i=bp(t,e,n);return r.perform(i,n)}else return J4(e)}function K4(t,e,n){if(t.length){var r=t.shift(),i=K4(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(J4(e,"async")(s))}}var Eee=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},sM=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),qa=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};qa.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Bx(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};qa.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new Eee(n,e.simple,e.async)),this};qa.prototype._clone=function(){return new qa(this.chain.slice(),this.nextRuleModifiers.slice())};qa.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};qa.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new sM(r,e,i))}}),n};qa.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new sM(n,e,r)}})};qa.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){$4(e,n.chain.slice(),r,i)})};function $4(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){$4(t,e,n,r)},function(s){r(new sM(i,t,s))})}else n(t)}var l3=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function See(t,e){return e===void 0&&(e=!1),{simple:function(n){return l3(n,e)||t.check(n)===void 0},async:function(n){return l3(n,e)||t.testAsync(n)}}}function Rs(){return typeof Proxy<"u"?Y4(new qa):bb(new qa)}var XA={};Rs.extend=function(t){Object.assign(XA,t)};Rs.clearCustomRules=function(){XA={}};function Y4(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=Y4(t._clone());if(r in E_)return i._applyModifier(E_[r],r);if(r in XA)return i._applyRule(XA[r],r);if(r in Ib)return i._applyRule(Ib[r],r)}})}function bb(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=bb(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},n=e(Ib,t),r=e(XA,n);return Object.keys(E_).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=bb(r._clone());return s._applyModifier(E_[i],i)}})}),r}var E_={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return l1(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(l1(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&l1(e).every(t)}},async:function(t){return function(e){return Promise.all(l1(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return c3(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return c3(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function c3(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function l1(t){return typeof t=="string"?t.split(""):t}var Ib={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||bee;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Uh("string")},boolean:function(){return Uh("boolean")},undefined:function(){return Uh("undefined")},null:function(){return Uh("null")},array:function(){return Uh("array")},object:function(){return Uh("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return Iee(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:See};function Uh(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function bee(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Iee(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var Mn="colors",es="sizes",ct="space",Bee={gap:ct,gridGap:ct,columnGap:ct,gridColumnGap:ct,rowGap:ct,gridRowGap:ct,inset:ct,insetBlock:ct,insetBlockEnd:ct,insetBlockStart:ct,insetInline:ct,insetInlineEnd:ct,insetInlineStart:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,marginBlock:ct,marginBlockEnd:ct,marginBlockStart:ct,marginInline:ct,marginInlineEnd:ct,marginInlineStart:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,paddingBlock:ct,paddingBlockEnd:ct,paddingBlockStart:ct,paddingInline:ct,paddingInlineEnd:ct,paddingInlineStart:ct,top:ct,right:ct,bottom:ct,left:ct,scrollMargin:ct,scrollMarginTop:ct,scrollMarginRight:ct,scrollMarginBottom:ct,scrollMarginLeft:ct,scrollMarginX:ct,scrollMarginY:ct,scrollMarginBlock:ct,scrollMarginBlockEnd:ct,scrollMarginBlockStart:ct,scrollMarginInline:ct,scrollMarginInlineEnd:ct,scrollMarginInlineStart:ct,scrollPadding:ct,scrollPaddingTop:ct,scrollPaddingRight:ct,scrollPaddingBottom:ct,scrollPaddingLeft:ct,scrollPaddingX:ct,scrollPaddingY:ct,scrollPaddingBlock:ct,scrollPaddingBlockEnd:ct,scrollPaddingBlockStart:ct,scrollPaddingInline:ct,scrollPaddingInlineEnd:ct,scrollPaddingInlineStart:ct,fontSize:"fontSizes",background:Mn,backgroundColor:Mn,backgroundImage:Mn,borderImage:Mn,border:Mn,borderBlock:Mn,borderBlockEnd:Mn,borderBlockStart:Mn,borderBottom:Mn,borderBottomColor:Mn,borderColor:Mn,borderInline:Mn,borderInlineEnd:Mn,borderInlineStart:Mn,borderLeft:Mn,borderLeftColor:Mn,borderRight:Mn,borderRightColor:Mn,borderTop:Mn,borderTopColor:Mn,caretColor:Mn,color:Mn,columnRuleColor:Mn,fill:Mn,outline:Mn,outlineColor:Mn,stroke:Mn,textDecorationColor:Mn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:es,minBlockSize:es,maxBlockSize:es,inlineSize:es,minInlineSize:es,maxInlineSize:es,width:es,minWidth:es,maxWidth:es,height:es,minHeight:es,maxHeight:es,flexBasis:es,gridTemplateColumns:es,gridTemplateRows:es,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Mee=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,rm=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,Mee))(e);return i in t?t[i]:t[i]=n(e,...r)}},sf=Symbol.for("sxs.internal"),oM=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),u3=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Tee}=Object.prototype,Bb=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Ree=/\s+(?![^()]*\))/,zh=t=>e=>t(...typeof e=="string"?String(e).split(Ree):[e]),d3={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:zh((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:zh((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:zh((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:zh((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:zh((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:zh((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},fE=/([\d.]+)([^]*)/,Pee=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,Dee=(t,e)=>t in Lee&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${Bb(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${Bb(t)}:${r}fit-content`)+s):String(e),Lee={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Zl=t=>t?t+"-":"",q4=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Zl(e)+(a.includes("$")?"":Zl(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Fee=/\s*,\s*(?![^()]*\))/,kee=Object.prototype.toString,hp=(t,e,n,r,i)=>{let s,o,a;const l=(c,u,h)=>{let p,g;const A=v=>{for(p in v){const x=p.charCodeAt(0)===64,E=x&&Array.isArray(v[p])?v[p]:[v[p]];for(g of E){const b=/[A-Z]/.test(w=p)?w:w.replace(/-[^]/g,R=>R[1].toUpperCase()),P=typeof g=="object"&&g&&g.toString===kee&&(!r.utils[b]||!u.length);if(b in r.utils&&!P){const R=r.utils[b];if(R!==o){o=R,A(R(g)),o=null;continue}}else if(b in d3){const R=d3[b];if(R!==a){a=R,A(R(g)),a=null;continue}}if(x&&(y=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(R,F,T,O,U,W)=>{const ee=fE.test(F),Z=.0625*(ee?-1:1),[Y,q]=ee?[O,F]:[F,O];return"("+(T[0]==="="?"":T[0]===">"===ee?"max-":"min-")+Y+":"+(T[0]!=="="&&T.length===1?q.replace(fE,(de,fe,j)=>Number(fe)+Z*(T===">"?1:-1)+j):q)+(U?") and ("+(U[0]===">"?"min-":"max-")+Y+":"+(U.length===1?W.replace(fE,(de,fe,j)=>Number(fe)+Z*(U===">"?-1:1)+j):W):"")+")"})),P){const R=x?h.concat(p):[...h],F=x?[...u]:Pee(u,p.split(Fee));s!==void 0&&i(f3(...s)),s=void 0,l(g,F,R)}else s===void 0&&(s=[[],u,h]),p=x||p.charCodeAt(0)!==36?p:`--${Zl(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,g=P?g:typeof g=="number"?g&&b in Oee?String(g)+"px":String(g):q4(Dee(b,g??""),r.prefix,r.themeMap[b]),s[0].push(`${x?`${p} `:`${Bb(p)}:`}${g}`)}}var y,w};A(c),s!==void 0&&i(f3(...s)),s=void 0};l(t,e,n)},f3=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,Oee={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},h3=t=>String.fromCharCode(t+(t>25?39:97)),of=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=h3(n%52)+r;return h3(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Kg=["themed","global","styled","onevar","resonevar","allvar","inline"],Nee=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Uee=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(t).styleSheets||[];for(const a of i)if(Nee(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=u;if(!p.startsWith("--sxs"))continue;const g=p.slice(14,-3).trim().split(/\s+/),A=Kg[g[0]];A&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[A]={group:h,index:l,cache:new Set(g)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,h){this.cssRules.splice(h,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=Kg.length-1;a>=0;--a){const l=Kg[a];if(!o[l]){const c=Kg[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}zee(o[l])}};return r(),e},zee=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Fg=Symbol(),Gee=rm(),p3=(t,e)=>Gee(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[sf]){r.type==null&&(r.type=i[sf].type);for(const s of i[sf].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Qee(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Hee(t,r,e)}),Qee=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${Zl(i.prefix)}c-${of(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in n)l[p]=String(n[p]);if(typeof t=="object"&&t)for(const p in t){u=l,h=p,Tee.call(u,h)||(l[p]="undefined");const g=t[p];for(const A in g){const v={[p]:String(A)};String(A)==="undefined"&&c.push(p);const y=g[A],w=[v,y,!u3(y)];o.push(w)}}var u,h;if(typeof e=="object"&&e)for(const p of e){let{css:g,...A}=p;g=typeof g=="object"&&g||{};for(const y in A)A[y]=String(A[y]);const v=[A,g,!u3(g)];a.push(v)}return[s,r,o,a,l,c]},Hee=(t,e,n)=>{const[r,i,s,o]=Vee(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let g=0;g<p[Fg].length;g++){const[A,v]=p[Fg][g];h.rules[A].apply(v)}return p[Fg]=[],null}return p[Fg]=[],p.rules={},Kg.forEach(g=>p.rules[g]={apply:A=>p[Fg].push([g,A])}),p})(n):null,l=(a||n).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=h=>{h=typeof h=="object"&&h||Wee;const{css:p,...g}=h,A={};for(const w in s)if(delete g[w],w in h){let x=h[w];typeof x=="object"&&x?A[w]={"@initial":s[w],...x}:(x=String(x),A[w]=x!=="undefined"||o.has(w)?x:s[w])}else A[w]=s[w];const v=new Set([...i]);for(const[w,x,E,b]of e.composers){n.rules.styled.cache.has(w)||(n.rules.styled.cache.add(w),hp(x,[`.${w}`],[],t,F=>{l.styled.apply(F)}));const P=m3(E,A,t.media),R=m3(b,A,t.media,!0);for(const F of P)if(F!==void 0)for(const[T,O,U]of F){const W=`${w}-${of(O)}-${T}`;v.add(W);const ee=(U?n.rules.resonevar:n.rules.onevar).cache,Z=U?l.resonevar:l.onevar;ee.has(W)||(ee.add(W),hp(O,[`.${W}`],[],t,Y=>{Z.apply(Y)}))}for(const F of R)if(F!==void 0)for(const[T,O]of F){const U=`${w}-${of(O)}-${T}`;v.add(U),n.rules.allvar.cache.has(U)||(n.rules.allvar.cache.add(U),hp(O,[`.${U}`],[],t,W=>{l.allvar.apply(W)}))}}if(typeof p=="object"&&p){const w=`${r}-i${of(p)}-css`;v.add(w),n.rules.inline.cache.has(w)||(n.rules.inline.cache.add(w),hp(p,[`.${w}`],[],t,x=>{l.inline.apply(x)}))}for(const w of String(h.className||"").trim().split(/\s+/))w&&v.add(w);const y=g.className=[...v].join(" ");return{type:e.type,className:y,selector:c,props:g,toString:()=>y,deferredInjector:a}};return oM(u,{className:r,selector:c,[sf]:e,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},Vee=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,n,r,new Set(i)]},m3=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,c=0,u=!1;for(l in s){const h=s[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let g,A,v=0;for(const y in p){if(h===String(p[y])){if(y!=="@initial"){const w=y.slice(1);(A=A||[]).push(w in n?n[w]:y.replace(/^@media ?/,"")),u=!0}c+=v,g=!0}++v}if(A&&A.length&&(o={["@media "+A.join(", ")]:o}),!g)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Wee={},jee=rm(),Jee=(t,e)=>jee(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=of(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}hp(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return oM(r,{toString:r})}),Kee=rm(),$ee=(t,e)=>Kee(t,()=>n=>{const r=`${Zl(t.prefix)}k-${of(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];hp(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return oM(i,{get name(){return i()},toString:i})}),Yee=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Zl(this.prefix)+Zl(this.scale)+this.token}toString(){return this.computedValue}},qee=rm(),Xee=(t,e)=>qee(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${Zl(t.prefix)}t-${of(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Zl(t.prefix)}${l}-${c}`,h=q4(String(r[l][c]),t.prefix,l);s[l][c]=new Yee(c,h,l,t.prefix),o.push(`${u}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),Zee=rm(),ete=rm(),tte=t=>{const e=(n=>{let r=!1;const i=Zee(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Bee},utils:typeof s.utils=="object"&&s.utils||{}},h=Uee(l),p={css:p3(u,h),globalCss:Jee(u,h),keyframes:$ee(u,h),createTheme:Xee(u,h),reset(){h.reset(),p.theme.toString()},theme:{},sheet:h,config:u,prefix:o,getCssText:h.toString,toString:h.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>ete(n,()=>{const i=p3(n,r);return(...s)=>{const o=i(...s),a=o[sf].type,l=X.forwardRef((c,u)=>{const h=c&&c.as||a,{props:p,deferredInjector:g}=o(c);return delete p.as,p.ref=u,g?X.createElement(X.Fragment,null,X.createElement(h,p),X.createElement(g,null)):X.createElement(h,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[sf]=o[sf],l}}))(e),e};const nte=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},rte=k9["useId".toString()]||(()=>{});let ite=0;function ste(t){const[e,n]=M.useState(rte());return nte(()=>{t||n(r=>r??String(ite++))},[t]),t||(e?`radix-${e}`:"")}function X4(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function aM(...t){return M.useCallback(X4(...t),t)}const Z4=M.forwardRef((t,e)=>{const{children:n,...r}=t;return M.Children.toArray(n).some(g3)?M.createElement(M.Fragment,null,M.Children.map(n,i=>g3(i)?M.createElement(Mb,yn({},r,{ref:e}),i.props.children):i)):M.createElement(Mb,yn({},r,{ref:e}),n)});Z4.displayName="Slot";const Mb=M.forwardRef((t,e)=>{const{children:n,...r}=t;return M.isValidElement(n)?M.cloneElement(n,{...ote(r,n.props),ref:X4(e,n.ref)}):M.Children.count(n)>1?M.Children.only(null):null});Mb.displayName="SlotClone";const e5=({children:t})=>M.createElement(M.Fragment,null,t);function g3(t){return M.isValidElement(t)&&t.type===e5}function ote(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const im=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:M.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?Z4:e;return M.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.as&&console.error(ate),M.createElement(o,yn({},s,{ref:r}))})}),{}),ate="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",lte=M.forwardRef((t,e)=>M.createElement(im.span,yn({},t,{ref:e,style:{...t.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),cte=lte,ute=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},dte=M.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=M.useState({});return ute(()=>{l({})},[]),a?$k.createPortal(M.createElement(im.div,yn({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),fte=M.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return M.createElement(im.svg,yn({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:M.createElement("polygon",{points:"0,0 30,0 15,10"}))}),hte=fte;function A3(t){const[e,n]=M.useState(void 0);return M.useEffect(()=>{if(t){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else{const l=t.getBoundingClientRect();o=l.width,a=l.height}n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>{n(void 0),r.unobserve(t)}}},[t]),e}function pte(t,e){const n=kd.get(t);return n===void 0?(kd.set(t,{rect:{},callbacks:[e]}),kd.size===1&&(Tb=requestAnimationFrame(t5))):(n.callbacks.push(e),e(t.getBoundingClientRect())),()=>{const r=kd.get(t);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(kd.delete(t),kd.size===0&&cancelAnimationFrame(Tb))}}let Tb;const kd=new Map;function t5(){const t=[];kd.forEach((e,n)=>{const r=n.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,t.push(e))}),t.forEach(e=>{e.callbacks.forEach(n=>n(e.rect))}),Tb=requestAnimationFrame(t5)}function n5(t){const[e,n]=M.useState();return M.useEffect(()=>{if(t){const r=pte(t,n);return()=>{n(void 0),r()}}},[t]),e}function r5(t,e=[]){let n=[];const r=()=>{const i=n.map(s=>M.createContext(s));return function(s){const o=(s==null?void 0:s[t])||i;return M.useMemo(()=>({[`__scope${t}`]:{...s,[t]:o}}),[s,o])}};return r.scopeName=t,[function(i,s){const o=M.createContext(s),a=n.length;function l(c){const{scope:u,children:h,...p}=c,g=(u==null?void 0:u[t][a])||o,A=M.useMemo(()=>p,Object.values(p));return M.createElement(g.Provider,{value:A},h)}return n=[...n,s],l.displayName=i+"Provider",[l,function(c,u){const h=(u==null?void 0:u[t][a])||o,p=M.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${c}\` must be used within \`${i}\``)}]},mte(r,...e)]}function mte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function gte({anchorRect:t,popperSize:e,arrowSize:n,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:c,collisionTolerance:u=0}){if(!t||!e||!c)return{popperStyles:Ate,arrowStyles:hE};const h=function(F,T,O=0,U=0,W){const ee=W?W.height:0,Z=v3(T,F,"x"),Y=v3(T,F,"y"),q=Y.before-O-ee,de=Y.after+O+ee,fe=Z.before-O-ee,j=Z.after+O+ee;return{top:{start:{x:Z.start+U,y:q},center:{x:Z.center,y:q},end:{x:Z.end-U,y:q}},right:{start:{x:j,y:Y.start+U},center:{x:j,y:Y.center},end:{x:j,y:Y.end-U}},bottom:{start:{x:Z.start+U,y:de},center:{x:Z.center,y:de},end:{x:Z.end-U,y:de}},left:{start:{x:fe,y:Y.start+U},center:{x:fe,y:Y.center},end:{x:fe,y:Y.end-U}}}}(e,t,s,a,n),p=h[i][o];if(l===!1){const F=y3(p);let T=hE;return n&&(T=x3({popperSize:e,arrowSize:n,arrowOffset:r,side:i,align:o})),{popperStyles:{...F,"--radix-popper-transform-origin":_3(e,i,o,r,n)},arrowStyles:T,placedSide:i,placedAlign:o}}const g=DOMRect.fromRect({...e,...p}),A=(v=c,y=u,DOMRect.fromRect({width:v.width-2*y,height:v.height-2*y,x:v.left+y,y:v.top+y}));var v,y;const w=C3(g,A),x=h[w3(i)][o],E=function(F,T,O){const U=w3(F);return T[F]&&!O[U]?U:F}(i,w,C3(DOMRect.fromRect({...e,...x}),A)),b=function(F,T,O,U,W){const ee=O==="top"||O==="bottom",Z=ee?"left":"top",Y=ee?"right":"bottom",q=ee?"width":"height",de=T[q]>F[q];return(U==="start"||U==="center")&&(W[Z]&&de||W[Y]&&!de)?"end":(U==="end"||U==="center")&&(W[Y]&&de||W[Z]&&!de)?"start":U}(e,t,i,o,w),P=y3(h[E][b]);let R=hE;return n&&(R=x3({popperSize:e,arrowSize:n,arrowOffset:r,side:E,align:b})),{popperStyles:{...P,"--radix-popper-transform-origin":_3(e,E,b,r,n)},arrowStyles:R,placedSide:E,placedAlign:b}}function v3(t,e,n){const r=t[n==="x"?"left":"top"],i=n==="x"?"width":"height",s=t[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function y3(t){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(t.x+window.scrollX)}px, ${Math.round(t.y+window.scrollY)}px, 0)`}}function _3(t,e,n,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let c="",u="";return s?(c={start:`${l}px`,center:"center",end:t.width-l+"px"}[n],u=e==="top"?`${t.height+a}px`:-a+"px"):(c=e==="left"?`${t.width+a}px`:-a+"px",u={start:`${l}px`,center:"center",end:t.height-l+"px"}[n]),`${c} ${u}`}const Ate={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},hE={position:"absolute",opacity:0};function x3({popperSize:t,arrowSize:e,arrowOffset:n,side:r,align:i}){const s=(t.width-e.width)/2,o=(t.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),c={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:vte(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(c.left=`${n}px`),i==="center"&&(c.left=`${s}px`),i==="end"&&(c.right=`${n}px`)),r!=="left"&&r!=="right"||(i==="start"&&(c.top=`${n}px`),i==="center"&&(c.top=`${o}px`),i==="end"&&(c.bottom=`${n}px`)),c}function vte(t,e){return(t!=="top"&&t!=="right"||e!=="end")&&(t!=="bottom"&&t!=="left"||e==="end")?"ltr":"rtl"}function w3(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}function C3(t,e){return{top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left}}const[i5,s5]=r5("Popper"),[yte,o5]=i5("Popper"),_te=t=>{const{__scopePopper:e,children:n}=t,[r,i]=M.useState(null);return M.createElement(yte,{scope:e,anchor:r,onAnchorChange:i},n)},xte=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=o5("PopperAnchor",n),o=M.useRef(null),a=aM(e,o);return M.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:M.createElement(im.div,yn({},i,{ref:a}))}),[wte,Cte]=i5("PopperContent"),Ete=M.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...c}=t,u=o5("PopperContent",n),[h,p]=M.useState(),g=n5(u.anchor),[A,v]=M.useState(null),y=A3(A),[w,x]=M.useState(null),E=A3(w),b=aM(e,ee=>v(ee)),P=function(){const[ee,Z]=M.useState(void 0);return M.useEffect(()=>{let Y;function q(){Z({width:window.innerWidth,height:window.innerHeight})}function de(){window.clearTimeout(Y),Y=window.setTimeout(q,100)}return q(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),ee}(),R=P?DOMRect.fromRect({...P,x:0,y:0}):void 0,{popperStyles:F,arrowStyles:T,placedSide:O,placedAlign:U}=gte({anchorRect:g,popperSize:y,arrowSize:E,arrowOffset:h,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:R,collisionTolerance:a}),W=O!==void 0;return M.createElement("div",{style:F,"data-radix-popper-content-wrapper":""},M.createElement(wte,{scope:n,arrowStyles:T,onArrowChange:x,onArrowOffsetChange:p},M.createElement(im.div,yn({"data-side":O,"data-align":U},c,{style:{...c.style,animation:W?void 0:"none"},ref:b}))))}),Ste=M.forwardRef(function(t,e){const{__scopePopper:n,offset:r,...i}=t,s=Cte("PopperArrow",n),{onArrowOffsetChange:o}=s;return M.useEffect(()=>o(r),[o,r]),M.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},M.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},M.createElement(hte,yn({},i,{ref:e,style:{...i.style,display:"block"}}))))}),bte=_te,Ite=xte,Bte=Ete,Mte=Ste,E3=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{};function Tte(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function Rte(...t){return M.useCallback(Tte(...t),t)}const a5=t=>{const{present:e,children:n}=t,r=function(o){const[a,l]=M.useState(),c=M.useRef({}),u=M.useRef(o),h=M.useRef("none"),p=o?"mounted":"unmounted",[g,A]=function(v,y){return M.useReducer((w,x)=>{const E=y[w][x];return E??w},v)}(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const v=c1(c.current);h.current=g==="mounted"?v:"none"},[g]),E3(()=>{const v=c.current,y=u.current;if(y!==o){const w=h.current,x=c1(v);o?A("MOUNT"):x==="none"||(v==null?void 0:v.display)==="none"?A("UNMOUNT"):A(y&&w!==x?"ANIMATION_OUT":"UNMOUNT"),u.current=o}},[o,A]),E3(()=>{if(a){const v=w=>{const x=c1(c.current).includes(w.animationName);w.target===a&&x&&A("ANIMATION_END")},y=w=>{w.target===a&&(h.current=c1(c.current))};return a.addEventListener("animationstart",y),a.addEventListener("animationcancel",v),a.addEventListener("animationend",v),()=>{a.removeEventListener("animationstart",y),a.removeEventListener("animationcancel",v),a.removeEventListener("animationend",v)}}},[a,A]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:M.useCallback(v=>{v&&(c.current=getComputedStyle(v)),l(v)},[])}}(e),i=typeof n=="function"?n({present:r.isPresent}):M.Children.only(n),s=Rte(r.ref,i.ref);return typeof n=="function"||r.isPresent?M.cloneElement(i,{ref:s}):null};function c1(t){return(t==null?void 0:t.animationName)||"none"}a5.displayName="Presence";function S3(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t},[t]),e.current}function Pte(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Dte(t){const e=Pte(t);M.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e])}function b3(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Lte({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=function({defaultProp:l,onChange:c}){const u=M.useState(l),[h]=u,p=M.useRef(h),g=b3(c);return M.useEffect(()=>{p.current!==h&&(g(h),p.current=h)},[h,p,g]),u}({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=b3(n);return[o,M.useCallback(l=>{if(s){const c=l,u=typeof l=="function"?c(t):l;u!==t&&a(u)}else i(l)},[s,t,i,a])]}function Gh(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[l5,dpe]=r5("Tooltip",[s5]),Mx=s5(),Fte=700,[fpe,kte]=l5("TooltipProvider",{isOpenDelayed:!0,delayDuration:Fte,onOpen:()=>{},onClose:()=>{}}),[Ote,Tx]=l5("Tooltip"),Nte=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=t,a=kte("Tooltip",e),l=Mx(e),[c,u]=M.useState(null),h=ste(),p=M.useRef(0),g=o??a.delayDuration,A=M.useRef(!1),{onOpen:v,onClose:y}=a,[w=!1,x]=Lte({prop:r,defaultProp:i,onChange:R=>{R&&(document.dispatchEvent(new CustomEvent("tooltip.open")),v()),s==null||s(R)}}),E=M.useMemo(()=>w?A.current?"delayed-open":"instant-open":"closed",[w]),b=M.useCallback(()=>{window.clearTimeout(p.current),A.current=!1,x(!0)},[x]),P=M.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{A.current=!0,x(!0)},g)},[g,x]);return M.useEffect(()=>()=>window.clearTimeout(p.current),[]),M.createElement(bte,l,M.createElement(Ote,{scope:e,contentId:h,open:w,stateAttribute:E,trigger:c,onTriggerChange:u,onTriggerEnter:M.useCallback(()=>{a.isOpenDelayed?P():b()},[a.isOpenDelayed,P,b]),onOpen:M.useCallback(b,[b]),onClose:M.useCallback(()=>{window.clearTimeout(p.current),x(!1),y()},[x,y])},n))},Ute=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Tx("TooltipTrigger",n),s=Mx(n),o=aM(e,i.onTriggerChange),a=M.useRef(!1),l=M.useCallback(()=>a.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),M.createElement(Ite,yn({asChild:!0},s),M.createElement(im.button,yn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:Gh(t.onMouseEnter,i.onTriggerEnter),onMouseLeave:Gh(t.onMouseLeave,i.onClose),onMouseDown:Gh(t.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:Gh(t.onFocus,()=>{a.current||i.onOpen()}),onBlur:Gh(t.onBlur,i.onClose),onClick:Gh(t.onClick,i.onClose)})))}),zte=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Tx("TooltipContent",t.__scopeTooltip);return M.createElement(a5,{present:n||i.open},M.createElement(Gte,yn({ref:e},r)))}),Gte=M.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,portalled:s=!0,...o}=t,a=Tx("TooltipContent",n),l=Mx(n),c=s?dte:M.Fragment,{onClose:u}=a;return Dte(()=>u()),M.useEffect(()=>(document.addEventListener("tooltip.open",u),()=>document.removeEventListener("tooltip.open",u)),[u]),M.createElement(c,null,M.createElement(Hte,{__scopeTooltip:n}),M.createElement(Bte,yn({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),M.createElement(e5,null,r),M.createElement(cte,{id:a.contentId,role:"tooltip"},i||r)))}),Qte=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Mx(n);return M.createElement(Mte,yn({},i,r,{ref:e}))});function Hte(t){const{__scopeTooltip:e}=t,n=Tx("CheckTriggerMoved",e),r=n5(n.trigger),i=r==null?void 0:r.left,s=S3(i),o=r==null?void 0:r.top,a=S3(o),l=n.onClose;return M.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const Vte=Nte,Wte=Ute,jte=zte,Jte=Qte;function Kte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hn(t,e){if(t==null)return{};var n=Kte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let rr;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(rr||(rr={}));const $te={[rr.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[rr.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[rr.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[rr.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[rr.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[rr.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[rr.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[rr.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[rr.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[rr.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[rr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function c5(t,e,...n){const[r,...i]=$te[e](...n);console[t]("LEVA: "+r,...i)}const kl=c5.bind(null,"warn"),Yte=c5.bind(null,"log"),qte=["value"],Xte=["schema"],Zte=["value"],u5=[],vf={};function I3(t){let{value:e}=t,n=Hn(t,qte);for(let r of u5){const i=r(e,n);if(i)return i}}function sc(t,e){let{schema:n}=e,r=Hn(e,Xte);if(t in vf){kl(rr.ALREADY_REGISTERED_TYPE,t);return}u5.push((i,s)=>n(i,s)&&t),vf[t]=r}function pE(t,e,n,r){const{normalize:i}=vf[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Hn(e,Zte);return{value:s,settings:o}}function ene(t,e,n,r,i,s){const{sanitize:o}=vf[t];return o?o(e,n,r,i,s):e}function B3(t,e,n){const{format:r}=vf[t];return r?r(e,n):e}function tne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const _u=(t,e,n)=>t>n?n:t<e?e:t,nne=t=>{if(t===""||typeof t=="number")return t;try{const e=Nc(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},rne=Math.log(10);function T3(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/rne)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const S_=(t,e,n)=>n===e?0:(_u(t,e,n)-e)/(n-e),b_=(t,e,n)=>t*(n-e)+e,ine=()=>"_"+Math.random().toString(36).substr(2,9),R3=/\(([0-9+\-*/^ .]+)\)/,P3=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,D3=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,L3=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,F3=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,k3=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Nc(t){if(isNaN(Number(t)))if(R3.test(t)){const e=t.replace(R3,(n,r)=>String(Nc(r)));return Nc(e)}else if(P3.test(t)){const e=t.replace(P3,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return Nc(e)}else if(D3.test(t)){const e=t.replace(D3,(n,r,i)=>String(Number(r)*Number(i)));return Nc(e)}else if(L3.test(t)){const e=t.replace(L3,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Nc(e)}else if(F3.test(t)){const e=t.replace(F3,(n,r,i)=>String(Number(r)+Number(i)));return Nc(e)}else if(k3.test(t)){const e=t.replace(k3,(n,r,i)=>String(Number(r)-Number(i)));return Nc(e)}else return Number(t);return Number(t)}function sne(t,e){const n=Ut({},t);return e.forEach(r=>r in t&&delete n[r]),n}function one(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function d5(t){return Object.prototype.toString.call(t)==="[object Object]"}const ane=t=>d5(t)&&Object.keys(t).length===0;let $a;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})($a||($a={}));let sa;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(sa||(sa={}));const lne=["type","__customInput"],cne=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],une=["type"];function f5(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:Ut({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:P,__customInput:R}=t,F=Hn(t,lne);return f5(R,e,F,P)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:h,onChange:p,onEditStart:g,onEditEnd:A,transient:v}=t,y=Hn(t,cne),w=Ut({render:o,key:e,label:a??e,hint:h,transient:v??!!p,onEditStart:g,onEditEnd:A,disabled:u,optional:l,order:c},n);let{type:x}=y,E=Hn(y,une);if(x=r??x,x in $a)return{type:x,input:E,options:w};let b;return r&&d5(E)&&"value"in E?b=E.value:b=ane(E)?void 0:E,{type:x,input:b,options:Ut(Ut({},w),{},{onChange:p,optional:(i=w.optional)!==null&&i!==void 0?i:!1,disabled:(s=w.disabled)!==null&&s!==void 0?s:!1})}}function dne(t,e,n,r){const i=f5(t,e),{type:s,input:o,options:a}=i;if(s)return s in $a?i:{type:s,input:pE(s,o,n,r),options:a};let l=I3(o);return l?{type:l,input:pE(l,o,n,r),options:a}:(l=I3({value:o}),l?{type:l,input:pE(l,{value:o},n,r),options:a}:!1)}function O3(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=h5({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const fne=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function h5({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=ene(t,o,n,e,i,s)}catch(l){throw new fne(`The value \`${r}\` did not result in a correct value.`,e,l)}return C_(a,e)?e:a}const p5=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},m5=t=>t.shiftKey?5:t.altKey?1/5:1,hne=["value"],pne=["min","max"],mne=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},g5=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=_u(i,e,n);return r?s+r:s},gne=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},A5=t=>{let{value:e}=t,n=Hn(t,hne);const{min:r=-1/0,max:i=1/0}=n,s=Hn(n,pne);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=_u(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?T3(l)*10:T3(o);l=l||c/10;const u=Math.round(_u(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Ut({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},v5=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var y5=Object.freeze({__proto__:null,schema:mne,sanitize:g5,format:gne,normalize:A5,sanitizeStep:v5});function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gr.apply(this,arguments)}const _5=M.createContext({});function Wi(){return M.useContext(_5)}const x5=M.createContext(null),w5=M.createContext(null),C5=M.createContext(null);function P0(){return M.useContext(w5)}function Ane(){return M.useContext(C5)}const vne=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function u1(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const kg={$inputStyle:()=>t=>u1(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>u1(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>u1(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>u1(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:bt,css:hpe,createTheme:ppe,globalCss:yne,keyframes:mpe}=tte({prefix:"leva",theme:vne(),utils:Ut(Ut({},kg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":kg.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":kg.$focusStyle()(t)}),$hover:t=>({"&:hover":kg.$hoverStyle()(t)}),$active:t=>({"&:active":kg.$activeStyle()(t)})})}),_ne=yne({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Wl(t,e){const{theme:n}=M.useContext(x5);if(!(t in n)||!(e in n[t]))return kl(rr.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const E5=bt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),S5=bt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${E5}`]:{paddingLeft:0}}),xne=bt(S5,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),wne=bt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Cne=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Ene=["onUpdate"];function lM(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=t,u=Hn(t,Cne);const{id:h,emitOnEditStart:p,emitOnEditEnd:g,disabled:A}=Wi(),v=a||h,y=M.useRef(null),w=c>0,x=w?"textarea":"input",E=M.useCallback(R=>F=>{const T=F.currentTarget.value;R(T)},[]);X.useEffect(()=>{const R=y.current,F=E(T=>{r(T),g()});return R==null||R.addEventListener("blur",F),()=>R==null?void 0:R.removeEventListener("blur",F)},[E,r,g]);const b=M.useCallback(R=>{R.key==="Enter"&&E(r)(R)},[E,r]),P=Object.assign({as:x},w?{rows:c}:{},u);return X.createElement(wne,{textArea:w},e&&typeof e=="string"?X.createElement(S5,null,e):e,X.createElement(E5,Gr({levaType:o,ref:y,id:v,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:E(i),onFocus:()=>p(),onKeyPress:b,onKeyDown:s,disabled:A},P)))}function Sne(t){let{onUpdate:e}=t,n=Hn(t,Ene);const r=M.useCallback(s=>e(nne(s)),[e]),i=M.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return X.createElement(lM,Gr({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const I_=bt("div",{}),Rb=bt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),bne=bt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Rb}::after`]:{opacity:.6},[`${I_}:hover > & + ${Rb}::after`]:{opacity:.6},[`${I_}:hover > & > svg`]:{opacity:1}}),b5=bt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${I_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),I5=bt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${b5} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),B5=bt(I5,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Ine=bt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Bne=bt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Pb=bt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Mne=bt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Pb}`]:{pointerEvents:"auto"}}}}}),M5=bt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Tne=bt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Rne=bt(Jte,{fill:"$toolTipBackground"});function cM({children:t}){const{className:e}=M.useContext(x5);return X.createElement(Cee,{className:e},t)}const Pne=["align"];function Dne(){const{id:t,disable:e,disabled:n}=Wi();return X.createElement(X.Fragment,null,X.createElement(Bne,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),X.createElement("label",{htmlFor:t+"__disable"}))}function Lne(t){const{id:e,optional:n,hint:r}=Wi(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return X.createElement(X.Fragment,null,n&&X.createElement(Dne,null),r!==void 0?X.createElement(Vte,null,X.createElement(Wte,{asChild:!0},X.createElement(Pb,Gr({},i,t))),X.createElement(jte,{side:"top",sideOffset:2},X.createElement(Tne,null,r,X.createElement(Rne,null)))):X.createElement(Pb,Gr({},i,s,t)))}function ca(t){let{align:e}=t,n=Hn(t,Pne);const{value:r,label:i,key:s,disabled:o}=Wi(),{hideCopyButton:a}=Ane(),l=!a&&s!==void 0,[c,u]=M.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{kl(rr.CLIPBOARD_ERROR,{[s]:r})}};return X.createElement(Ine,{align:e,onPointerLeave:()=>u(!1)},X.createElement(Lne,n),l&&!o&&X.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},X.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),X.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):X.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},X.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),X.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Fne=["toggled"],kne=bt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function uM(t){let{toggled:e}=t,n=Hn(t,Fne);return X.createElement(kne,Gr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),X.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const One=["input"];function Oo(t){let{input:e}=t,n=Hn(t,One);return e?X.createElement(B5,n):X.createElement(I5,n)}function T5({value:t,type:e,settings:n,setValue:r}){const[i,s]=M.useState(B3(e,t,n)),o=M.useRef(t),a=M.useRef(n);a.current=n;const l=M.useCallback(u=>s(B3(e,u,a.current)),[e]),c=M.useCallback(u=>{try{r(u)}catch(h){const{type:p,previousValue:g}=h;if(p!=="LEVA_ERROR")throw h;l(g)}},[l,r]);return M.useEffect(()=>{C_(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:c}}function D0(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Wi();return dX(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Nne(t){const e=M.useRef(null),n=M.useRef(null),r=M.useRef(!1);return M.useEffect(()=>{const i=p5(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),M.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function R5(){const t=M.useRef(null),e=M.useRef({x:0,y:0}),n=M.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const Une=["__refCount"],mE=(t,e)=>{if(!t[e])return null;const n=t[e];return Hn(n,Une)};function zne(t){const e=P0(),[n,r]=M.useState(mE(e.getData(),t)),i=M.useCallback(c=>e.setValueAtPath(t,c,!0),[t,e]),s=M.useCallback(c=>e.setSettingsAtPath(t,c),[t,e]),o=M.useCallback(c=>e.disableInputAtPath(t,c),[t,e]),a=M.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=M.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return M.useEffect(()=>{r(mE(e.getData(),t));const c=e.useStore.subscribe(u=>mE(u.data,t),r,{equalityFn:j4});return()=>c()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Gne=bt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),P5=bt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Db=bt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),D5=bt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),L5=bt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Qne({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=M.useRef(null),a=M.useRef(null),l=M.useRef(0),c=Wl("sizes","scrubberWidth"),u=D0(({event:p,first:g,xy:[A],movement:[v],memo:y})=>{if(g){const{width:x,left:E}=o.current.getBoundingClientRect();l.current=x-parseFloat(c),y=(p==null?void 0:p.target)===a.current?t:b_((A-E)/x,e,n)}const w=y+b_(v/l.current,0,n-e);return r(v5(w,{step:i,initialValue:s})),y}),h=S_(t,e,n);return X.createElement(D5,Gr({ref:o},u()),X.createElement(P5,null,X.createElement(L5,{style:{left:0,right:`${(1-h)*100}%`}})),X.createElement(Db,{ref:a,style:{left:`calc(${h} * (100% - ${c}))`}}))}const Hne=X.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=M.useState(!1),o=D0(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(h=>parseFloat(h)+Math.floor(u)*n*m5(c)),u=0),u));return X.createElement(xne,Gr({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function F5({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&X.createElement(Hne,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return X.createElement(Sne,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function Vne(){const t=Wi(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return X.createElement(Oo,{input:!0},X.createElement(ca,null,e),X.createElement(Gne,{hasRange:l},l&&X.createElement(Qne,Gr({value:parseFloat(n),onDrag:r},i)),X.createElement(F5,Gr({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Wne}=y5,jne=Hn(y5,["sanitizeStep"]);var Jne=Ut({component:Vne},jne);const Kne=(t,e)=>Rs().schema({options:Rs().passesAnyOf(Rs().object(),Rs().array())}).test(e),$ne=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},Yne=(t,{values:e})=>e.indexOf(t),qne=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Xne=Object.freeze({__proto__:null,schema:Kne,sanitize:$ne,format:Yne,normalize:qne});const Zne=bt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Lb=bt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),ere=bt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Lb}:focus + &`]:{$focusStyle:""},[`${Lb}:hover + &`]:{$hoverStyle:""}});function tre({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=M.useRef();return e===a[t]&&(l.current=o[t]),X.createElement(Zne,null,X.createElement(Lb,{id:r,value:t,onChange:c=>n(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>X.createElement("option",{key:c,value:u},c))),X.createElement(ere,null,l.current),X.createElement(uM,{toggled:!0}))}function nre(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Wi();return X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(tre,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var rre=Ut({component:nre},Xne);const ire=t=>Rs().string().test(t),sre=t=>{if(typeof t!="string")throw Error("Invalid string");return t},ore=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var are=Object.freeze({__proto__:null,schema:ire,sanitize:sre,normalize:ore});const lre=["displayValue","onUpdate","onChange","editable"],cre=bt("div",{whiteSpace:"pre-wrap"});function ure(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=Hn(t,lre);return i?X.createElement(lM,Gr({value:e,onUpdate:n,onChange:r},s)):X.createElement(cre,null,e)}function dre(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Wi();return X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(ure,Gr({displayValue:n,onUpdate:r,onChange:i},e)))}var fre=Ut({component:dre},are);const hre=t=>Rs().boolean().test(t),pre=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var mre=Object.freeze({__proto__:null,schema:hre,sanitize:pre});const gre=bt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Are({value:t,onUpdate:e,id:n,disabled:r}){return X.createElement(gre,null,X.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),X.createElement("label",{htmlFor:n},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function vre(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Wi();return X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(Are,{value:e,onUpdate:n,id:i,disabled:r}))}var yre=Ut({component:vre},mre);const _re=["locked"];function xre({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=M.useRef(t[n]);o.current=t[n];const a=M.useCallback(c=>i({[n]:h5({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,n]),l=T5({type:"NUMBER",value:t[n],settings:r,setValue:a});return X.createElement(F5,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const wre=bt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Cre(t){let{locked:e}=t,n=Hn(t,_re);return X.createElement("svg",Gr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?X.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):X.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function dM({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Wi(),{lock:o,locked:a}=n;return X.createElement(wre,{withLock:o},o&&X.createElement(Cre,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,c)=>X.createElement(xre,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const k5=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=A5(Ut({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},Ere=["lock"],Sre=["value"];function bre(t){const e=Rs().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function Ire(t){return Array.isArray(t)?"array":"object"}function hA(t,e,n){return Ire(t)===e?t:e==="array"?Object.values(t):one(t,n)}const Bre=(t,e,n)=>{const r=hA(t,"object",e.keys);for(let o in r)r[o]=g5(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=hA(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*u}else s=Ut(Ut({},o),r)}return hA(s,e.format,e.keys)},Mre=(t,e)=>hA(t,"object",e.keys),Tre=t=>!!t&&("step"in t||"min"in t||"max"in t);function Rre(t,e,n=[]){const{lock:r=!1}=e,i=Hn(e,Ere),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=hA(t,"object",o),l=Tre(i)?o.reduce((u,h)=>Object.assign(u,{[h]:i}),{}):i,c=k5(a,l);return{value:s==="array"?t:a,settings:Ut(Ut({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function O5(t){return{schema:bre(t.length),normalize:e=>{let{value:n}=e,r=Hn(e,Sre);return Rre(n,r,t)},format:(e,n)=>Mre(e,n),sanitize:(e,n,r)=>Bre(e,n,r)}}var Pre={grad:.9,turn:360,rad:360/(2*Math.PI)},Il=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},oi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Bo=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},N5=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},N3=function(t){return{r:Bo(t.r,0,255),g:Bo(t.g,0,255),b:Bo(t.b,0,255),a:Bo(t.a)}},gE=function(t){return{r:oi(t.r),g:oi(t.g),b:oi(t.b),a:oi(t.a,3)}},Dre=/^#([0-9a-f]{3,8})$/i,d1=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},U5=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},z5=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},U3=function(t){return{h:N5(t.h),s:Bo(t.s,0,100),l:Bo(t.l,0,100),a:Bo(t.a)}},z3=function(t){return{h:oi(t.h),s:oi(t.s),l:oi(t.l),a:oi(t.a,3)}},G3=function(t){return z5((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},pA=function(t){return{h:(e=U5(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Lre=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fre=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kre=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ore=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fb={string:[[function(t){var e=Dre.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?oi(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?oi(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=kre.exec(t)||Ore.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:N3({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Lre.exec(t)||Fre.exec(t);if(!e)return null;var n,r,i=U3({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Pre[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return G3(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return Il(e)&&Il(n)&&Il(r)?N3({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!Il(e)||!Il(n)||!Il(r))return null;var o=U3({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return G3(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!Il(e)||!Il(n)||!Il(r))return null;var o=function(a){return{h:N5(a.h),s:Bo(a.s,0,100),v:Bo(a.v,0,100),a:Bo(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return z5(o)},"hsv"]]},Q3=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},G5=function(t){return typeof t=="string"?Q3(t.trim(),Fb.string):typeof t=="object"&&t!==null?Q3(t,Fb.object):[null,void 0]},Nre=function(t){return G5(t)[1]},AE=function(t,e){var n=pA(t);return{h:n.h,s:Bo(n.s+100*e,0,100),l:n.l,a:n.a}},vE=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},H3=function(t,e){var n=pA(t);return{h:n.h,s:n.s,l:Bo(n.l+100*e,0,100),a:n.a}},kb=function(){function t(e){this.parsed=G5(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return oi(vE(this.rgba),2)},t.prototype.isDark=function(){return vE(this.rgba)<.5},t.prototype.isLight=function(){return vE(this.rgba)>=.5},t.prototype.toHex=function(){return e=gE(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?d1(oi(255*s)):"","#"+d1(n)+d1(r)+d1(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return gE(this.rgba)},t.prototype.toRgbString=function(){return e=gE(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return z3(pA(this.rgba))},t.prototype.toHslString=function(){return e=z3(pA(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=U5(this.rgba),{h:oi(e.h),s:oi(e.s),v:oi(e.v),a:oi(e.a,3)};var e},t.prototype.invert=function(){return ss({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ss(AE(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ss(AE(this.rgba,-e))},t.prototype.grayscale=function(){return ss(AE(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ss(H3(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ss(H3(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ss({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):oi(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=pA(this.rgba);return typeof e=="number"?ss({h:e,s:n.s,l:n.l,a:n.a}):oi(n.h)},t.prototype.isEqual=function(e){return this.toHex()===ss(e).toHex()},t}(),ss=function(t){return t instanceof kb?t:new kb(t)},V3=[],Ure=function(t){t.forEach(function(e){V3.indexOf(e)<0&&(e(kb,Fb),V3.push(e))})};function zre(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),h=1/0,p="black";if(!s.length)for(var g in n)s[g]=new t(n[g]).toRgb();for(var A in n){var v=(a=u,l=s[A],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<h&&(h=v,p=A)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function sm(){return(sm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function fM(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function Ob(t){var e=M.useRef(t),n=M.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Hp=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},mA=function(t){return"touches"in t},Nb=function(t){return t&&t.ownerDocument.defaultView||self},W3=function(t,e,n){var r=t.getBoundingClientRect(),i=mA(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:Hp((i.pageX-(r.left+Nb(t).pageXOffset))/r.width),top:Hp((i.pageY-(r.top+Nb(t).pageYOffset))/r.height)}},j3=function(t){!mA(t)&&t.preventDefault()},hM=X.memo(function(t){var e=t.onMove,n=t.onKey,r=fM(t,["onMove","onKey"]),i=M.useRef(null),s=Ob(e),o=Ob(n),a=M.useRef(null),l=M.useRef(!1),c=M.useMemo(function(){var g=function(y){j3(y),(mA(y)?y.touches.length>0:y.buttons>0)&&i.current?s(W3(i.current,y,a.current)):v(!1)},A=function(){return v(!1)};function v(y){var w=l.current,x=Nb(i.current),E=y?x.addEventListener:x.removeEventListener;E(w?"touchmove":"mousemove",g),E(w?"touchend":"mouseup",A)}return[function(y){var w=y.nativeEvent,x=i.current;if(x&&(j3(w),!function(b,P){return P&&!mA(b)}(w,l.current)&&x)){if(mA(w)){l.current=!0;var E=w.changedTouches||[];E.length&&(a.current=E[0].identifier)}x.focus(),s(W3(x,w,a.current)),v(!0)}},function(y){var w=y.which||y.keyCode;w<37||w>40||(y.preventDefault(),o({left:w===39?.05:w===37?-.05:0,top:w===40?.05:w===38?-.05:0}))},v]},[o,s]),u=c[0],h=c[1],p=c[2];return M.useEffect(function(){return p},[p]),X.createElement("div",sm({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),L0=function(t){return t.filter(Boolean).join(" ")},pM=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=L0(["react-colorful__pointer",t.className]);return X.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},X.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ls=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},Q5=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:ls(t.h),s:ls(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:ls(i/2),a:ls(r,2)}},Ub=function(t){var e=Q5(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},yE=function(t){var e=Q5(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},H5=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:ls(255*[r,a,o,o,l,r][c]),g:ls(255*[l,r,r,a,o,o][c]),b:ls(255*[o,o,l,r,r,a][c]),a:ls(i,2)}},V5=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:ls(60*(a<0?a+6:a)),s:ls(s?o/s*100:0),v:ls(s/255*100),a:i}},W5=X.memo(function(t){var e=t.hue,n=t.onChange,r=L0(["react-colorful__hue",t.className]);return X.createElement("div",{className:r},X.createElement(hM,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:Hp(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ls(e),"aria-valuemax":"360","aria-valuemin":"0"},X.createElement(pM,{className:"react-colorful__hue-pointer",left:e/360,color:Ub({h:e,s:100,v:100,a:1})})))}),j5=X.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Ub({h:e.h,s:100,v:100,a:1})};return X.createElement("div",{className:"react-colorful__saturation",style:r},X.createElement(hM,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:Hp(e.s+100*i.left,0,100),v:Hp(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ls(e.s)+"%, Brightness "+ls(e.v)+"%"},X.createElement(pM,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Ub(e)})))}),mM=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function J5(t,e,n){var r=Ob(n),i=M.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=M.useRef({color:e,hsva:s});M.useEffect(function(){if(!t.equal(e,a.current.color)){var c=t.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,t]),M.useEffect(function(){var c;mM(s,a.current.hsva)||t.equal(c=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,t,r]);var l=M.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var Gre=typeof window<"u"?M.useLayoutEffect:M.useEffect,Qre=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},J3=new Map,K5=function(t){Gre(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!J3.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,J3.set(e,n);var r=Qre();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},Hre=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=fM(t,["className","colorModel","color","onChange"]),a=M.useRef(null);K5(a);var l=J5(n,i,s),c=l[0],u=l[1],h=L0(["react-colorful",e]);return X.createElement("div",sm({},o,{ref:a,className:h}),X.createElement(j5,{hsva:c,onChange:u}),X.createElement(W5,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},Vre=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+yE(Object.assign({},n,{a:0}))+", "+yE(Object.assign({},n,{a:1}))+")"},s=L0(["react-colorful__alpha",e]),o=ls(100*n.a);return X.createElement("div",{className:s},X.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),X.createElement(hM,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Hp(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},X.createElement(pM,{className:"react-colorful__alpha-pointer",left:n.a,color:yE(n)})))},Wre=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=fM(t,["className","colorModel","color","onChange"]),a=M.useRef(null);K5(a);var l=J5(n,i,s),c=l[0],u=l[1],h=L0(["react-colorful",e]);return X.createElement("div",sm({},o,{ref:a,className:h}),X.createElement(j5,{hsva:c,onChange:u}),X.createElement(W5,{hue:c.h,onChange:u}),X.createElement(Vre,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},jre={defaultColor:{r:0,g:0,b:0,a:1},toHsva:V5,fromHsva:H5,equal:mM},Jre=function(t){return X.createElement(Wre,sm({},t,{colorModel:jre}))},Kre={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return V5({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=H5(t)).r,g:e.g,b:e.b};var e},equal:mM},$re=function(t){return X.createElement(Hre,sm({},t,{colorModel:Kre}))};function om(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function am(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Yre(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function qre(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yre(arguments[e]));return t}var Xre=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function F0(t,e){var n=Zre(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Zre(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Xre.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var eie=[".DS_Store","Thumbs.db"];function tie(t){return om(this,void 0,void 0,function(){return am(this,function(e){return B_(t)&&nie(t)?[2,oie(t.dataTransfer,t.type)]:rie(t)?[2,iie(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,sie(t)]:[2,[]]})})}function nie(t){return B_(t.dataTransfer)}function rie(t){return B_(t)&&B_(t.target)}function B_(t){return typeof t=="object"&&t!==null}function iie(t){return zb(t.target.files).map(function(e){return F0(e)})}function sie(t){return om(this,void 0,void 0,function(){var e;return am(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return F0(r)})]}})})}function oie(t,e){return om(this,void 0,void 0,function(){var n,r;return am(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=zb(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(aie))]):[3,2];case 1:return r=i.sent(),[2,K3($5(r))];case 2:return[2,K3(zb(t.files).map(function(s){return F0(s)}))]}})})}function K3(t){return t.filter(function(e){return eie.indexOf(e.name)===-1})}function zb(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function aie(t){if(typeof t.webkitGetAsEntry!="function")return $3(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Y5(e):$3(t)}function $5(t){return t.reduce(function(e,n){return qre(e,Array.isArray(n)?$5(n):[n])},[])}function $3(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=F0(e);return Promise.resolve(n)}function lie(t){return om(this,void 0,void 0,function(){return am(this,function(e){return[2,t.isDirectory?Y5(t):cie(t)]})})}function Y5(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return om(o,void 0,void 0,function(){var l,c,u;return am(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),n(l),[3,4];case 3:return c=h.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(lie)),i.push(u),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function cie(t){return om(this,void 0,void 0,function(){return am(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=F0(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var uie=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){q5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X3(t,e){return pie(t)||hie(t,e)||fie(t,e)||die()}function die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(t,e){if(t){if(typeof t=="string")return Z3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z3(t,e)}}function Z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function pie(t){if(Array.isArray(t))return t}var mie="file-invalid-type",gie="file-too-large",Aie="file-too-small",vie="too-many-files",yie=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:mie,message:"File type must be ".concat(n)}},eD=function(e){return{code:gie,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},tD=function(e){return{code:Aie,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},_ie={code:vie,message:"Too many files"};function X5(t,e){var n=t.type==="application/x-moz-file"||uie(t,e);return[n,n?null:yie(e)]}function Z5(t,e,n){if(Og(t.size))if(Og(e)&&Og(n)){if(t.size>n)return[!1,eD(n)];if(t.size<e)return[!1,tD(e)]}else{if(Og(e)&&t.size<e)return[!1,tD(e)];if(Og(n)&&t.size>n)return[!1,eD(n)]}return[!0,null]}function Og(t){return t!=null}function xie(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=X5(a,n),c=X3(l,1),u=c[0],h=Z5(a,r,i),p=X3(h,1),g=p[0];return u&&g})}function M_(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function f1(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function nD(t){t.preventDefault()}function wie(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Cie(t){return t.indexOf("Edge/")!==-1}function Eie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wie(t)||Cie(t)}function Na(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!M_(r)&&a&&a.apply(void 0,[r].concat(s)),M_(r)})}}function Sie(){return"showOpenFilePicker"in window}function bie(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return q3(q3({},e),{},q5({},n,[]))},{}):{}}]}function Iie(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Bie(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var Mie=["children"],Tie=["open"],Rie=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Pie=["refKey","onChange","onClick"];function Die(t){return kie(t)||Fie(t)||eU(t)||Lie()}function Lie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kie(t){if(Array.isArray(t))return Gb(t)}function _E(t,e){return Uie(t)||Nie(t,e)||eU(t,e)||Oie()}function Oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(t,e){if(t){if(typeof t=="string")return Gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(t,e)}}function Gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Uie(t){if(Array.isArray(t))return t}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T_(t,e){if(t==null)return{};var n=zie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gM=M.forwardRef(function(t,e){var n=t.children,r=T_(t,Mie),i=nU(r),s=i.open,o=T_(i,Tie);return M.useImperativeHandle(e,function(){return{open:s}},[s]),X.createElement(M.Fragment,null,n(nr(nr({},o),{},{open:s})))});gM.displayName="Dropzone";var tU={disabled:!1,getFilesFromEvent:tie,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};gM.defaultProps=tU;gM.propTypes={children:zn.func,accept:zn.oneOfType([zn.string,zn.arrayOf(zn.string)]),multiple:zn.bool,preventDropOnDocument:zn.bool,noClick:zn.bool,noKeyboard:zn.bool,noDrag:zn.bool,noDragEventsBubbling:zn.bool,minSize:zn.number,maxSize:zn.number,maxFiles:zn.number,disabled:zn.bool,getFilesFromEvent:zn.func,onFileDialogCancel:zn.func,onFileDialogOpen:zn.func,useFsAccessApi:zn.bool,onDragEnter:zn.func,onDragLeave:zn.func,onDragOver:zn.func,onDrop:zn.func,onDropAccepted:zn.func,onDropRejected:zn.func,validator:zn.func};var Hb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function nU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=nr(nr({},tU),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,p=e.onDrop,g=e.onDropAccepted,A=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,w=e.useFsAccessApi,x=e.preventDropOnDocument,E=e.noClick,b=e.noKeyboard,P=e.noDrag,R=e.noDragEventsBubbling,F=e.validator,T=M.useMemo(function(){return typeof y=="function"?y:iD},[y]),O=M.useMemo(function(){return typeof v=="function"?v:iD},[v]),U=M.useRef(null),W=M.useRef(null),ee=M.useReducer(Gie,Hb),Z=_E(ee,2),Y=Z[0],q=Z[1],de=Y.isFocused,fe=Y.isFileDialogActive,j=Y.draggedFiles,ne=M.useRef(typeof window<"u"&&window.isSecureContext&&w&&Sie()),re=function(){!ne.current&&fe&&setTimeout(function(){if(W.current){var le=W.current.files;le.length||(q({type:"closeDialog"}),O())}},300)};M.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[W,fe,O,ne]);var pe=M.useRef([]),te=function(le){U.current&&U.current.contains(le.target)||(le.preventDefault(),pe.current=[])};M.useEffect(function(){return x&&(document.addEventListener("dragover",nD,!1),document.addEventListener("drop",te,!1)),function(){x&&(document.removeEventListener("dragover",nD),document.removeEventListener("drop",te))}},[U,x]);var Se=M.useCallback(function(N){N.preventDefault(),N.persist(),Je(N),pe.current=[].concat(Die(pe.current),[N.target]),f1(N)&&Promise.resolve(i(N)).then(function(le){M_(N)&&!R||(q({draggedFiles:le,isDragActive:!0,type:"setDraggedFiles"}),c&&c(N))})},[i,c,R]),xe=M.useCallback(function(N){N.preventDefault(),N.persist(),Je(N);var le=f1(N);if(le&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return le&&h&&h(N),!1},[h,R]),ue=M.useCallback(function(N){N.preventDefault(),N.persist(),Je(N);var le=pe.current.filter(function(Le){return U.current&&U.current.contains(Le)}),De=le.indexOf(N.target);De!==-1&&le.splice(De,1),pe.current=le,!(le.length>0)&&(q({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),f1(N)&&u&&u(N))},[U,u,R]),Pe=M.useCallback(function(N,le){var De=[],Le=[];N.forEach(function(Ne){var lt=X5(Ne,n),Ke=_E(lt,2),Re=Ke[0],pt=Ke[1],Ze=Z5(Ne,o,s),yt=_E(Ze,2),gt=yt[0],dt=yt[1],Gt=F?F(Ne):null;if(Re&&gt&&!Gt)De.push(Ne);else{var on=[pt,dt];Gt&&(on=on.concat(Gt)),Le.push({file:Ne,errors:on.filter(function(Sn){return Sn})})}}),(!a&&De.length>1||a&&l>=1&&De.length>l)&&(De.forEach(function(Ne){Le.push({file:Ne,errors:[_ie]})}),De.splice(0)),q({acceptedFiles:De,fileRejections:Le,type:"setFiles"}),p&&p(De,Le,le),Le.length>0&&A&&A(Le,le),De.length>0&&g&&g(De,le)},[q,a,n,o,s,l,p,g,A,F]),ke=M.useCallback(function(N){N.preventDefault(),N.persist(),Je(N),pe.current=[],f1(N)&&Promise.resolve(i(N)).then(function(le){M_(N)&&!R||Pe(le,N)}),q({type:"reset"})},[i,Pe,R]),je=M.useCallback(function(){if(ne.current){q({type:"openDialog"}),T();var N={multiple:a,types:bie(n)};window.showOpenFilePicker(N).then(function(le){return i(le)}).then(function(le){Pe(le,null),q({type:"closeDialog"})}).catch(function(le){Iie(le)?(O(le),q({type:"closeDialog"})):Bie(le)&&(ne.current=!1,W.current&&(W.current.value=null,W.current.click()))});return}W.current&&(q({type:"openDialog"}),T(),W.current.value=null,W.current.click())},[q,T,O,w,Pe,n,a]),Ye=M.useCallback(function(N){!U.current||!U.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),je())},[U,je]),ze=M.useCallback(function(){q({type:"focus"})},[]),Fe=M.useCallback(function(){q({type:"blur"})},[]),Me=M.useCallback(function(){E||(Eie()?setTimeout(je,0):je())},[E,je]),we=function(le){return r?null:le},Ue=function(le){return b?null:we(le)},nt=function(le){return P?null:we(le)},Je=function(le){R&&le.stopPropagation()},ut=M.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=N.refKey,De=le===void 0?"ref":le,Le=N.role,Ne=N.onKeyDown,lt=N.onFocus,Ke=N.onBlur,Re=N.onClick,pt=N.onDragEnter,Ze=N.onDragOver,yt=N.onDragLeave,gt=N.onDrop,dt=T_(N,Rie);return nr(nr(Qb({onKeyDown:Ue(Na(Ne,Ye)),onFocus:Ue(Na(lt,ze)),onBlur:Ue(Na(Ke,Fe)),onClick:we(Na(Re,Me)),onDragEnter:nt(Na(pt,Se)),onDragOver:nt(Na(Ze,xe)),onDragLeave:nt(Na(yt,ue)),onDrop:nt(Na(gt,ke)),role:typeof Le=="string"&&Le!==""?Le:"button"},De,U),!r&&!b?{tabIndex:0}:{}),dt)}},[U,Ye,ze,Fe,Me,Se,xe,ue,ke,b,P,r]),at=M.useCallback(function(N){N.stopPropagation()},[]),ht=M.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=N.refKey,De=le===void 0?"ref":le,Le=N.onChange,Ne=N.onClick,lt=T_(N,Pie),Ke=Qb({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:we(Na(Le,ke)),onClick:we(Na(Ne,at)),tabIndex:-1},De,W);return nr(nr({},Ke),lt)}},[W,n,a,ke,r]),zt=j.length,Dt=zt>0&&xie({files:j,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),K=zt>0&&!Dt;return nr(nr({},Y),{},{isDragAccept:Dt,isDragReject:K,isFocused:de&&!r,getRootProps:ut,getInputProps:ht,rootRef:U,inputRef:W,open:we(je)})}function Gie(t,e){switch(e.type){case"focus":return nr(nr({},t),{},{isFocused:!0});case"blur":return nr(nr({},t),{},{isFocused:!1});case"openDialog":return nr(nr({},Hb),{},{isFileDialogActive:!0});case"closeDialog":return nr(nr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return nr(nr({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return nr(nr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return nr({},Hb);default:return t}}function iD(){}function Qie(t){let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=u?h:Object.assign({},e,h),n.forEach(g=>g(e,p))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function g(){const A=u(e);if(!h(p,A)){const v=p;c(p=A,v)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Hie=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),sD=Hie?M.useEffect:M.useLayoutEffect;function Vie(t){const e=typeof t=="function"?Qie(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=M.useReducer(y=>y+1,0),o=e.getState(),a=M.useRef(o),l=M.useRef(r),c=M.useRef(i),u=M.useRef(!1),h=M.useRef();h.current===void 0&&(h.current=r(o));let p,g=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),g=!i(h.current,p)),sD(()=>{g&&(h.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const A=M.useRef(o);sD(()=>{const y=()=>{try{const x=e.getState(),E=l.current(x);c.current(h.current,E)||(a.current=x,h.current=E,s())}catch{u.current=!0,s()}},w=e.subscribe(y);return e.getState()!==A.current&&y(),w},[]);const v=g?p:h.current;return M.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Wie=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=p=>{const g=o(p);if(!u(h,g)){const A=h;a(h=g,A)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},t(e,n,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var jie=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Jie=jie;function oD(t){return Jie(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var rU=function(e){var n,r;return!(oD(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,oD(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Kie=rU,AM=function(e){return Kie(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var $ie=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},Yie=AM,qie=$ie;function iU(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];Vb(i)&&qie(i,Xie,t)}return t}function Xie(t,e){if(Zie(e)){var n=this[e];Vb(t)&&Vb(n)?iU(n,t):this[e]=t}}function Vb(t){return Yie(t)&&!Array.isArray(t)}function Zie(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var ese=iU;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var tse=function(t,e,n,r,i){if(!nse(t)||!e)return t;if(e=h1(e),n&&(e+="."+h1(n)),r&&(e+="."+h1(r)),i&&(e+="."+h1(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function nse(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function h1(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var rse=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];n.call(o,c)&&(r[c]=o[c])}return r},ise=AM,sse=rse,ose=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");aD(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];lse(n)&&(n=cse(n)),aD(n)&&(ase(t,n),sse(t,n))}return t};function ase(t,e){for(var n in e)use(e,n)&&(t[n]=e[n])}function lse(t){return t&&typeof t=="string"}function cse(t){var e={};for(var n in t)e[n]=t[n];return e}function aD(t){return t&&typeof t=="object"||ise(t)}function use(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dse=ose,fse=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=dse({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=t.length,h=-1,p;function g(){if(s&&a.length)return s[a[a.length-1]]}for(;++h<u;){var A=t[h],v=t[h+1],y={val:A,idx:h,arr:l,str:t};if(o.push(y),A==="\\"){y.val=pse(r,t,h)===!0?A+v:v,y.escaped=!0,typeof n=="function"&&n(y),l[l.length-1]+=y.val,h++;continue}if(s&&s[A]){a.push(A);var w=g(),x=h+1;if(t.indexOf(w,x+1)!==-1)for(;a.length&&x<u;){var E=t[++x];if(E==="\\"){E++;continue}if(i.indexOf(E)!==-1){x=Wb(t,E,x+1);continue}if(w=g(),a.length&&t.indexOf(w,x+1)===-1)break;if(s[E]){a.push(E);continue}w===E&&a.pop()}if(p=x,p===-1){l[l.length-1]+=A;continue}A=t.slice(h,p+1),y.val=A,y.idx=h=p}if(i.indexOf(A)!==-1){if(p=Wb(t,A,h+1),p===-1){l[l.length-1]+=A;continue}hse(A,r)===!0?A=t.slice(h,p+1):A=t.slice(h+1,p),y.val=A,y.idx=h=p}if(typeof n=="function"&&(n(y,o),A=y.val,h=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function Wb(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?Wb(t,e,i+1):i}function hse(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function pse(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var mse=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},lD=mse,gse=function(e){lD(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];lD(i)&&Ase(e,i)}return e};function Ase(t,e){for(var n in e)vse(e,n)&&(t[n]=e[n])}function vse(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var yse=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _se=fse,xse=gse,cD=rU,uD=yse,wse=function(t,e,n){if(!uD(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=_se(e,{sep:".",brackets:!0}).filter(Cse),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){uD(o[a])||(o[a]={}),o=o[a];continue}cD(o[a])&&cD(n)?o[a]=xse({},o[a],n):o[a]=n}return t};function Cse(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var xE=AM,dD=ese,Ese=tse,fD=wse,Sse=function(e,n,r){if(!xE(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return dD.apply(null,arguments);if(typeof r=="string")return fD(e,n,r),e;var i=Ese(e,n);return xE(r)&&xE(i)&&(r=dD({},i,r)),fD(e,n,r),e};const bse=_f(Sse),vM=(...t)=>t.filter(Boolean).join(".");function Ise(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function Bse(t){const e=M.useRef(null),n=M.useRef(null),r=M.useRef(!0);return M.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),M.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const Mse=t=>{const[e,n]=M.useState(t.getVisiblePaths());return M.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:j4});return()=>r()},[t]),e};function sU(t=3){const e=M.useRef(null),n=M.useRef(null),[r,i]=M.useState(!1),s=M.useCallback(()=>i(!0),[]),o=M.useCallback(()=>i(!1),[]);return M.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=n.current.getBoundingClientRect(),h=a+u>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=c+"px",h==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}Ure([zre]);const Tse={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Rs.extend({color:()=>t=>ss(t).isValid()});const Rse=t=>Rs().color().test(t);function oU(t,{format:e,hasAlpha:n,isString:r}){const i=Tse[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?sne(s,["a"]):s}const aU=(t,e)=>{const n=ss(t);if(!n.isValid())throw Error("Invalid color");return oU(n,e)},Pse=(t,e)=>oU(ss(t),Ut(Ut({},e),{},{isString:!0,format:"hex"})),Dse=({value:t})=>{const e=Nre(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:aU(t,i),settings:i}};var Lse=Object.freeze({__proto__:null,schema:Rse,sanitize:aU,format:Pse,normalize:Dse});const Fse=bt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),kse=bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Ose=bt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function hD(t,e){return e!=="rgb"?ss(t).toRgb():t}function Nse({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Wi(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:c,shown:u,show:h,hide:p}=sU(),g=M.useRef(0),[A,v]=M.useState(()=>hD(t,o)),y=a?Jre:$re,w=()=>{v(hD(t,o)),h(),i()},x=()=>{p(),s(),window.clearTimeout(g.current)},E=()=>{g.current=window.setTimeout(x,500)};return M.useEffect(()=>()=>window.clearTimeout(g.current),[]),X.createElement(X.Fragment,null,X.createElement(Fse,{ref:l,active:u,onClick:()=>w(),style:{color:e}}),u&&X.createElement(cM,null,X.createElement(M5,{onPointerUp:x}),X.createElement(Ose,{ref:c,onMouseEnter:()=>window.clearTimeout(g.current),onMouseLeave:b=>b.buttons===0&&E()},X.createElement(y,{color:A,onChange:r}))))}function Use(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Wi();return X.createElement(Oo,{input:!0},X.createElement(ca,null,n),X.createElement(kse,null,X.createElement(Nse,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),X.createElement(lM,{value:e,onChange:r,onUpdate:i})))}var zse=Ut({component:Use},Lse);function Gse(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Wi();return X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(dM,{value:e,settings:r,onUpdate:n}))}var Qse=Ut({component:Gse},O5(["x","y","z"]));const Hse=bt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Vse=bt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Wse({value:t,settings:e,onUpdate:n}){const r=M.useRef(),i=M.useRef(0),s=M.useRef(0),o=M.useRef(1),[a,l]=M.useState(!1),[c,u]=M.useState(!1),[h,p]=R5(),g=M.useRef(null),A=M.useRef(null);M.useLayoutEffect(()=>{if(a){const{top:ee,left:Z,width:Y,height:q}=g.current.getBoundingClientRect();A.current.style.left=Z+Y/2+"px",A.current.style.top=ee+q/2+"px"}},[a]);const{keys:[v,y],joystick:w}=e,x=w==="invertY"?1:-1,{[v]:{step:E},[y]:{step:b}}=e,P=Wl("sizes","joystickWidth"),R=Wl("sizes","joystickHeight"),F=parseFloat(P)*.8/2,T=parseFloat(R)*.8/2,O=M.useCallback(()=>{r.current||(u(!0),i.current&&p({x:i.current*F}),s.current&&p({y:s.current*-T}),r.current=window.setInterval(()=>{n(ee=>{const Z=E*i.current*o.current,Y=x*b*s.current*o.current;return Array.isArray(ee)?{[v]:ee[0]+Z,[y]:ee[1]+Y}:{[v]:ee[v]+Z,[y]:ee[y]+Y}})},16))},[F,T,n,p,E,b,v,y,x]),U=M.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);M.useEffect(()=>{function ee(Z){o.current=m5(Z)}return window.addEventListener("keydown",ee),window.addEventListener("keyup",ee),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",ee),window.removeEventListener("keyup",ee)}},[]);const W=D0(({first:ee,active:Z,delta:[Y,q],movement:[de,fe]})=>{ee&&l(!0);const j=_u(de,-F,F),ne=_u(fe,-T,T);i.current=Math.abs(de)>Math.abs(j)?Math.sign(de-j):0,s.current=Math.abs(fe)>Math.abs(ne)?Math.sign(ne-fe):0;let re=t[v],pe=t[y];Z?(i.current||(re+=Y*E*o.current,p({x:j})),s.current||(pe-=x*q*b*o.current,p({y:ne})),i.current||s.current?O():U(),n({[v]:re,[y]:pe})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),U())});return X.createElement(Hse,Gr({ref:g},W()),a&&X.createElement(cM,null,X.createElement(Vse,{ref:A,isOutOfBounds:c},X.createElement("div",null),X.createElement("span",{ref:h}))))}const jse=bt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Jse(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Wi();return X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(jse,{withJoystick:!!r.joystick},r.joystick&&X.createElement(Wse,{value:e,settings:r,onUpdate:n}),X.createElement(dM,{value:e,settings:r,onUpdate:n})))}const Kse=["joystick"],lU=O5(["x","y"]),$se=t=>{let{joystick:e=!0}=t,n=Hn(t,Kse);const{value:r,settings:i}=lU.normalize(n);return{value:r,settings:Ut(Ut({},i),{},{joystick:e})}};var Yse=Ut(Ut({component:Jse},lU),{},{normalize:$se});const qse=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},Xse=(t,e)=>typeof e=="object"&&"image"in e,Zse=({image:t})=>({value:t});var eoe=Object.freeze({__proto__:null,sanitize:qse,schema:Xse,normalize:Zse});const toe=bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),noe=bt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),roe=bt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ioe=bt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),soe=bt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),ooe=bt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function aoe(){const{label:t,value:e,onUpdate:n,disabled:r}=Wi(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=sU(),c=M.useCallback(A=>{A.length&&n(A[0])},[n]),u=M.useCallback(A=>{A.stopPropagation(),n(void 0)},[n]),{getRootProps:h,getInputProps:p,isDragAccept:g}=nU({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(toe,null,X.createElement(roe,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&X.createElement(cM,null,X.createElement(M5,{onPointerUp:l,style:{cursor:"pointer"}}),X.createElement(ioe,{ref:s,style:{backgroundImage:`url(${e})`}})),X.createElement(noe,h({isDragAccept:g}),X.createElement("input",p()),X.createElement(soe,null,g?"drop image":"click or drop")),X.createElement(ooe,{onClick:u,disabled:!e})))}var loe=Ut({component:aoe},eoe);const pD=Rs().number(),coe=(t,e)=>Rs().array().length(2).every.number().test(t)&&Rs().schema({min:pD,max:pD}).test(e),R_=t=>({min:t[0],max:t[1]}),cU=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?R_(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=Ut(Ut({},s),i);return[_u(Number(o),e,Math.max(e,a)),_u(Number(a),Math.min(n,o),n)]},uoe=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=k5(R_(t),{min:r,max:r}),s=[e,n],o=Ut(Ut({},i),{},{bounds:s});return{value:cU(R_(t),o,t),settings:o}};var doe=Object.freeze({__proto__:null,schema:coe,format:R_,sanitize:cU,normalize:uoe});const foe=["value","bounds","onDrag"],hoe=["bounds"],poe=bt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function moe(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=Hn(t,foe);const o=M.useRef(null),a=M.useRef(null),l=M.useRef(null),c=M.useRef(0),u=Wl("sizes","scrubberWidth"),h=D0(({event:A,first:v,xy:[y],movement:[w],memo:x={}})=>{if(v){const{width:b,left:P}=o.current.getBoundingClientRect();c.current=b-parseFloat(u);const R=(A==null?void 0:A.target)===a.current||(A==null?void 0:A.target)===l.current;x.pos=b_((y-P)/b,n,r);const F=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=F<0||F===0&&x.pos<=e.min?"min":"max",R&&(x.pos=e[x.key])}const E=x.pos+b_(w/c.current,0,r-n);return i({[x.key]:Wne(E,s[x.key])}),x}),p=`calc(${S_(e.min,n,r)} * (100% - ${u} - 8px) + 4px)`,g=`calc(${1-S_(e.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return X.createElement(D5,Gr({ref:o},h()),X.createElement(P5,null,X.createElement(L5,{style:{left:p,right:g}})),X.createElement(Db,{position:"left",ref:a,style:{left:p}}),X.createElement(Db,{position:"right",ref:l,style:{right:g}}))}function goe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Wi(),i=Hn(r,hoe);return X.createElement(X.Fragment,null,X.createElement(Oo,{input:!0},X.createElement(ca,null,t),X.createElement(poe,null,X.createElement(moe,Gr({value:e},r,{onDrag:n})),X.createElement(dM,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var Aoe=Ut({component:goe},doe);const voe=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},yoe=["type","value"],_oe=["onChange","transient","onEditStart","onEditEnd"],xoe=function(){const e=Vie(Wie(()=>({data:{}}))),n=voe();this.storeId=ine(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,h])=>{h.render&&a.some(p=>p.indexOf(u)===0)&&!h.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(h=>u.indexOf(h)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in $a&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,h])=>{let p=c[u];if(p){const{type:g,value:A}=h,v=Hn(h,yoe);g!==p.type?kl(rr.INPUT_TYPE_OVERRIDE,g):((p.__refCount===0||a)&&Object.assign(p,v),p.__refCount++)}else c[u]=Ut(Ut({},h),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return O3(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Ut(Ut({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,h])=>{try{O3(c[u],h,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{kl(rr.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,Ut(Ut({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,Ut(Ut({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,h])=>{if(u==="")return kl(rr.EMPTY_KEY);let p=vM(a,u);if(h.type===$a.FOLDER){const g=s(h.schema,p,l);Object.assign(c,g),p in r||(r[p]=h.settings)}else if(u in l)kl(rr.DUPLICATE_KEYS,u,p,l[u].path);else{const g=dne(h,u,p,c);if(g){const{type:A,options:v,input:y}=g,{onChange:w,transient:x,onEditStart:E,onEditEnd:b}=v,P=Hn(v,_oe);c[p]=Ut(Ut(Ut({type:A},P),y),{},{fromPanel:!0}),l[u]={path:p,onChange:w,transient:x,onEditStart:E,onEditEnd:b}}else kl(rr.UNKNOWN_INPUT,p,h)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new xoe;const mD=t=>"__levaInput"in t,woe=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=Ise(i);(!r||s.toLowerCase().indexOf(r)>-1)&&bse(n,o,{[s]:{__levaInput:!0,path:i}})}),n},Coe=["type","label","path","valueKey","value","settings","setValue","disabled"];function Eoe(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,c=Hn(t,Coe);const{displayValue:u,onChange:h,onUpdate:p}=T5({type:e,value:s,settings:o,setValue:a}),g=vf[e].component;return g?X.createElement(_5.Provider,{value:Ut({key:i,path:r,id:""+r,label:n,displayValue:u,value:s,onChange:h,onUpdate:p,settings:o,setValue:a,disabled:l},c)},X.createElement(Mne,{disabled:l},X.createElement(g,null))):(kl(rr.NO_COMPONENT_FOR_TYPE,e,r),null)}const Soe=bt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function boe({onClick:t,settings:e,label:n}){const r=P0();return X.createElement(Oo,null,X.createElement(Soe,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const Ioe=bt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Boe=bt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Moe=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function Toe(t){const{label:e,opts:n}=Moe(t),r=P0();return X.createElement(Oo,{input:!!e},e&&X.createElement(ca,null,e),X.createElement(Ioe,null,Object.entries(n).map(([i,s])=>X.createElement(Boe,{key:i,onClick:()=>s(r.get)},i))))}const Roe=bt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),uU=100;function Poe(t,e){t.push(e),t.length>uU&&t.shift()}const Doe=M.forwardRef(function({initialValue:t},e){const n=Wl("colors","highlight3"),r=Wl("colors","elevation2"),i=Wl("colors","highlight1"),[s,o]=M.useMemo(()=>[ss(i).alpha(.4).toRgbString(),ss(i).alpha(.1).toRgbString()],[i]),a=M.useRef([t]),l=M.useRef(t),c=M.useRef(t),u=M.useRef(),h=M.useCallback((A,v)=>{if(!A)return;const{width:y,height:w}=A,x=new Path2D,E=y/uU,b=w*.05;for(let F=0;F<a.current.length;F++){const T=S_(a.current[F],l.current,c.current),O=E*F,U=w-T*(w-b*2)-b;x.lineTo(O,U)}v.clearRect(0,0,y,w);const P=new Path2D(x);P.lineTo(E*(a.current.length+1),w),P.lineTo(0,w),P.lineTo(0,0);const R=v.createLinearGradient(0,0,0,w);R.addColorStop(0,s),R.addColorStop(1,o),v.fillStyle=R,v.fill(P),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(x),v.strokeStyle=n,v.lineWidth=2,v.stroke(x)},[n,r,s,o]),[p,g]=Nne(h);return M.useImperativeHandle(e,()=>({frame:A=>{(l.current===void 0||A<l.current)&&(l.current=A),(c.current===void 0||A>c.current)&&(c.current=A),Poe(a.current,A),u.current=requestAnimationFrame(()=>h(p.current,g.current))}}),[p,g,h]),M.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),X.createElement(Roe,{ref:p})}),gD=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),Loe=M.forwardRef(function({initialValue:t},e){const[n,r]=M.useState(gD(t));return M.useImperativeHandle(e,()=>({frame:i=>r(gD(i))}),[]),X.createElement("div",null,n)});function AD(t){return typeof t=="function"?t():t.current}function Foe({label:t,objectOrFn:e,settings:n}){const r=M.useRef(),i=M.useRef(AD(e));return M.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(AD(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),X.createElement(Oo,{input:!0},X.createElement(ca,{align:"top"},t),n.graph?X.createElement(Doe,{ref:r,initialValue:i.current}):X.createElement(Loe,{ref:r,initialValue:i.current}))}const koe=["type","label","key"],Ooe={[$a.BUTTON]:boe,[$a.BUTTON_GROUP]:Toe,[$a.MONITOR]:Foe},Noe=X.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=zne(t);if(!e)return null;const{type:l,label:c,key:u}=e,h=Hn(e,koe);if(l in $a){const p=Ooe[l];return X.createElement(p,Gr({label:c,path:t},h))}return l in vf?X.createElement(Eoe,Gr({key:s+t,type:l,label:c,storeId:s,path:t,valueKey:u,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},h)):(Yte(rr.UNSUPPORTED_INPUT,l,t),null)});function Uoe({toggle:t,toggled:e,name:n}){return X.createElement(bne,{onClick:()=>t()},X.createElement(uM,{toggled:e}),X.createElement("div",null,n))}const zoe=({name:t,path:e,tree:n})=>{const r=P0(),i=vM(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=M.useState(!s),c=M.useRef(null),u=Wl("colors","folderWidgetColor"),h=Wl("colors","folderTextColor");return M.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,u,h]),X.createElement(I_,{ref:c},X.createElement(Uoe,{name:t,toggled:a,toggle:()=>l(p=>!p)}),X.createElement(dU,{parent:i,tree:n,toggled:a}))},dU=X.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Bse(s),l=P0(),c=([h,p])=>{var g;return(mD(p)?(g=l.getInput(p.path))===null||g===void 0?void 0:g.order:l.getFolderSettings(vM(r,h)).order)||0},u=Object.entries(i).sort((h,p)=>c(h)-c(p));return X.createElement(Rb,{ref:o,isRoot:t,fill:e,flat:n},X.createElement(b5,{ref:a,isRoot:t,toggled:s},u.map(([h,p])=>mD(p)?X.createElement(Noe,{key:p.path,valueKey:p.valueKey,path:p.path}):X.createElement(zoe,{key:h,name:h,path:r,tree:p}))))}),Goe=bt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${B5}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),fU=40,P_=bt("i",{$flexCenter:"",width:fU,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Qoe=bt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Hoe=bt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${P_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Voe=bt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Woe=bt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:fU}}}}),joe=X.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=M.useState(""),s=M.useMemo(()=>p5(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return M.useEffect(()=>{s(r)},[r,s]),X.createElement(X.Fragment,null,X.createElement(Voe,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),X.createElement(P_,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Joe({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,h]=M.useState(!1),p=M.useRef(null);M.useEffect(()=>{var A,v;u?(A=p.current)===null||A===void 0||A.focus():(v=p.current)===null||v===void 0||v.blur()},[u]);const g=D0(({offset:[A,v],first:y,last:w})=>{e({x:A,y:v}),y&&n({x:A,y:v}),w&&r({x:A,y:v})},{filterTaps:!0,from:({offset:[A,v]})=>[(c==null?void 0:c.x)||A,(c==null?void 0:c.y)||v]});return M.useEffect(()=>{const A=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&h(y=>!y)};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]),X.createElement(X.Fragment,null,X.createElement(Qoe,{mode:a?"drag":void 0},X.createElement(P_,{active:!s,onClick:()=>i()},X.createElement(uM,{toggled:s,width:12,height:8})),X.createElement(Woe,Gr({},a?g():{},{drag:a,filterEnabled:l}),o===void 0&&a?X.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},X.createElement("circle",{cx:"2",cy:"2",r:"2"}),X.createElement("circle",{cx:"14",cy:"2",r:"2"}),X.createElement("circle",{cx:"26",cy:"2",r:"2"}),X.createElement("circle",{cx:"2",cy:"12",r:"2"}),X.createElement("circle",{cx:"14",cy:"12",r:"2"}),X.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&X.createElement(P_,{active:u,onClick:()=>h(A=>!A)},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},X.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),X.createElement(Hoe,{toggled:u},X.createElement(joe,{ref:p,setFilter:t,toggle:i})))}X.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,h;const p=Mse(t),[g,A]=M.useState(""),v=M.useMemo(()=>woe(p,g),[p,g]),[y,w]=R5(),x=i||p.length>0,E=typeof o=="object"&&o.title||void 0,b=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,P=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,R=typeof o=="object"&&o.position||void 0,F=typeof o=="object"&&o.onDrag||void 0,T=typeof o=="object"&&o.onDragStart||void 0,O=typeof o=="object"&&o.onDragEnd||void 0;return X.useEffect(()=>{w({x:R==null?void 0:R.x,y:R==null?void 0:R.y})},[R,w]),_ne(),X.createElement(C5.Provider,{value:{hideCopyButton:a}},X.createElement(Goe,{ref:y,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&X.createElement(Joe,{onDrag:U=>{w(U),F==null||F(U)},onDragStart:U=>T==null?void 0:T(U),onDragEnd:U=>O==null?void 0:O(U),setFilter:A,toggle:U=>c(W=>U??!W),toggled:l,title:E,drag:b,filterEnabled:P,from:R}),x&&X.createElement(w5.Provider,{value:t},X.createElement(dU,{isRoot:!0,fill:n,flat:r,tree:v,toggled:l}))))});sc(sa.SELECT,rre);sc(sa.IMAGE,loe);sc(sa.NUMBER,Jne);sc(sa.COLOR,zse);sc(sa.STRING,fre);sc(sa.BOOLEAN,yre);sc(sa.INTERVAL,Aoe);sc(sa.VECTOR3D,Qse);sc(sa.VECTOR2D,Yse);const p1=2.5,Fc=8;new qt;new Ve;const Qh=new dn,Koe=Array.from({length:1e3},()=>({color:3435973836,scale:1}));function $oe({range:t,...e}){return G(Yoe,{data:Koe,range:t})}function Yoe({data:t,range:e}){const[n,r]=M.useState(),i=M.useMemo(()=>Float32Array.from(new Array(1e3).fill().flatMap((c,u)=>Qh.set(.1,.1,.1,1).toArray())),[]),s=M.useRef(),o=M.useRef(),a=M.useMemo(()=>new qt,[]),l=M.useMemo(()=>{const c=[];for(let u=0;u<e;u++){const h=Math.random()*100,p=2+Math.random()*100,g=.05+Math.random()/200,A=0+Math.random()*100,v=0+Math.random()*100,y=0+Math.random()*100,w=os.randFloatSpread(1.2),x=Math.random()*Fc,E=os.randFloatSpread(1.2);c.push({t:h,factor:p,speed:g,xFactor:A,yFactor:v,zFactor:y,mx:0,my:0,x:w,y:x,z:E})}return c},[e]);return M.useEffect(()=>void(o.current=n),[n]),ic(c=>{c.clock.getElapsedTime(),l.forEach((u,h)=>{let{t:p,factor:g,speed:A,xFactor:v,yFactor:y,zFactor:w}=u;p=u.t+=A/2;const x=Math.cos(p)+Math.sin(p*1)/10,E=Math.sin(p)+Math.cos(p*2)/10,b=Math.cos(p);u.mx+=u.mx*.01,u.my+=u.my*.01,a.position.set(u.mx/10*x+v+Math.cos(p/10*g)+Math.sin(p*1)*g/10,u.my/10*E+y+Math.sin(p/10*g)+Math.cos(p*2)*g/10,u.my/10*E+w+Math.cos(p/10*g)+Math.sin(p*3)*g/10),u.y+=A,u.y>=Fc?(u.y=0,u.x=os.randFloatSpread(1.2),u.z=os.randFloatSpread(1.2)):(u.x+=Math.sign(u.x)*os.mapLinear(u.y,p1,Fc,0,.01),u.z+=Math.sign(u.z)*os.mapLinear(u.y,p1,Fc,0,.01)),a.position.set(u.x,u.y,u.z);const P=os.mapLinear(Fc-u.y,p1,Fc,1,0);a.scale.set(P,P,P),a.rotation.set(b*5,b*5,b*5),a.updateMatrix(),s.current.setMatrixAt(h,a.matrix),Qh.x=i[h*4+0],Qh.y=i[h*4+1],Qh.z=i[h*4+2],Qh.w=os.mapLinear(Fc-u.y,p1,Fc,.2,1),Qh.toArray(i,h*4)}),s.current.instanceMatrix.needsUpdate=!0,s.current.geometry.attributes.color.needsUpdate=!0}),Tt("instancedMesh",{ref:s,args:[null,null,e],onPointerMove:c=>(c.stopPropagation(),r(c.instanceId)),onPointerOut:c=>r(void 0),receiveShadow:!0,children:[G("boxGeometry",{args:[.6,.6,.6],children:G("instancedBufferAttribute",{attach:"attributes-color",args:[i,4]})}),G("meshStandardMaterial",{depthTest:!0,depthWrite:!0,transparent:!0,toneMapped:!0,vertexColors:!0,vertexAlphas:!0})]})}Ex({MeshLineGeometry:AZ,MeshLineMaterial:_Z});const wE=()=>Math.max(.2,Math.random());function qoe({curve:t,width:e,color:n,speed:r}){const i=M.useRef();return ic(()=>i.current.uniforms.dashOffset.value-=r),Tt("mesh",{children:[G("meshLineGeometry",{points:t}),G("meshLineMaterial",{ref:i,transparent:!0,depthTest:!0,depthWrite:!0,lineWidth:e,color:n,dashArray:.05,dashRatio:.9})]})}function Xoe({count:t,colors:e,radius:n=.25}){const r=M.useMemo(()=>new Array(t).fill().map((l,c)=>{const u=new H(Math.sin(0)*n*wE(),Math.cos(0)*n*wE(),0),h=os.randFloat(0,.2),p=new Array(20).fill().map((A,v)=>{const y=v*Math.PI*8*wE();return u.add(new H(Math.sin(y)*n+os.randFloatSpread(1.2)*n,h+v/100,Math.sin(y)*n+os.randFloatSpread(1.2)*n)).clone()}),g=new IB(p).getPoints(1e3);return{color:e[parseInt(e.length*Math.random())],width:Math.max(.009,.2*c/200),speed:Math.max(.003,.009*Math.random()),curve:g}}),[t]),i=M.useRef(),{size:s,viewport:o}=yi(),a=s.width/o.width;return ic(()=>{i.current&&(i.current.rotation.x=os.lerp(i.current.rotation.x,0/a/200,.1),i.current.rotation.y=os.lerp(i.current.rotation.y,0/a/400,.1))}),G("group",{ref:i,children:G("group",{scale:[1,1,1],children:r.map((l,c)=>G(qoe,{...l},c))})})}function Zoe(){const t={range:250};return M.useEffect(()=>{dE.project.ready.then(()=>dE.sequence.play({rate:1,iterationCount:1/0,range:[0,3.31]}))},[]),Tt(ec,{children:[Tt(Q4,{sheet:dE,children:[G(Va.pointLight,{theatreKey:"campFireBlueLight",distance:20,position:[-.5,5.7,-.5],color:2194884,intensity:1.5}),G(Va.pointLight,{theatreKey:"campFireLight",distance:20,castShadow:!0,"shadow-bias":-1e-4,position:[-.5,.7,-.5],color:16742144,intensity:1.5}),G(Va.group,{theatreKey:"particles",position:[-.5,2.5,-.5],children:G($oe,{...t})}),G(Va.group,{theatreKey:"particlesSparks",position:[-.5,.5,-.5],children:G(Xoe,{count:10,colors:["#edad2d","#fdc555","#e9bf6b","#ebd4a7"]})})]}),G(gee,{})]})}const eae=()=>{const t=us("./models/animal/fox_sitting.glb");return G("primitive",{scale:.3,position:[16.4,10.7,13],"rotation-y":-2,object:t.scene})},Ng=({path:t,scale:e,position:n,rotation:r,actionName:i})=>{const s=M.useRef(),{nodes:o,materials:a,animations:l}=us(t),{actions:c}=xZ(l,s);return M.useEffect(()=>{const u=c[i];return u.reset().fadeIn(.5).play(),()=>{u.fadeOut(.5)}},[i]),G("group",{ref:s,scale:e,position:n,rotation:r,dispose:null,children:G("group",{name:"Scene",children:Tt("group",{name:"Armature",children:[G("primitive",{object:o.mixamorigHips}),G("skinnedMesh",{name:"Character",geometry:o.Character.geometry,material:a.material,skeleton:o.Character.skeleton,frustumCulled:!1})]})})})},tae=()=>{const t=us("./models/tempProps/chair-v1-transformed.glb"),e=us("./models/tempProps/cooler-v1-transformed.glb"),[n,r]=M.useState("Idle"),i=Ms.object("DanneyAnimation",{animationName:"Idle"});return M.useEffect(()=>i.onValuesChange(s=>{r(s.animationName)}),[i]),Tt(ec,{children:[G(Ng,{path:"./models/characters/character_01-v1-transformed.glb",scale:1.2,position:[-10.8,-1,23],rotation:[0,-.3,0],actionName:n}),G(Ng,{path:"./models/characters/character_02-v1-transformed.glb",scale:1.2,position:[-9.5,-.62,24.5],rotation:[1.6,0,1],actionName:"Sitting"}),G(Ng,{path:"./models/characters/character_03-v1-transformed.glb",scale:1.2,position:[-13.2,-1.1,21.7],rotation:[1.6,0,0],actionName:"SittingRelaxed"}),G(Ng,{path:"./models/characters/character_04-v1-transformed.glb",scale:1.2,position:[-12,-1.03,22],rotation:[1.6,0,.75],actionName:"SittingTalking"}),G(Ng,{path:"./models/characters/character_05-v1-transformed.glb",scale:1.2,position:[-12.3,-1.7,24.6],rotation:[1.6,0,.6],actionName:"SittingMovingLegs"}),G("mesh",{geometry:t.nodes.SM_Prop_Deckchair_01_1.geometry,material:t.materials.PolygonTown_01_A,scale:1.1,position:[-13.2,-1.1,21.6]}),G("mesh",{geometry:t.nodes.SM_Prop_Deckchair_01_1.geometry,material:t.materials.PolygonTown_01_A,scale:1.1,position:[-12,-1,22],"rotation-y":-.3}),G("mesh",{geometry:e.nodes.SM_Prop_Cooler_01_1.geometry,material:e.materials.PolygonTown_01_A,scale:1,position:[-12.5,-1.12,21.5],"rotation-y":-.3})]})};function nae(){return Tt("mesh",{children:[G("icosahedronGeometry",{args:[40,5]}),G("meshBasicMaterial",{side:1,children:G(hZ,{stops:[0,.25,.4,.5,1],colors:["#0F1B33","#263B5E","#1E2C4F","#0D0D2A","#0D0D2A"]})})]})}function rae(){return Tt(ec,{children:[G("pointLight",{distance:20,position:[10,3,4],color:2194884,intensity:.6}),G("pointLight",{distance:20,position:[-15,3,4],color:2194884,intensity:.6}),G("pointLight",{distance:20,position:[5,3,14],color:2194884,intensity:.6}),G("pointLight",{distance:20,position:[-10,3,14],color:2194884,intensity:.6}),G("pointLight",{distance:10,position:[18,14,14],color:16742144,intensity:1}),G("pointLight",{distance:15,position:[-10,1,25],color:16742144,intensity:.6})]})}function iae({amount:t}){const e=M.useMemo(()=>{const n=[];for(let r=0;r<t;r++){const i=[Math.floor(Math.random()*20)-17,Math.floor(Math.random()*20)+30,Math.floor(Math.random()*20)-0];n.push(G(LZ,{position:i},r))}return n},[]);return G(ec,{children:e})}function sae(t){const e=us("/models/board/board.glb");return G(Va.group,{theatreKey:"board",children:G("primitive",{object:e.scene,position:[-12.5,-.05,-8.2],scale:7,rotation:[0,.95,0],children:G(C4,{transform:!0,distanceFactor:.1,"position-x":-.002,"position-y":.01,"position-z":-.028,"rotation-y":Math.PI,children:Tt("div",{className:"board",children:[G("p",{className:"board-title",children:"Our Stacks:"}),Tt("ul",{className:"board-list",children:[G("li",{children:"React"}),G("li",{children:"React-fiber"}),G("li",{children:"Fiber-drei"}),G("li",{children:"Threatre"}),G("li",{children:"Framer-motion"}),G("li",{children:"Zustand"}),G("li",{children:"Leva"}),G("li",{children:"Vite"})]})]})})})})}function oae({ready:t,soundLevel:e}){const n=M.useRef();return M.useEffect(()=>{t&&Ms.sequence.play({range:[0,.7],rate:.3})},[t]),Tt(ec,{children:[G("hemisphereLight",{skyColor:"#ffffff",groundColor:"#919191",intensity:.15}),G(lee,{theatreKey:"Camera",makeDefault:!0,position:[-5,18,-50],fov:35,lookAt:n}),G(Va.group,{theatreKey:"CameraTarget",ref:n,position:[0,0,5]}),G(uee,{text:"Team Archies"}),G("group",{position:[0,0,0],children:G(iae,{amount:1})}),Tt("group",{position:[0,-11.9,0],children:[G(fee,{}),t&&G($P,{autoplay:!0,loop:!0,url:"audio/Crickets.mp3",distance:10*e})]}),Tt("group",{position:[-8,-1,5],children:[G(Zoe,{}),t&&G($P,{autoplay:!0,loop:!0,url:"audio/Fire.mp3",distance:5*e})]}),G(cee,{}),G(eae,{}),G(tae,{}),G(rae,{}),G(nae,{}),G(sae,{})]})}ko.preload(Cx,"audio/Fire.mp3");ko.preload(Cx,"audio/Crickets.mp3");/**
 * postprocessing v6.30.2 build Fri Mar 31 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var aae=`#include <packing>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
uniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));
#if __VERSION__ < 300
float l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#else
float l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#endif
l0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}`,yM="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",lae=class extends zr{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:nc.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new Xe(null),luminanceBuffer1:new Xe(null),minLuminance:new Xe(.01),deltaTime:new Xe(0),tau:new Xe(1)},extensions:{shaderTextureLOD:!0},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:aae,vertexShader:yM}),this.toneMapped=!1}set luminanceBuffer0(t){this.uniforms.luminanceBuffer0.value=t}setLuminanceBuffer0(t){this.uniforms.luminanceBuffer0.value=t}set luminanceBuffer1(t){this.uniforms.luminanceBuffer1.value=t}setLuminanceBuffer1(t){this.uniforms.luminanceBuffer1.value=t}set mipLevel1x1(t){this.defines.MIP_LEVEL_1X1=t.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(t){this.mipLevel1x1=t}set deltaTime(t){this.uniforms.deltaTime.value=t}setDeltaTime(t){this.uniforms.deltaTime.value=t}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(t){this.uniforms.minLuminance.value=t}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(t){this.uniforms.minLuminance.value=t}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(t){this.uniforms.tau.value=t}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(t){this.uniforms.tau.value=t}},Mt={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},cu={NONE:0,DEPTH:1,CONVOLUTION:2},mn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},lm={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},cae={SCALE_UP:"lut.scaleup"},Bl={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},m1={DEFAULT:0,ESKIL:1},uae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,dae="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",fae=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],hU=class extends zr{constructor(t=new dn){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Xe(null),texelSize:new Xe(new dn),scale:new Xe(1),kernel:new Xe(0)},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:uae,vertexShader:dae}),this.toneMapped=!1,this.setTexelSize(t.x,t.y),this.kernelSize=lm.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return fae[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},hae=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,pU=class extends zr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Xe(null),opacity:new Xe(1)},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:hae,vertexShader:yM}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},pae=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,mae="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",gae=class extends zr{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Xe(null),normalBuffer:new Xe(null),texelSize:new Xe(new Ee)},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:pae,vertexShader:mae}),this.toneMapped=!1}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Iu){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Aae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <encodings_fragment>
}`,vae="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",yae=class extends zr{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Xe(null),texelSize:new Xe(new Ee)},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:Aae,vertexShader:vae}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},_ae=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,xae="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",wae=class extends zr{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:nc.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Xe(null),depthBuffer:new Xe(null),resolution:new Xe(new Ee),texelSize:new Xe(new Ee),cameraNear:new Xe(.3),cameraFar:new Xe(1e3),aspect:new Xe(1),time:new Xe(0)},blending:Ai,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Iu){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){var e,n,r,i,s;return this.fragmentShader=_ae.replace(mn.FRAGMENT_HEAD,(e=t.get(mn.FRAGMENT_HEAD))!=null?e:"").replace(mn.FRAGMENT_MAIN_UV,(n=t.get(mn.FRAGMENT_MAIN_UV))!=null?n:"").replace(mn.FRAGMENT_MAIN_IMAGE,(r=t.get(mn.FRAGMENT_MAIN_IMAGE))!=null?r:""),this.vertexShader=xae.replace(mn.VERTEX_HEAD,(i=t.get(mn.VERTEX_HEAD))!=null?i:"").replace(mn.VERTEX_MAIN_SUPPORT,(s=t.get(mn.VERTEX_MAIN_SUPPORT))!=null?s:""),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof vr?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return mn}},Cae=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,Eae=class extends zr{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:nc.replace(/\D+/g,"")},uniforms:{inputBuffer:new Xe(null),threshold:new Xe(0),smoothing:new Xe(1),range:new Xe(null)},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:Cae,vertexShader:yM}),this.toneMapped=!1,this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},Sae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,bae="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",Iae=class extends hU{constructor({kernelSize:t=lm.MEDIUM,offset:e=0,rotation:n=0,focusArea:r=.4,feather:i=.3}={}){super(),this.fragmentShader=Sae,this.vertexShader=bae,this.kernelSize=t,this.uniforms.aspect=new Xe(1),this.uniforms.rotation=new Xe(new Ee),this.uniforms.maskParams=new Xe(new dn),this._offset=e,this._focusArea=r,this._feather=i,this.rotation=n,this.updateParams()}updateParams(){const t=this.uniforms.maskParams.value,e=Math.max(this.focusArea,0),n=Math.max(e-this.feather,0);t.set(this.offset-e,this.offset-n,this.offset+e,this.offset+n)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(t){this.uniforms.rotation.value.set(Math.cos(t),Math.sin(t))}get offset(){return this._offset}set offset(t){this._offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.updateParams()}setSize(t,e){super.setSize(t,e),this.uniforms.aspect.value=t/e}},Bae=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <encodings_fragment>
}`,Mae="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Tae=class extends zr{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Xe(null),supportBuffer:new Xe(null),texelSize:new Xe(new Ee),radius:new Xe(.85)},blending:Ai,depthWrite:!1,depthTest:!1,fragmentShader:Bae,vertexShader:Mae}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Rae=new $p,kc=null;function Pae(){if(kc===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);kc=new kt,kc.setAttribute!==void 0?(kc.setAttribute("position",new Ft(t,3)),kc.setAttribute("uv",new Ft(e,2))):(kc.addAttribute("position",new Ft(t,3)),kc.addAttribute("uv",new Ft(e,2)))}return kc}var Os=class{constructor(t="Pass",e=new Up,n=Rae){this.name=t,this.renderer=null,this.scene=e,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const e=this.fullscreenMaterial;e!==null&&(e.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let e=this.screen;e!==null?e.material=t:(e=new $r(Pae(),t),e.frustumCulled=!1,this.scene===null&&(this.scene=new Up),this.scene.add(e),this.screen=e)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,e=Iu){}render(t,e,n,r,i){throw new Error("Render method not implemented!")}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Zn||e instanceof _r||e instanceof Tn||e instanceof Os)&&this[t].dispose()}}},mU=class extends Os{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new pU,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Zn(1,1,{minFilter:sn,magFilter:sn,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Gn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":t.outputEncoding===St&&(this.renderTarget.texture.encoding=St))}},Dae=class extends Os{constructor(t,{minLuminance:e=.01,adaptationRate:n=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new lae,this.needsSwap=!1,this.renderTargetPrevious=new Zn(1,1,{minFilter:vn,magFilter:vn,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const r=this.fullscreenMaterial;r.luminanceBuffer0=this.renderTargetPrevious.texture,r.luminanceBuffer1=t,r.minLuminance=e,r.adaptationRate=n,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new mU(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(t){this.fullscreenMaterial.mipLevel1x1=t}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(t){this.fullscreenMaterial.adaptationRate=t}render(t,e,n,r,i){this.fullscreenMaterial.deltaTime=r,t.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),t.render(this.scene,this.camera),this.copyPass.render(t,this.renderTargetAdapted)}},Lae=class extends Os{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},vD=new Ve,gU=class extends Os{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,c=o>=0;l?(t.getClearColor(vD),t.setClearColor(s,c?o:a)):c&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(vD,a):c&&t.setClearAlpha(a)}},Oc=-1,Mr=class extends Lo{constructor(t,e=Oc,n=Oc,r=1){super(),this.resizable=t,this.baseSize=new Ee(1,1),this.preferredSize=new Ee(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new Ee,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==Oc?n.width=e.width:e.height!==Oc?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==Oc?n.height=e.height:e.width!==Oc?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(Oc),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Oc}},CE=!1,yD=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case as:n=this.materialsFlatShadedDoubleSide;break;case li:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case as:n=this.materialsDoubleSide;break;case li:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof zr))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,n.set(i,s))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=ia;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=li,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=as,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=li,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=as,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,CE){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return CE}static set workaroundEnabled(t){CE=t}},AU=class extends Os{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new gU,this.overrideMaterialManager=n===null?null:new yD(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new yD(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,c=s.background,u=t.shadowMap.autoUpdate,h=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(h),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=c,t.shadowMap.autoUpdate=u}},Fae=class extends Os{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=Mr.AUTO_SIZE,height:r=Mr.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new gae;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Zn(1,1,{minFilter:vn,magFilter:vn,depthBuffer:!1,type:Ar}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new Mr(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=Iu){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function _D(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function kae(t,e,n){var r,i,s,o,a;let l=e.getFragmentShader(),c=e.getVertexShader();const u=l!==void 0&&/mainImage/.test(l),h=l!==void 0&&/mainUv/.test(l);if(n.attributes|=e.getAttributes(),l===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(h&&n.attributes&cu.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!u&&!h)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const p=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,g=n.shaderParts;let A=(r=g.get(mn.FRAGMENT_HEAD))!=null?r:"",v=(i=g.get(mn.FRAGMENT_MAIN_UV))!=null?i:"",y=(s=g.get(mn.FRAGMENT_MAIN_IMAGE))!=null?s:"",w=(o=g.get(mn.VERTEX_HEAD))!=null?o:"",x=(a=g.get(mn.VERTEX_MAIN_SUPPORT))!=null?a:"";const E=new Set,b=new Set;if(h&&(v+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),c!==null&&/mainSupport/.test(c)){const F=/mainSupport *\([\w\s]*?uv\s*?\)/.test(c);x+=`	${t}MainSupport(`,x+=F?`vUv);
`:`);
`;for(const T of c.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const O of T[1].split(/\s*,\s*/))n.varyings.add(O),E.add(O),b.add(O);for(const T of c.matchAll(p))b.add(T[1])}for(const F of l.matchAll(p))b.add(F[1]);for(const F of e.defines.keys())b.add(F.replace(/\([\w\s,]*\)/g,""));for(const F of e.uniforms.keys())b.add(F);b.delete("while"),b.delete("for"),b.delete("if"),e.uniforms.forEach((F,T)=>n.uniforms.set(t+T.charAt(0).toUpperCase()+T.slice(1),F)),e.defines.forEach((F,T)=>n.defines.set(t+T.charAt(0).toUpperCase()+T.slice(1),F));const P=new Map([["fragment",l],["vertex",c]]);_D(t,b,n.defines),_D(t,b,P),l=P.get("fragment"),c=P.get("vertex");const R=e.blendMode;if(n.blendModes.set(R.blendFunction,R),u){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(y+=e.inputColorSpace===St?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==null?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const F=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;y+=`${t}MainImage(color0, UV, `,n.attributes&cu.DEPTH&&F.test(l)&&(y+="depth, ",n.readDepth=!0),y+=`color1);
	`;const T=t+"BlendOpacity";n.uniforms.set(T,R.opacity),y+=`color0 = blend${R.blendFunction}(color0, color1, ${T});

	`,A+=`uniform float ${T};

`}if(A+=l+`
`,c!==null&&(w+=c+`
`),g.set(mn.FRAGMENT_HEAD,A),g.set(mn.FRAGMENT_MAIN_UV,v),g.set(mn.FRAGMENT_MAIN_IMAGE,y),g.set(mn.VERTEX_HEAD,w),g.set(mn.VERTEX_MAIN_SUPPORT,x),e.extensions!==null)for(const F of e.extensions)n.extensions.add(F)}}var Oae=class extends Os{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new wae(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new Wae;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Mt.DST)t.attributes|=o.getAttributes()&cu.DEPTH;else{if(t.attributes&o.getAttributes()&cu.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);kae("e"+e++,o,t)}let n=t.shaderParts.get(mn.FRAGMENT_HEAD),r=t.shaderParts.get(mn.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(mn.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&cu.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===St&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(mn.FRAGMENT_HEAD,n),t.shaderParts.set(mn.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(mn.FRAGMENT_MAIN_UV,i),t.shaderParts.forEach((o,a,l)=>l.set(a,o==null?void 0:o.trim().replace(/^#/,`
#`))),this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=Iu){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==Gn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},vU=class extends Os{constructor({kernelSize:t=lm.MEDIUM,resolutionScale:e=.5,width:n=Mr.AUTO_SIZE,height:r=Mr.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Zn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Mr(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new hU,this._blurMaterial.kernelSize=t,this.copyMaterial=new pU}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=this.blurMaterial,u=c.kernelSequence;let h=e;this.fullscreenMaterial=c;for(let p=0,g=u.length;p<g;++p){const A=p&1?l:a;c.kernel=u[p],c.inputBuffer=h.texture,t.setRenderTarget(A),t.render(s,o),h=A}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=h.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Gn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):t.outputEncoding===St&&(this.renderTargetA.texture.encoding=St,this.renderTargetB.texture.encoding=St))}static get AUTO_SIZE(){return Mr.AUTO_SIZE}},yU=class extends Os{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:r=1,width:i=Mr.AUTO_SIZE,height:s=Mr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new Eae(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Zn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Mr(this,o,a,r);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==Gn&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Nae=class extends Os{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new gU(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,h=1-u;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,u,4294967295),o.stencil.setClear(h),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(t,null):(c.render(t,e),c.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},Uae=class extends Os{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Zn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new yae,this.upsamplingMaterial=new Tae,this.resolution=new Ee}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const r=e.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let n=1,r=t-1;n<r;++n){const i=e.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:c,upsamplingMipmaps:u}=this;let h=e;this.fullscreenMaterial=a;for(let p=0,g=c.length;p<g;++p){const A=c[p];a.setSize(h.width,h.height),a.inputBuffer=h.texture,t.setRenderTarget(A),t.render(s,o),h=A}this.fullscreenMaterial=l;for(let p=u.length-1;p>=0;--p){const g=u[p];l.setSize(h.width,h.height),l.inputBuffer=h.texture,l.supportBuffer=c[p].texture,t.setRenderTarget(g),t.render(s,o),h=g}}setSize(t,e){const n=this.resolution;n.set(t,e);let r=n.width,i=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(t,e,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==Gn)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(t.outputEncoding===St)for(const i of r)i.texture.encoding=St}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},zae=class extends Os{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Mr.AUTO_SIZE,height:s=Mr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new AU(t,e,new DB);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const c=l.getClearPass();c.overrideClearColor=new Ve(7829503),c.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Zn(1,1,{minFilter:vn,magFilter:vn}),this.renderTarget.texture.name="NormalPass.Target");const u=this.resolution=new Mr(this,o,a,r);u.addEventListener("change",h=>this.setSize(u.baseWidth,u.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},Gae=class extends vU{constructor({offset:t=0,rotation:e=0,focusArea:n=.4,feather:r=.3,kernelSize:i=lm.MEDIUM,resolutionScale:s=.5,resolutionX:o=Mr.AUTO_SIZE,resolutionY:a=Mr.AUTO_SIZE}={}){super({kernelSize:i,resolutionScale:s,resolutionX:o,resolutionY:a}),this.blurMaterial=new Iae({kernelSize:i,offset:t,rotation:e,focusArea:n,feather:r})}},EE=1/1e3,Qae=1e3,Hae=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*EE}get fixedDelta(){return this._fixedDelta*EE}set fixedDelta(t){this._fixedDelta=t*Qae}get elapsed(){return this._elapsed*EE}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},Vae=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new mU,this.depthTexture=null,this.passes=[],this.timer=new Hae,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new Ee),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Gn&&e.outputEncoding===St&&(this.inputBuffer.texture.encoding=St,this.outputBuffer.texture.encoding=St,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new _B;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Au,e.type=iu):e.type=Ul,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new Ee:s.getDrawingBufferSize(new Ee),a={minFilter:sn,magFilter:sn,stencilBuffer:n,depthBuffer:e,type:r},l=new Zn(o.width,o.height,a);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),r===Gn&&s!==null&&s.outputEncoding===St&&(l.texture.encoding=St),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new Ee),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,c)=>l||c.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,c;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const u of this.passes)u.enabled&&(u.render(n,i,s,e,o),u.needsSwap&&(o&&(r.renderToScreen=u.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),c=i,i=s,s=c),u instanceof Nae?o=!0:u instanceof Lae&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new Ee);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new Ee);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Wae=class{constructor(){this.shaderParts=new Map([[mn.FRAGMENT_HEAD,null],[mn.FRAGMENT_MAIN_UV,null],[mn.FRAGMENT_MAIN_IMAGE,null],[mn.VERTEX_HEAD,null],[mn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=cu.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=ds}},jae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",Jae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Kae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",$ae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Yae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",qae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",Xae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",Zae="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",ele="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",tle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",nle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",rle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",ile="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",sle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",ole="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",ale="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",lle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",cle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",ule="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",dle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",fle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",hle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",ple="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",mle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",gle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",Ale="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",vle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",yle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",_le="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",xle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",wle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",Cle="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",Ele=new Map([[Mt.ADD,jae],[Mt.ALPHA,Jae],[Mt.AVERAGE,Kae],[Mt.COLOR,$ae],[Mt.COLOR_BURN,Yae],[Mt.COLOR_DODGE,qae],[Mt.DARKEN,Xae],[Mt.DIFFERENCE,Zae],[Mt.DIVIDE,ele],[Mt.DST,null],[Mt.EXCLUSION,tle],[Mt.HARD_LIGHT,nle],[Mt.HARD_MIX,rle],[Mt.HUE,ile],[Mt.INVERT,sle],[Mt.INVERT_RGB,ole],[Mt.LIGHTEN,ale],[Mt.LINEAR_BURN,lle],[Mt.LINEAR_DODGE,cle],[Mt.LINEAR_LIGHT,ule],[Mt.LUMINOSITY,dle],[Mt.MULTIPLY,fle],[Mt.NEGATION,hle],[Mt.NORMAL,ple],[Mt.OVERLAY,mle],[Mt.PIN_LIGHT,gle],[Mt.REFLECT,Ale],[Mt.SATURATION,vle],[Mt.SCREEN,yle],[Mt.SOFT_LIGHT,_le],[Mt.SRC,xle],[Mt.SUBTRACT,wle],[Mt.VIVID_LIGHT,Cle]]),Sle=class extends Lo{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new Xe(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return Ele.get(this.blendFunction)}},Ns=class extends Lo{constructor(t,e,{attributes:n=cu.NONE,blendFunction:r=Mt.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new Sle(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=ds,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=Iu){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Zn||e instanceof _r||e instanceof Tn||e instanceof Os)&&this[t].dispose()}}},ble=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,Ile=class extends Ns{constructor({blendFunction:t=Mt.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=lm.LARGE,resolutionScale:l=.5,width:c=Mr.AUTO_SIZE,height:u=Mr.AUTO_SIZE,resolutionX:h=c,resolutionY:p=u}={}){super("BloomEffect",ble,{blendFunction:t,uniforms:new Map([["map",new Xe(null)],["intensity",new Xe(i)]])}),this.renderTarget=new Zn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new vU({kernelSize:a}),this.luminancePass=new yU({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new Uae,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const g=this.resolution=new Mr(this,h,p,l);g.addEventListener("change",A=>this.setSize(g.baseWidth,g.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,i.renderTarget):this.blurPass.render(t,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,t.outputEncoding===St&&(this.renderTarget.texture.encoding=St))}},Ble="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",Mle=class extends Ns{constructor({blendFunction:t=Mt.SRC,brightness:e=0,contrast:n=0}={}){super("BrightnessContrastEffect",Ble,{blendFunction:t,uniforms:new Map([["brightness",new Xe(e)],["contrast",new Xe(n)]])}),this.inputColorSpace=St}get brightness(){return this.uniforms.get("brightness").value}set brightness(t){this.uniforms.get("brightness").value=t}getBrightness(t){return this.brightness}setBrightness(t){this.brightness=t}get contrast(){return this.uniforms.get("contrast").value}set contrast(t){this.uniforms.get("contrast").value=t}getContrast(t){return this.contrast}setContrast(t){this.contrast=t}},Tle="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",Rle=class extends Ns{constructor({blendFunction:t,bits:e=16}={}){super("ColorDepthEffect",Tle,{blendFunction:t,uniforms:new Map([["factor",new Xe(1)]])}),this.bits=0,this.bitDepth=e}get bitDepth(){return this.bits}set bitDepth(t){this.bits=t,this.uniforms.get("factor").value=Math.pow(2,t/3)}getBitDepth(){return this.bitDepth}setBitDepth(t){this.bitDepth=t}},Ple=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,Dle=class extends Ns{constructor({blendFunction:t=Mt.SRC,inverted:e=!1}={}){super("DepthEffect",Ple,{blendFunction:t,attributes:cu.DEPTH}),this.inverted=e}get inverted(){return this.defines.has("INVERTED")}set inverted(t){this.inverted!==t&&(t?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(t){this.inverted=t}},Lle="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",Fle=class extends Ns{constructor({blendFunction:t,angle:e=Math.PI*.5,scale:n=1}={}){super("DotScreenEffect",Lle,{blendFunction:t,uniforms:new Map([["angle",new Xe(new Ee)],["scale",new Xe(n)]])}),this.angle=e}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(t){this.uniforms.get("angle").value.set(Math.sin(t),Math.cos(t))}getAngle(){return this.angle}setAngle(t){this.angle=t}get scale(){return this.uniforms.get("scale").value}set scale(t){this.uniforms.get("scale").value=t}};new H;new It;var kle="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",Ole=class extends Ns{constructor({blendFunction:t=Mt.SRC,hue:e=0,saturation:n=0}={}){super("HueSaturationEffect",kle,{blendFunction:t,uniforms:new Map([["hue",new Xe(new H)],["saturation",new Xe(n)]])}),this.hue=e}get saturation(){return this.uniforms.get("saturation").value}set saturation(t){this.uniforms.get("saturation").value=t}getSaturation(){return this.saturation}setSaturation(t){this.saturation=t}get hue(){const t=this.uniforms.get("hue").value;return Math.acos((t.x*3-1)/2)}set hue(t){const e=Math.sin(t),n=Math.cos(t);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3)}getHue(){return this.hue}setHue(t){this.hue=t}};function xD(t,e,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=t,r.height=e,n instanceof Image)i.drawImage(n,0,0);else{const s=i.createImageData(t,e);s.data.set(n),i.putImageData(s,0,0)}return r}var _U=class{constructor(t=0,e=0,n=null){this.width=t,this.height=e,this.data=n}toCanvas(){return typeof document>"u"?null:xD(this.width,this.height,this.data)}static from(t){const{width:e,height:n}=t;let r;if(t instanceof Image){const i=xD(e,n,t);i!==null&&(r=i.getContext("2d").getImageData(0,0,e,n).data)}else r=t.data;return new _U(e,n,r)}},Nle=`"use strict";(()=>{var O=Math.pow;var _={SCALE_UP:"lut.scaleup"};var k=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function j(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=k[0];P[0]=s,P[1]=F,P[2]=f;let o=k[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(O(r,3)*4),y=t instanceof Uint8Array?255:1,h=O(r,2),A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;j(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case _.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();
`,wD=new Ve,O1=class extends ou{constructor(t,e){super(t,e,e,e),this.type=Ar,this.format=yr,this.encoding=ds,this.minFilter=sn,this.magFilter=sn,this.wrapS=Ur,this.wrapT=Ur,this.wrapR=Ur,this.unpackAlignment=1,this.needsUpdate=!0,this.domainMin=new H(0,0,0),this.domainMax=new H(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(t,e=!0){const n=this.image;let r;return t<=n.width?r=Promise.reject(new Error("The target size must be greater than the current size")):r=new Promise((i,s)=>{const o=URL.createObjectURL(new Blob([Nle],{type:"text/javascript"})),a=new Worker(o);a.addEventListener("error",c=>s(c.error)),a.addEventListener("message",c=>{const u=new O1(c.data,t);u.encoding=this.encoding,u.type=this.type,u.name=this.name,URL.revokeObjectURL(o),i(u)});const l=e?[n.data.buffer]:[];a.postMessage({operation:cae.SCALE_UP,data:n.data,size:t},l)}),r}applyLUT(t){const e=this.image,n=t.image,r=Math.min(e.width,e.height,e.depth),i=Math.min(n.width,n.height,n.depth);if(r!==i)console.error("Size mismatch");else if(t.type!==Ar||this.type!==Ar)console.error("Both LUTs must be FloatType textures");else if(t.format!==yr||this.format!==yr)console.error("Both LUTs must be RGBA textures");else{const s=e.data,o=n.data,a=r,l=a**2,c=a-1;for(let u=0,h=a**3;u<h;++u){const p=u*4,g=s[p+0]*c,A=s[p+1]*c,v=s[p+2]*c,y=Math.round(g+A*a+v*l)*4;s[p+0]=o[y+0],s[p+1]=o[y+1],s[p+2]=o[y+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Ar){const t=this.image.data,e=new Uint8Array(t.length);for(let n=0,r=t.length;n<r;++n)e[n]=t[n]*255+.5;this.image.data=e,this.type=Gn,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===Gn){const t=this.image.data,e=new Float32Array(t.length);for(let n=0,r=t.length;n<r;++n)e[n]=t[n]/255;this.image.data=e,this.type=Ar,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const t=this.image.data;if(this.type===Ar){for(let e=0,n=t.length;e<n;e+=4)wD.fromArray(t,e).convertLinearToSRGB().toArray(t,e);this.encoding=St,this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const t=this.image.data;if(this.type===Ar){for(let e=0,n=t.length;e<n;e+=4)wD.fromArray(t,e).convertSRGBToLinear().toArray(t,e);this.encoding=ds,this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const t=this.image.width,e=this.image.height*this.image.depth,n=new au(this.image.data,t,e);return n.name=this.name,n.type=this.type,n.format=this.format,n.encoding=this.encoding,n.minFilter=sn,n.magFilter=sn,n.wrapS=this.wrapS,n.wrapT=this.wrapT,n.generateMipmaps=!1,n.needsUpdate=!0,n}static from(t){const e=t.image,{width:n,height:r}=e,i=Math.min(n,r);let s;if(e instanceof Image){const l=_U.from(e).data;if(n>r){s=new Uint8Array(l.length);for(let c=0;c<i;++c)for(let u=0;u<i;++u)for(let h=0;h<i;++h){const p=(h+c*i+u*i*i)*4,g=(h+u*i+c*i*i)*4;s[g+0]=l[p+0],s[g+1]=l[p+1],s[g+2]=l[p+2],s[g+3]=l[p+3]}}else s=new Uint8Array(l.buffer)}else s=e.data.slice();const o=new O1(s,i);return o.encoding=t.encoding,o.type=t.type,o.name=t.name,o}static createNeutral(t){const e=new Float32Array(t**3*4),n=t**2,r=1/(t-1);for(let s=0;s<t;++s)for(let o=0;o<t;++o)for(let a=0;a<t;++a){const l=(s+o*t+a*n)*4;e[l+0]=s*r,e[l+1]=o*r,e[l+2]=a*r,e[l+3]=1}const i=new O1(e,t);return i.name="neutral",i}},Ule=`uniform vec3 scale;uniform vec3 offset;
#ifdef CUSTOM_INPUT_DOMAIN
uniform vec3 domainMin;uniform vec3 domainMax;
#endif
#ifdef LUT_3D
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler3D lut;
#else
uniform mediump sampler3D lut;
#endif
#else
uniform lowp sampler3D lut;
#endif
vec4 applyLUT(const in vec3 rgb){
#ifdef TETRAHEDRAL_INTERPOLATION
vec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);
#else
return texture(lut,rgb);
#endif
}
#else
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D lut;
#else
uniform mediump sampler2D lut;
#endif
#else
uniform lowp sampler2D lut;
#endif
vec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);
#ifdef LUT_STRIP_HORIZONTAL
float xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);
#else
float yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);
#endif
vec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;
#ifdef CUSTOM_INPUT_DOMAIN
if(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}
#else
#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)
c=clamp(c,0.0,1.0);
#endif
c=applyLUT(scale*c+offset).rgb;
#endif
outputColor=vec4(c,inputColor.a);}`,zle=class extends Ns{constructor(t,{blendFunction:e=Mt.SRC,tetrahedralInterpolation:n=!1,inputEncoding:r=St}={}){super("LUT3DEffect",Ule,{blendFunction:e,uniforms:new Map([["lut",new Xe(null)],["scale",new Xe(new H)],["offset",new Xe(new H)],["domainMin",new Xe(null)],["domainMax",new Xe(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=r,this.lut=t}get inputEncoding(){return this.inputColorSpace}set inputEncoding(t){this.inputColorSpace=t}getInputEncoding(){return this.inputColorSpace}setInputEncoding(t){this.inputColorSpace=t}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(t){const e=this.defines,n=this.uniforms;if(this.lut!==t&&(n.get("lut").value=t,t!==null)){const r=t.image,i=this.tetrahedralInterpolation;if(e.clear(),e.set("LUT_SIZE",Math.min(r.width,r.height).toFixed(16)),e.set("LUT_TEXEL_WIDTH",(1/r.width).toFixed(16)),e.set("LUT_TEXEL_HEIGHT",(1/r.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,(t.type===Ar||t.type===To)&&e.set("LUT_PRECISION_HIGH","1"),r.width>r.height?e.set("LUT_STRIP_HORIZONTAL","1"):t instanceof ou&&e.set("LUT_3D","1"),t instanceof O1){const s=t.domainMin,o=t.domainMax;(s.x!==0||s.y!==0||s.z!==0||o.x!==1||o.y!==1||o.z!==1)&&(e.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=s.clone(),n.get("domainMax").value=o.clone())}this.tetrahedralInterpolation=i}}getLUT(){return this.lut}setLUT(t){this.lut=t}updateScaleOffset(){const t=this.lut;if(t!==null){const e=Math.min(t.image.width,t.image.height),n=this.uniforms.get("scale").value,r=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&t instanceof ou)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n)}else n.setScalar(e-1),r.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin).multiplyScalar(e);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n).addScalar(1/(2*e))}else n.setScalar((e-1)/e),r.setScalar(1/(2*e))}}configureTetrahedralInterpolation(){const t=this.lut;t!==null&&(t.minFilter=sn,t.magFilter=sn,this.tetrahedralInterpolation&&(t instanceof ou?(t.minFilter=vn,t.magFilter=vn):console.warn("Tetrahedral interpolation requires a 3D texture")),t.source===void 0&&(t.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(t){t?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(t){this.tetrahedralInterpolation=t}},Gle=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,Qle=class extends Ns{constructor({blendFunction:t=Mt.SCREEN,premultiply:e=!1}={}){super("NoiseEffect",Gle,{blendFunction:t}),this.premultiply=e}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(t){this.premultiply!==t&&(t?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(t){this.premultiply=t}},Hle=`uniform float count;
#ifdef SCROLL
uniform float scrollSpeed;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;
#ifdef SCROLL
y+=time*scrollSpeed;
#endif
vec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}`,Vle=class extends Ns{constructor({blendFunction:t=Mt.OVERLAY,density:e=1.25,scrollSpeed:n=0}={}){super("ScanlineEffect",Hle,{blendFunction:t,uniforms:new Map([["count",new Xe(0)],["scrollSpeed",new Xe(0)]])}),this.resolution=new Ee,this.d=e,this.scrollSpeed=n}get density(){return this.d}set density(t){this.d=t,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(t){this.density=t}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(t){this.uniforms.get("scrollSpeed").value=t,t===0?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(t,e){this.resolution.set(t,e),this.uniforms.get("count").value=Math.round(e*this.density)}},Wle="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",jle="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",Jle=Math.PI*.5,Ug=new H,CD=new H,Kle=class extends Ns{constructor(t,e=new H,{speed:n=2,maxRadius:r=1,waveSize:i=.2,amplitude:s=.05}={}){super("ShockWaveEffect",Wle,{vertexShader:jle,uniforms:new Map([["active",new Xe(!1)],["center",new Xe(new Ee(.5,.5))],["cameraDistance",new Xe(1)],["size",new Xe(1)],["radius",new Xe(-i)],["maxRadius",new Xe(r)],["waveSize",new Xe(i)],["amplitude",new Xe(s)]])}),this.position=e,this.speed=n,this.camera=t,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}set mainCamera(t){this.camera=t}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(t){this.uniforms.get("amplitude").value=t}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(t){this.uniforms.get("waveSize").value=t}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(t){this.uniforms.get("maxRadius").value=t}get epicenter(){return this.position}set epicenter(t){this.position=t}getPosition(){return this.position}setPosition(t){this.position=t}getSpeed(){return this.speed}setSpeed(t){this.speed=t}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(t,e,n){const r=this.position,i=this.camera,s=this.uniforms,o=s.get("active");if(this.active){const a=s.get("waveSize").value;i.getWorldDirection(Ug),CD.copy(i.position).sub(r),o.value=Ug.angleTo(CD)>Jle,o.value&&(s.get("cameraDistance").value=i.position.distanceTo(r),Ug.copy(r).project(i),this.screenPosition.set((Ug.x+1)*.5,(Ug.y+1)*.5)),this.time+=n*this.speed;const l=this.time-a;s.get("radius").value=l,l>=(s.get("maxRadius").value+a)*2&&(this.active=!1,o.value=!1)}}},$le="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",Yle=class extends Ns{constructor({blendFunction:t,intensity:e=1}={}){super("SepiaEffect",$le,{blendFunction:t,uniforms:new Map([["weightsR",new Xe(new H(.393,.769,.189))],["weightsG",new Xe(new H(.349,.686,.168))],["weightsB",new Xe(new H(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(t){this.blendMode.opacity.value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}},qle=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform vec2 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return step(maskParams.x,x)-step(maskParams.y,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}`,Xle="uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",Zle=class extends Ns{constructor({blendFunction:t,offset:e=0,rotation:n=0,focusArea:r=.4,feather:i=.3,kernelSize:s=lm.MEDIUM,resolutionScale:o=.5,resolutionX:a=Mr.AUTO_SIZE,resolutionY:l=Mr.AUTO_SIZE}={}){super("TiltShiftEffect",qle,{vertexShader:Xle,blendFunction:t,uniforms:new Map([["rotation",new Xe(new Ee)],["maskParams",new Xe(new Ee)],["map",new Xe(null)]])}),this._offset=e,this._focusArea=r,this._feather=i,this.renderTarget=new Zn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new Gae({kernelSize:s,resolutionScale:o,resolutionX:a,resolutionY:l,offset:e,rotation:n,focusArea:r,feather:i});const c=this.resolution=new Mr(this,a,l,o);c.addEventListener("change",u=>this.setSize(c.baseWidth,c.baseHeight)),this.rotation=n,this.updateParams()}updateParams(){const t=this.uniforms.get("maskParams").value,e=Math.max(this.focusArea-this.feather,0);t.set(this.offset-e,this.offset+e)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(t){this.uniforms.get("rotation").value.set(Math.cos(t),Math.sin(t)),this.blurPass.blurMaterial.rotation=t}get offset(){return this._offset}set offset(t){this._offset=t,this.blurPass.blurMaterial.offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.blurPass.blurMaterial.focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.blurPass.blurMaterial.feather=t,this.updateParams()}get bias(){return 0}set bias(t){}update(t,e,n){this.blurPass.render(t,e,this.renderTarget)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,t.outputEncoding===St&&(this.renderTarget.texture.encoding=St))}},ece=`#include <tonemapping_pars_fragment>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
uniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;
#if TONE_MAPPING_MODE != 2
uniform float averageLuminance;
#endif
vec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);
#if TONE_MAPPING_MODE == 2
float lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));
#else
float lumAvg=averageLuminance;
#endif
float lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2
outputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);
#else
outputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);
#endif
}`,tce=class extends Ns{constructor({blendFunction:t=Mt.SRC,adaptive:e=!0,mode:n=e?Bl.REINHARD2_ADAPTIVE:Bl.REINHARD2,resolution:r=256,maxLuminance:i=16,whitePoint:s=i,middleGrey:o=.6,minLuminance:a=.01,averageLuminance:l=1,adaptationRate:c=1}={}){super("ToneMappingEffect",ece,{blendFunction:t,uniforms:new Map([["luminanceBuffer",new Xe(null)],["maxLuminance",new Xe(i)],["whitePoint",new Xe(s)],["middleGrey",new Xe(o)],["averageLuminance",new Xe(l)]])}),this.renderTargetLuminance=new Zn(1,1,{minFilter:Do,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new yU({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new Dae(this.luminancePass.texture,{minLuminance:a,adaptationRate:c}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=r,this.mode=n}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(t){if(this.mode!==t){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",t.toFixed(0)),t){case Bl.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case Bl.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case Bl.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel");break}this.adaptiveLuminancePass.enabled=t===Bl.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(t){this.mode=t}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(t){this.uniforms.get("whitePoint").value=t}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(t){this.uniforms.get("middleGrey").value=t}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(t){this.uniforms.get("averageLuminance").value=t}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(t){const e=Math.max(0,Math.ceil(Math.log2(t))),n=Math.pow(2,e);this.luminancePass.resolution.setPreferredSize(n,n),this.adaptiveLuminanceMaterial.mipLevel1x1=e}getResolution(){return this.resolution}setResolution(t){this.resolution=t}get adaptive(){return this.mode===Bl.REINHARD2_ADAPTIVE}set adaptive(t){this.mode=t?Bl.REINHARD2_ADAPTIVE:Bl.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(t){this.adaptiveLuminanceMaterial.adaptationRate=t}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(t){console.warn(this.name,"distinction was removed.")}update(t,e,n){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(t,e),this.adaptiveLuminancePass.render(t,null,null,n))}initialize(t,e,n){this.adaptiveLuminancePass.initialize(t,e,n)}},nce=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,rce=class extends Ns{constructor({blendFunction:t,technique:e=m1.DEFAULT,eskil:n=!1,offset:r=.5,darkness:i=.5}={}){super("VignetteEffect",nce,{blendFunction:t,defines:new Map([["VIGNETTE_TECHNIQUE",e.toFixed(0)]]),uniforms:new Map([["offset",new Xe(r)],["darkness",new Xe(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(t){this.technique!==t&&(this.defines.set("VIGNETTE_TECHNIQUE",t.toFixed(0)),this.setChanged())}get eskil(){return this.technique===m1.ESKIL}set eskil(t){this.technique=t?m1.ESKIL:m1.DEFAULT}getTechnique(){return this.technique}setTechnique(t){this.technique=t}get offset(){return this.uniforms.get("offset").value}set offset(t){this.uniforms.get("offset").value=t}getOffset(){return this.offset}setOffset(t){this.offset=t}get darkness(){return this.uniforms.get("darkness").value}set darkness(t){this.uniforms.get("darkness").value=t}getDarkness(){return this.darkness}setDarkness(t){this.darkness=t}};const ho=function(t,e){return e===void 0&&(e=Mt.NORMAL),M.forwardRef(function(r,i){let{blendFunction:s,opacity:o,...a}=r;const l=yi(u=>u.invalidate),c=M.useMemo(()=>new t(a),[a]);return M.useLayoutEffect(()=>{c.blendMode.blendFunction=!s&&s!==0?e:s,o!==void 0&&(c.blendMode.opacity.value=o),l()},[s,c.blendMode,o]),X.createElement("primitive",{ref:i,object:c,dispose:null})})};ho(Ile,Mt.ADD);ho(Mle);ho(Rle);ho(Dle);const ice=M.createContext(null),sce=X.memo(M.forwardRef((t,e)=>{let{children:n,camera:r,scene:i,resolutionScale:s,enabled:o=!0,renderPriority:a=1,autoClear:l=!0,depthBuffer:c,disableNormalPass:u,stencilBuffer:h,multisampling:p=8,frameBufferType:g=To}=t;const{gl:A,scene:v,camera:y,size:w}=yi();i=i||v,r=r||y;const[x,E,b]=M.useMemo(()=>{const F=fX(),T=new Vae(A,{depthBuffer:c,stencilBuffer:h,multisampling:p>0&&F?p:0,frameBufferType:g});T.addPass(new AU(i,r));let O=null,U=null;return u||(U=new zae(i,r),U.enabled=!1,T.addPass(U),s!==void 0&&F&&(O=new Fae({normalBuffer:U.texture,resolutionScale:s}),O.enabled=!1,T.addPass(O))),[T,U,O]},[r,A,c,h,p,g,i,u,s]);M.useEffect(()=>x==null?void 0:x.setSize(w.width,w.height),[x,w]),ic((F,T)=>{o&&(A.autoClear=l,x.render(T))},o?a:0);const P=M.useRef(null);M.useLayoutEffect(()=>{let F;return P.current&&P.current.__r3f&&x&&(F=new Oae(r,...P.current.__r3f.objects),F.renderToScreen=!0,x.addPass(F),E&&(E.enabled=!0),b&&(b.enabled=!0)),()=>{F&&(x==null||x.removePass(F)),E&&(E.enabled=!1),b&&(b.enabled=!1)}},[x,n,r,E,b]);const R=M.useMemo(()=>({composer:x,normalPass:E,downSamplingPass:b,resolutionScale:s,camera:r,scene:i}),[x,E,b,s,r,i]);return M.useImperativeHandle(e,()=>x,[x]),X.createElement(ice.Provider,{value:R},X.createElement("group",{ref:P},n))}));ho(Fle);ho(Ole);ho(Qle,Mt.COLOR_DODGE);ho(Vle,Mt.OVERLAY);ho(Yle);ho(tce);const oce=ho(rce);ho(Kle);const ace=M.forwardRef(function(e,n){let{lut:r,tetrahedralInterpolation:i,...s}=e;const o=yi(l=>l.invalidate),a=M.useMemo(()=>new zle(r,s),[r,s]);return M.useLayoutEffect(()=>{r&&a.setLUT(r),i&&a.setTetrahedralInterpolationEnabled(i),o()},[a,r,i]),X.createElement("primitive",{ref:n,object:a,dispose:null})});ho(Zle,Mt.ADD);class lce{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const r=this.workersResolve[e];if(r&&r(n),this.queue.length){const{resolve:i,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(r=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=r,this.workers[i].postMessage(e,n)):this.queue.push({resolve:r,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const cce=0,uce=2,dce=1,fce=2,hce=0,xU=9,_M=15,wU=16,xM=22,CU=37,wM=43,EU=76,SU=83,bU=97,IU=100,BU=103,MU=109;class pce{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class zg{constructor(e,n,r,i){this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const r=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==n&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,i)}}const ts=[171,75,84,88,32,50,48,187,13,10,26,10];function ED(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function mce(t){const e=new Uint8Array(t.buffer,t.byteOffset,ts.length);if(e[0]!==ts[0]||e[1]!==ts[1]||e[2]!==ts[2]||e[3]!==ts[3]||e[4]!==ts[4]||e[5]!==ts[5]||e[6]!==ts[6]||e[7]!==ts[7]||e[8]!==ts[8]||e[9]!==ts[9]||e[10]!==ts[10]||e[11]!==ts[11])throw new Error("Missing KTX 2.0 identifier.");const n=new pce,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new zg(t,ts.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const s=i._nextUint32();n.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),u=i._nextUint64(),h=i._nextUint64(),p=new zg(t,ts.length+r,3*s*8,!0);for(let fe=0;fe<s;fe++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+p._nextUint64(),p._nextUint64()),uncompressedByteLength:p._nextUint64()});const g=new zg(t,o,a,!0),A={vendorId:g._skip(4)._nextUint16(),descriptorType:g._nextUint16(),versionNumber:g._nextUint16(),descriptorBlockSize:g._nextUint16(),colorModel:g._nextUint8(),colorPrimaries:g._nextUint8(),transferFunction:g._nextUint8(),flags:g._nextUint8(),texelBlockDimension:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],bytesPlane:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],samples:[]},v=(A.descriptorBlockSize/4-6)/4;for(let fe=0;fe<v;fe++){const j={bitOffset:g._nextUint16(),bitLength:g._nextUint8(),channelType:g._nextUint8(),samplePosition:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&j.channelType?(j.sampleLower=g._nextInt32(),j.sampleUpper=g._nextInt32()):(j.sampleLower=g._nextUint32(),j.sampleUpper=g._nextUint32()),A.samples[fe]=j}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(A);const y=new zg(t,l,c,!0);for(;y._offset<c;){const fe=y._nextUint32(),j=y._scan(fe),ne=ED(j),re=y._scan(fe-j.byteLength);n.keyValue[ne]=ne.match(/^ktx/i)?ED(re):re,y._offset%4&&y._skip(4-y._offset%4)}if(h<=0)return n;const w=new zg(t,u,h,!0),x=w._nextUint16(),E=w._nextUint16(),b=w._nextUint32(),P=w._nextUint32(),R=w._nextUint32(),F=w._nextUint32(),T=[];for(let fe=0;fe<s;fe++)T.push({imageFlags:w._nextUint32(),rgbSliceByteOffset:w._nextUint32(),rgbSliceByteLength:w._nextUint32(),alphaSliceByteOffset:w._nextUint32(),alphaSliceByteLength:w._nextUint32()});const O=u+w._offset,U=O+b,W=U+P,ee=W+R,Z=new Uint8Array(t.buffer,t.byteOffset+O,b),Y=new Uint8Array(t.buffer,t.byteOffset+U,P),q=new Uint8Array(t.buffer,t.byteOffset+W,R),de=new Uint8Array(t.buffer,t.byteOffset+ee,F);return n.globalData={endpointCount:x,selectorCount:E,imageDescs:T,endpointsData:Z,selectorsData:Y,tablesData:q,extendedData:de},n}let SE,Ml,jb;const bE={env:{emscripten_notify_memory_growth:function(t){jb=new Uint8Array(Ml.exports.memory.buffer)}}};class gce{init(){return SE||(SE=typeof fetch<"u"?fetch("data:application/wasm;base64,"+SD).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,bE)).then(this._init):WebAssembly.instantiate(Buffer.from(SD,"base64"),bE).then(this._init),SE)}_init(e){Ml=e.instance,bE.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!Ml)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=e.byteLength,i=Ml.exports.malloc(r);jb.set(e,i),n=n||Number(Ml.exports.ZSTD_findDecompressedSize(i,r));const s=Ml.exports.malloc(n),o=Ml.exports.ZSTD_decompress(s,n,i,r),a=jb.slice(s,s+o);return Ml.exports.free(i),Ml.exports.free(s),a}}const SD="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",IE=new WeakMap;let BE=0,ME;class Wa extends xi{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new lce,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const e=new vi(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const n=e.loadAsync("basis_transcoder.js"),r=new vi(this.manager);r.setPath(this.transcoderPath),r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const i=r.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,i]).then(([s,o])=>{const a=Wa.BasisWorker.toString(),l=["/* constants */","let _EngineFormat = "+JSON.stringify(Wa.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Wa.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Wa.BasisFormat),"/* basis_transcoder.js */",s,"/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l])),this.transcoderBinary=o,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),u=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:u},[u]),c})}),BE>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),BE++}return this.transcoderPending}load(e,n,r,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const s=new vi(this.manager);s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(IE.has(o))return IE.get(o).promise.then(n).catch(i);this._createTexture(o).then(a=>n?n(a):null).catch(i)},r,i)}_createTextureFrom(e,n){const{mipmaps:r,width:i,height:s,format:o,type:a,error:l,dfdTransferFn:c,dfdFlags:u}=e;if(a==="error")return Promise.reject(l);const h=n.layerCount>1?new pN(r,i,s,n.layerCount,o,Gn):new Ax(r,i,s,o,Gn);return h.minFilter=r.length===1?sn:Do,h.magFilter=sn,h.generateMipmaps=!1,h.needsUpdate=!0,h.encoding=c===fce?St:ds,h.premultiplyAlpha=!!(u&dce),h}async _createTexture(e,n={}){const r=mce(new Uint8Array(e));if(r.vkFormat!==hce)return vce(r);const i=n,s=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:i},[e])).then(o=>this._createTextureFrom(o.data,r));return IE.set(e,{promise:s}),s}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),BE--,this}}Wa.BasisFormat={ETC1S:0,UASTC_4x4:1};Wa.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};Wa.EngineFormat={RGBAFormat:yr,RGBA_ASTC_4x4_Format:p_,RGBA_BPTC_Format:lA,RGBA_ETC2_EAC_Format:h_,RGBA_PVRTC_4BPPV1_Format:d_,RGBA_S3TC_DXT5_Format:aA,RGB_ETC1_Format:cB,RGB_ETC2_Format:f_,RGB_PVRTC_4BPPV1_Format:u_,RGB_S3TC_DXT1_Format:oA};Wa.BasisWorker=function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(A){const v=A.data;switch(v.type){case"init":t=v.config,o(v.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:y,height:w,hasAlpha:x,mipmaps:E,format:b,dfdTransferFn:P,dfdFlags:R}=a(v.buffer),F=[];for(let T=0;T<E.length;++T)F.push(E[T].data.buffer);self.postMessage({type:"transcode",id:v.id,width:y,height:w,hasAlpha:x,mipmaps:E,format:b,dfdTransferFn:P,dfdFlags:R},F)}catch(y){console.error(y),self.postMessage({type:"error",id:v.id,error:y.message})}});break}});function o(A){e=new Promise(v=>{n={wasmBinary:A,onRuntimeInitialized:v},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(A){const v=new n.KTX2File(new Uint8Array(A));function y(){v.close(),v.delete()}if(!v.isValid())throw y(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const w=v.isUASTC()?s.UASTC_4x4:s.ETC1S,x=v.getWidth(),E=v.getHeight(),b=v.getLayers()||1,P=v.getLevels(),R=v.getHasAlpha(),F=v.getDFDTransferFunc(),T=v.getDFDFlags(),{transcoderFormat:O,engineFormat:U}=h(w,x,E,R);if(!x||!E||!P)throw y(),new Error("THREE.KTX2Loader:	Invalid texture");if(!v.startTranscoding())throw y(),new Error("THREE.KTX2Loader: .startTranscoding failed");const W=[];for(let ee=0;ee<P;ee++){const Z=[];let Y,q;for(let de=0;de<b;de++){const fe=v.getImageLevelInfo(ee,de,0);Y=fe.origWidth<4?fe.origWidth:fe.width,q=fe.origHeight<4?fe.origHeight:fe.height;const j=new Uint8Array(v.getImageTranscodedSizeInBytes(ee,de,0,O));if(!v.transcodeImage(j,ee,de,0,O,0,-1,-1))throw y(),new Error("THREE.KTX2Loader: .transcodeImage failed.");Z.push(j)}W.push({data:g(Z),width:Y,height:q})}return y(),{width:x,height:E,hasAlpha:R,mipmaps:W,format:U,dfdTransferFn:F,dfdFlags:T}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(A,v){return A.priorityETC1S-v.priorityETC1S}),u=l.sort(function(A,v){return A.priorityUASTC-v.priorityUASTC});function h(A,v,y,w){let x,E;const b=A===s.ETC1S?c:u;for(let P=0;P<b.length;P++){const R=b[P];if(t[R.if]&&R.basisFormat.includes(A)&&!(w&&R.transcoderFormat.length<2)&&!(R.needsPowerOfTwo&&!(p(v)&&p(y))))return x=R.transcoderFormat[w?1:0],E=R.engineFormat[w?1:0],{transcoderFormat:x,engineFormat:E}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),x=i.RGBA32,E=r.RGBAFormat,{transcoderFormat:x,engineFormat:E}}function p(A){return A<=2?!0:(A&A-1)===0&&A!==0}function g(A){let v=0;for(const x of A)v+=x.byteLength;const y=new Uint8Array(v);let w=0;for(const x of A)y.set(x,w),w+=x.byteLength;return y}};const bD={[MU]:yr,[bU]:yr,[CU]:yr,[wM]:yr,[BU]:lp,[SU]:lp,[wU]:lp,[xM]:lp,[IU]:ap,[EU]:ap,[_M]:ap,[xU]:ap},TE={[MU]:Ar,[bU]:To,[CU]:Gn,[wM]:Gn,[BU]:Ar,[SU]:To,[wU]:Gn,[xM]:Gn,[IU]:Ar,[EU]:To,[_M]:Gn,[xU]:Gn},Ace={[wM]:St,[xM]:St,[_M]:St};async function vce(t){const{vkFormat:e,pixelWidth:n,pixelHeight:r,pixelDepth:i}=t;if(bD[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===cce)o=s.levelData;else if(t.supercompressionScheme===uce)ME||(ME=new Promise(async c=>{const u=new gce;await u.init(),c(u)})),o=(await ME).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");TE[e]===Ar?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):TE[e]===To?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=i===0?new au(a,n,r):new ou(a,n,r,i);return l.type=TE[e],l.format=bD[e],l.encoding=Ace[e]||ds,l.needsUpdate=!0,Promise.resolve(l)}function yce(){const t=yi(r=>r.gl),n=(r=>ko(Wa,r,i=>{i.setTranscoderPath("https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/basis/").detectSupport(t)}))("/LUTs/Dozoran.ktx2");return G(ec,{children:Tt(sce,{dithering:!0,stencilBuffer:!0,children:[G(ace,{lut:n}),G(oce,{offset:.2,darkness:.85,blendFunction:Mt.NORMAL})]})})}const TU=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Rx=M.createContext({}),Px=M.createContext(null),Dx=typeof document<"u",D_=Dx?M.useLayoutEffect:M.useEffect,RU=M.createContext({strict:!1});function _ce(t,e,n,r){const{visualElement:i}=M.useContext(Rx),s=M.useContext(RU),o=M.useContext(Px),a=M.useContext(TU).reducedMotion,l=M.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return M.useInsertionEffect(()=>{c&&c.update(n,o)}),D_(()=>{c&&c.render()}),M.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?D_:M.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function pp(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xce(t,e,n){return M.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pp(n)&&(n.current=r))},[e])}function ZA(t){return typeof t=="string"||Array.isArray(t)}function Lx(t){return typeof t=="object"&&typeof t.start=="function"}const CM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EM=["initial",...CM];function Fx(t){return Lx(t.animate)||EM.some(e=>ZA(t[e]))}function PU(t){return!!(Fx(t)||t.variants)}function wce(t,e){if(Fx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ZA(n)?n:void 0,animate:ZA(r)?r:void 0}}return t.inherit!==!1?e:{}}function Cce(t){const{initial:e,animate:n}=wce(t,M.useContext(Rx));return M.useMemo(()=>({initial:e,animate:n}),[ID(e),ID(n)])}function ID(t){return Array.isArray(t)?t.join(" "):t}const BD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},e0={};for(const t in BD)e0[t]={isEnabled:e=>BD[t].some(n=>!!e[n])};function Ece(t){for(const e in t)e0[e]={...e0[e],...t[e]}}function SM(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const gA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Sce=1;function bce(){return SM(()=>{if(gA.hasEverUpdated)return Sce++})}const bM=M.createContext({}),DU=M.createContext({}),Ice=Symbol.for("motionComponentSymbol");function Bce({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Ece(t);function s(a,l){let c;const u={...M.useContext(TU),...a,layoutId:Mce(a)},{isStatic:h}=u,p=Cce(a),g=h?void 0:bce(),A=r(a,h);if(!h&&Dx){p.visualElement=_ce(i,A,u,e);const v=M.useContext(DU),y=M.useContext(RU).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,y,t,g,v))}return M.createElement(Rx.Provider,{value:p},c&&p.visualElement?M.createElement(c,{visualElement:p.visualElement,...u}):null,n(i,a,g,xce(A,p.visualElement,l),A,h,p.visualElement))}const o=M.forwardRef(s);return o[Ice]=i,o}function Mce({layoutId:t}){const e=M.useContext(bM).id;return e&&t!==void 0?e+"-"+t:t}function Tce(t){function e(r,i={}){return Bce(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Rce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IM(t){return typeof t!="string"||t.includes("-")?!1:!!(Rce.indexOf(t)>-1||/[A-Z]/.test(t))}const L_={};function Pce(t){Object.assign(L_,t)}const kx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],If=new Set(kx);function LU(t,{layout:e,layoutId:n}){return If.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!L_[t]||t==="opacity")}const Fs=t=>!!(t&&t.getVelocity),Dce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lce=kx.length;function Fce(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Lce;o++){const a=kx[o];if(t[a]!==void 0){const l=Dce[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const FU=t=>e=>typeof e=="string"&&e.startsWith(t),kU=FU("--"),Jb=FU("var(--"),kce=(t,e)=>e&&typeof t=="number"?e.transform(t):t,yf=(t,e,n)=>Math.min(Math.max(n,t),e),Bf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},AA={...Bf,transform:t=>yf(0,1,t)},g1={...Bf,default:1},vA=t=>Math.round(t*1e5)/1e5,t0=/(-)?([\d]*\.?[\d])+/g,Kb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Oce=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function k0(t){return typeof t=="string"}const O0=t=>({test:e=>k0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Uc=O0("deg"),Ya=O0("%"),Bt=O0("px"),Nce=O0("vh"),Uce=O0("vw"),MD={...Ya,parse:t=>Ya.parse(t)/100,transform:t=>Ya.transform(t*100)},TD={...Bf,transform:Math.round},OU={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:Uc,rotateX:Uc,rotateY:Uc,rotateZ:Uc,scale:g1,scaleX:g1,scaleY:g1,scaleZ:g1,skew:Uc,skewX:Uc,skewY:Uc,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:AA,originX:MD,originY:MD,originZ:Bt,zIndex:TD,fillOpacity:AA,strokeOpacity:AA,numOctaves:TD};function BM(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const p=e[h];if(kU(h)){s[h]=p;continue}const g=OU[h],A=kce(p,g);if(If.has(h)){if(l=!0,o[h]=A,!u)continue;p!==(g.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=A):i[h]=A}if(e.transform||(l||r?i.transform=Fce(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${p} ${g}`}}const MM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NU(t,e,n){for(const r in e)!Fs(e[r])&&!LU(r,n)&&(t[r]=e[r])}function zce({transformTemplate:t},e,n){return M.useMemo(()=>{const r=MM();return BM(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Gce(t,e,n){const r=t.style||{},i={};return NU(i,r,t),Object.assign(i,zce(t,e,n)),t.transformValues?t.transformValues(i):i}function Qce(t,e,n){const r={},i=Gce(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Hce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function F_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Hce.has(t)}let UU=t=>!F_(t);function Vce(t){t&&(UU=e=>e.startsWith("on")?!F_(e):t(e))}try{Vce(require("@emotion/is-prop-valid").default)}catch{}function Wce(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UU(i)||n===!0&&F_(i)||!e&&!F_(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function RD(t,e,n){return typeof t=="string"?t:Bt.transform(e+n*t)}function jce(t,e,n){const r=RD(e,t.x,t.width),i=RD(n,t.y,t.height);return`${r} ${i}`}const Jce={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kce={offset:"strokeDashoffset",array:"strokeDasharray"};function $ce(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Jce:Kce;t[s.offset]=Bt.transform(-r);const o=Bt.transform(e),a=Bt.transform(n);t[s.array]=`${o} ${a}`}function TM(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,h){if(BM(t,l,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:A}=t;p.transform&&(A&&(g.transform=p.transform),delete p.transform),A&&(r!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=jce(A,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&$ce(p,s,o,a,!1)}const zU=()=>({...MM(),attrs:{}}),RM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yce(t,e,n,r){const i=M.useMemo(()=>{const s=zU();return TM(s,e,{enableHardwareAcceleration:!1},RM(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NU(s,t.style,t),i.style={...s,...i.style}}return i}function qce(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const c=(IM(n)?Yce:Qce)(r,o,a,n),h={...Wce(r,typeof n=="string",t),...c,ref:s},{children:p}=r,g=M.useMemo(()=>Fs(p)?p.get():p,[p]);return i&&(h["data-projection-id"]=i),M.createElement(n,{...h,children:g})}}const PM=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function GU(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const QU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HU(t,e,n,r){GU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(QU.has(i)?i:PM(i),e.attrs[i])}function DM(t,e){const{style:n}=t,r={};for(const i in n)(Fs(n[i])||e.style&&Fs(e.style[i])||LU(i,t))&&(r[i]=n[i]);return r}function VU(t,e){const n=DM(t,e);for(const r in t)if(Fs(t[r])||Fs(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function LM(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const k_=t=>Array.isArray(t),Xce=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Zce=t=>k_(t)?t[t.length-1]||0:t;function N1(t){const e=Fs(t)?t.get():t;return Xce(e)?e.toValue():e}function eue({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:tue(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const WU=t=>(e,n)=>{const r=M.useContext(Rx),i=M.useContext(Px),s=()=>eue(t,e,r,i);return n?s():SM(s)};function tue(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=N1(s[p]);let{initial:o,animate:a}=t;const l=Fx(t),c=PU(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!Lx(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const A=LM(t,g);if(!A)return;const{transitionEnd:v,transition:y,...w}=A;for(const x in w){let E=w[x];if(Array.isArray(E)){const b=u?E.length-1:0;E=E[b]}E!==null&&(i[x]=E)}for(const x in v)i[x]=v[x]}),i}const nue={useVisualState:WU({scrapeMotionValuesFromProps:VU,createRenderState:zU,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}TM(n,r,{enableHardwareAcceleration:!1},RM(e.tagName),t.transformTemplate),HU(e,n)}})},rue={useVisualState:WU({scrapeMotionValuesFromProps:DM,createRenderState:MM})};function iue(t,{forwardMotionProps:e=!1},n,r){return{...IM(t)?nue:rue,preloadedFeatures:n,useRender:qce(e),createVisualElement:r,Component:t}}function Ql(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const jU=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ox(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sue=t=>e=>jU(e)&&t(e,Ox(e));function jl(t,e,n,r){return Ql(t,e,sue(n),r)}const oue=(t,e)=>n=>e(t(n)),uu=(...t)=>t.reduce(oue);function JU(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const PD=JU("dragHorizontal"),DD=JU("dragVertical");function KU(t){let e=!1;if(t==="y")e=DD();else if(t==="x")e=PD();else{const n=PD(),r=DD();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function $U(){const t=KU(!0);return t?(t(),!1):!0}class Lu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function aue(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&i,p=h?e:n;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Gi={delta:0,timestamp:0,isProcessing:!1},lue=40;let $b=!0,n0=!1;const N0=["read","update","preRender","render","postRender"],Nx=N0.reduce((t,e)=>(t[e]=aue(()=>n0=!0),t),{}),Xn=N0.reduce((t,e)=>{const n=Nx[e];return t[e]=(r,i=!1,s=!1)=>(n0||uue(),n.schedule(r,i,s)),t},{}),xu=N0.reduce((t,e)=>(t[e]=Nx[e].cancel,t),{}),RE=N0.reduce((t,e)=>(t[e]=()=>Nx[e].process(Gi),t),{}),cue=t=>Nx[t].process(Gi),YU=t=>{n0=!1,Gi.delta=$b?1e3/60:Math.max(Math.min(t-Gi.timestamp,lue),1),Gi.timestamp=t,Gi.isProcessing=!0,N0.forEach(cue),Gi.isProcessing=!1,n0&&($b=!1,requestAnimationFrame(YU))},uue=()=>{n0=!0,$b=!0,Gi.isProcessing||requestAnimationFrame(YU)};function LD(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||$U())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Xn.update(()=>a[r](s,o))};return jl(t.current,n,i,{passive:!t.getProps()[r]})}class due extends Lu{mount(){this.unmount=uu(LD(this.node,!0),LD(this.node,!1))}unmount(){}}class fue extends Lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uu(Ql(this.node.current,"focus",()=>this.onFocus()),Ql(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qU=(t,e)=>e?t===e?!0:qU(t,e.parentElement):!1,ai=t=>t;function PE(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ox(n))}class hue extends Lu{constructor(){super(...arguments),this.removeStartListeners=ai,this.removeEndListeners=ai,this.removeAccessibleListeners=ai,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=jl(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();Xn.update(()=>{qU(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=jl(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=uu(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||PE("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Xn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ql(this.node.current,"keyup",o),PE("down",(a,l)=>{this.startPress(a,l)})},n=Ql(this.node.current,"keydown",e),r=()=>{this.isPressing&&PE("cancel",(s,o)=>this.cancelPress(s,o))},i=Ql(this.node.current,"blur",r);this.removeAccessibleListeners=uu(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$U()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=jl(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ql(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=uu(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Yb=new WeakMap,DE=new WeakMap,pue=t=>{const e=Yb.get(t.target);e&&e(t)},mue=t=>{t.forEach(pue)};function gue({root:t,...e}){const n=t||document;DE.has(n)||DE.set(n,{});const r=DE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mue,{root:t,...e})),r[i]}function Aue(t,e,n){const r=gue(e);return Yb.set(t,n),r.observe(t),()=>{Yb.delete(t),r.unobserve(t)}}const vue={some:0,all:1};class yue extends Lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vue[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return Aue(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_ue(e,n))&&this.startObserver()}unmount(){}}function _ue({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xue={inView:{Feature:yue},tap:{Feature:hue},focus:{Feature:fue},hover:{Feature:due}};function XU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function wue(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Cue(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ux(t,e,n){const r=t.getProps();return LM(r,e,n!==void 0?n:r.custom,wue(t),Cue(t))}const Eue="framerAppearId",Sue="data-"+PM(Eue);let bue=ai,FM=ai;const du=t=>t*1e3,Jl=t=>t/1e3,Iue={current:!1},ZU=t=>Array.isArray(t)&&typeof t[0]=="number";function ez(t){return!!(!t||typeof t=="string"&&tz[t]||ZU(t)||Array.isArray(t)&&t.every(ez))}const $g=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$g([0,.65,.55,1]),circOut:$g([.55,0,1,.45]),backIn:$g([.31,.01,.66,-.59]),backOut:$g([.33,1.53,.69,.99])};function nz(t){if(t)return ZU(t)?$g(t):Array.isArray(t)?t.map(nz):tz[t]}function Bue(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=nz(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const FD={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},LE={},rz={};for(const t in FD)rz[t]=()=>(LE[t]===void 0&&(LE[t]=FD[t]()),LE[t]);function Mue(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const iz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Tue=1e-7,Rue=12;function Pue(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=iz(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Tue&&++a<Rue);return o}function U0(t,e,n,r){if(t===e&&n===r)return ai;const i=s=>Pue(s,0,1,t,n);return s=>s===0||s===1?s:iz(i(s),e,r)}const Due=U0(.42,0,1,1),Lue=U0(0,0,.58,1),sz=U0(.42,0,.58,1),Fue=t=>Array.isArray(t)&&typeof t[0]!="number",oz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,az=t=>e=>1-t(1-e),lz=t=>1-Math.sin(Math.acos(t)),kM=az(lz),kue=oz(kM),cz=U0(.33,1.53,.69,.99),OM=az(cz),Oue=oz(OM),Nue=t=>(t*=2)<1?.5*OM(t):.5*(2-Math.pow(2,-10*(t-1))),Uue={linear:ai,easeIn:Due,easeInOut:sz,easeOut:Lue,circIn:lz,circInOut:kue,circOut:kM,backIn:OM,backInOut:Oue,backOut:cz,anticipate:Nue},kD=t=>{if(Array.isArray(t)){FM(t.length===4);const[e,n,r,i]=t;return U0(e,n,r,i)}else if(typeof t=="string")return Uue[t];return t},NM=(t,e)=>n=>!!(k0(n)&&Oce.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),uz=(t,e,n)=>r=>{if(!k0(r))return r;const[i,s,o,a]=r.match(t0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zue=t=>yf(0,255,t),FE={...Bf,transform:t=>Math.round(zue(t))},qd={test:NM("rgb","red"),parse:uz("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+FE.transform(t)+", "+FE.transform(e)+", "+FE.transform(n)+", "+vA(AA.transform(r))+")"};function Gue(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qb={test:NM("#"),parse:Gue,transform:qd.transform},mp={test:NM("hsl","hue"),parse:uz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ya.transform(vA(e))+", "+Ya.transform(vA(n))+", "+vA(AA.transform(r))+")"},rs={test:t=>qd.test(t)||qb.test(t)||mp.test(t),parse:t=>qd.test(t)?qd.parse(t):mp.test(t)?mp.parse(t):qb.parse(t),transform:t=>k0(t)?t:t.hasOwnProperty("red")?qd.transform(t):mp.transform(t)},ar=(t,e,n)=>-n*t+n*e+t;function kE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Que({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=kE(l,a,t+1/3),s=kE(l,a,t),o=kE(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const OE=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Hue=[qb,qd,mp],Vue=t=>Hue.find(e=>e.test(t));function OD(t){const e=Vue(t);let n=e.parse(t);return e===mp&&(n=Que(n)),n}const dz=(t,e)=>{const n=OD(t),r=OD(e),i={...n};return s=>(i.red=OE(n.red,r.red,s),i.green=OE(n.green,r.green,s),i.blue=OE(n.blue,r.blue,s),i.alpha=ar(n.alpha,r.alpha,s),qd.transform(i))},fz="${c}",hz="${n}";function Wue(t){var e,n;return isNaN(t)&&k0(t)&&(((e=t.match(t0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Kb))===null||n===void 0?void 0:n.length)||0)>0}function O_(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(Kb);i&&(n=i.length,t=t.replace(Kb,fz),e.push(...i.map(rs.parse)));const s=t.match(t0);return s&&(r=s.length,t=t.replace(t0,hz),e.push(...s.map(Bf.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function pz(t){return O_(t).values}function mz(t){const{values:e,numColors:n,tokenised:r}=O_(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?fz:hz,a<n?rs.transform(s[a]):vA(s[a]));return o}}const jue=t=>typeof t=="number"?0:t;function Jue(t){const e=pz(t);return mz(t)(e.map(jue))}const wu={test:Wue,parse:pz,createTransformer:mz,getAnimatableNone:Jue};function gz(t,e){return typeof t=="number"?n=>ar(t,e,n):rs.test(t)?dz(t,e):vz(t,e)}const Az=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>gz(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Kue=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gz(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},vz=(t,e)=>{const n=wu.createTransformer(e),r=O_(t),i=O_(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?uu(Az(r.values,i.values),n):o=>`${o>0?e:t}`},r0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ND=(t,e)=>n=>ar(t,e,n);function $ue(t){return typeof t=="number"?ND:typeof t=="string"?rs.test(t)?dz:vz:Array.isArray(t)?Az:typeof t=="object"?Kue:ND}function Yue(t,e,n){const r=[],i=n||$ue(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ai:e;a=uu(l,a)}r.push(a)}return r}function yz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(FM(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Yue(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=r0(t[u],t[u+1],c);return o[u](h)};return n?c=>l(yf(t[0],t[s-1],c)):l}function que(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=r0(0,e,r);t.push(ar(n,1,i))}}function Xue(t){const e=[0];return que(e,t.length-1),e}function Zue(t,e){return t.map(n=>n*e)}function ede(t,e){return t.map(()=>e||sz).splice(0,t.length-1)}function N_({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Fue(r)?r.map(kD):kD(r),s={done:!1,value:e[0]},o=Zue(n&&n.length===e.length?n:Xue(e),t),a=yz(o,e,{ease:Array.isArray(i)?i:ede(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function _z(t,e){return e?t*(1e3/e):0}const tde=5;function xz(t,e,n){const r=Math.max(e-tde,0);return _z(n-t(r),e-r)}const NE=.001,nde=.01,UD=10,rde=.05,ide=1;function sde({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;bue(t<=du(UD));let o=1-e;o=yf(rde,ide,o),t=yf(nde,UD,Jl(t)),o<1?(i=c=>{const u=c*o,h=u*t,p=u-n,g=Xb(c,o),A=Math.exp(-h);return NE-p/g*A},s=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,A=Math.exp(-h),v=Xb(Math.pow(c,2),o);return(-i(c)+NE>0?-1:1)*((p-g)*A)/v}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-NE+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=ade(i,s,a);if(t=du(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const ode=12;function ade(t,e,n){let r=n;for(let i=1;i<ode;i++)r=r-t(r)/e(r);return r}function Xb(t,e){return t*Math.sqrt(1-e*e)}const lde=["duration","bounce"],cde=["stiffness","damping","mass"];function zD(t,e){return e.some(n=>t[n]!==void 0)}function ude(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!zD(t,cde)&&zD(t,lde)){const n=sde(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function wz({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:p}=ude(r),g=u?-Jl(u):0,A=l/(2*Math.sqrt(a*c)),v=s-i,y=Jl(Math.sqrt(a/c)),w=Math.abs(v)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let x;if(A<1){const E=Xb(y,A);x=b=>{const P=Math.exp(-A*y*b);return s-P*((g+A*y*v)/E*Math.sin(E*b)+v*Math.cos(E*b))}}else if(A===1)x=E=>s-Math.exp(-y*E)*(v+(g+y*v)*E);else{const E=y*Math.sqrt(A*A-1);x=b=>{const P=Math.exp(-A*y*b),R=Math.min(E*b,300);return s-P*((g+A*y*v)*Math.sinh(R)+E*v*Math.cosh(R))/E}}return{calculatedDuration:p&&h||null,next:E=>{const b=x(E);if(p)o.done=E>=h;else{let P=g;E!==0&&(A<1?P=xz(x,E,b):P=0);const R=Math.abs(P)<=n,F=Math.abs(s-b)<=e;o.done=R&&F}return o.value=o.done?s:b,o}}}function GD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,A=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const y=h+v,w=o===void 0?y:o(y);w!==y&&(v=w-h);const x=T=>-v*Math.exp(-T/r),E=T=>w+x(T),b=T=>{const O=x(T),U=E(T);p.done=Math.abs(O)<=c,p.value=p.done?w:U};let P,R;const F=T=>{g(p.value)&&(P=T,R=wz({keyframes:[p.value,A(p.value)],velocity:xz(E,T,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return F(0),{calculatedDuration:null,next:T=>{let O=!1;return!R&&P===void 0&&(O=!0,b(T),F(T)),P!==void 0&&T>P?R.next(T-P):(!O&&b(T),p)}}}const dde=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Xn.update(e,!0),stop:()=>xu.update(e),now:()=>Gi.isProcessing?Gi.timestamp:performance.now()}},QD=2e4;function HD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<QD;)e+=n,r=t.next(e);return e>=QD?1/0:e}const fde={decay:GD,inertia:GD,tween:N_,keyframes:N_,spring:wz};function U_({autoplay:t=!0,delay:e=0,driver:n=dde,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:h,...p}){let g=1,A=!1,v,y;const w=()=>{v&&v(),y=new Promise(pe=>{v=pe})};w();let x;const E=fde[i]||N_;let b;E!==N_&&typeof r[0]!="number"&&(b=yz([0,100],r,{clamp:!1}),r=[0,100]);const P=E({...p,keyframes:r});let R;a==="mirror"&&(R=E({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let F="idle",T=null,O=null,U=null;P.calculatedDuration===null&&s&&(P.calculatedDuration=HD(P));const{calculatedDuration:W}=P;let ee=1/0,Z=1/0;W!==null&&(ee=W+o,Z=ee*(s+1)-o);let Y=0;const q=pe=>{if(O===null)return;g>0&&(O=Math.min(O,pe)),T!==null?Y=T:Y=(pe-O)*g;const te=Y-e,Se=te<0;Y=Math.max(te,0),F==="finished"&&T===null&&(Y=Z);let xe=Y,ue=P;if(s){const Ye=Y/ee;let ze=Math.floor(Ye),Fe=Ye%1;!Fe&&Ye>=1&&(Fe=1),Fe===1&&ze--,ze=Math.min(ze,s+1);const Me=!!(ze%2);Me&&(a==="reverse"?(Fe=1-Fe,o&&(Fe-=o/ee)):a==="mirror"&&(ue=R));let we=yf(0,1,Fe);Y>Z&&(we=a==="reverse"&&Me?1:0),xe=we*ee}const Pe=Se?{done:!1,value:r[0]}:ue.next(xe);b&&(Pe.value=b(Pe.value));let{done:ke}=Pe;!Se&&W!==null&&(ke=Y>=Z);const je=T===null&&(F==="finished"||F==="running"&&ke||g<0&&Y<=0);return h&&h(Pe.value),je&&j(),Pe},de=()=>{x&&x.stop(),x=void 0},fe=()=>{F="idle",de(),w(),O=U=null},j=()=>{F="finished",u&&u(),de(),w()},ne=()=>{if(A)return;x||(x=n(q));const pe=x.now();l&&l(),F="running",T!==null?O=pe-T:O||(O=pe),U=O,T=null,x.start()};t&&ne();const re={then(pe,te){return y.then(pe,te)},get time(){return Jl(Y)},set time(pe){pe=du(pe),Y=pe,T!==null||!x||g===0?T=pe:O=x.now()-pe/g},get duration(){const pe=P.calculatedDuration===null?HD(P):P.calculatedDuration;return Jl(pe)},get speed(){return g},set speed(pe){pe===g||!x||(g=pe,re.time=Jl(Y))},get state(){return F},play:ne,pause:()=>{F="paused",T=Y},stop:()=>{A=!0,F!=="idle"&&(F="idle",c&&c(),fe())},cancel:()=>{U!==null&&q(U),fe()},complete:()=>{F="finished"},sample:pe=>(O=0,q(pe))};return re}const hde=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),A1=10,pde=2e4,mde=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ez(e.ease);function gde(t,e,{onUpdate:n,onComplete:r,...i}){if(!(rz.waapi()&&hde.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(y=>{a=y})};c();let{keyframes:u,duration:h=300,ease:p,times:g}=i;if(mde(e,i)){const y=U_({...i,repeat:0,delay:0});let w={done:!1,value:u[0]};const x=[];let E=0;for(;!w.done&&E<pde;)w=y.sample(E),x.push(w.value),E+=A1;g=void 0,u=x,h=E-A1,p="linear"}const A=Bue(t.owner.current,e,u,{...i,duration:h,ease:p,times:g}),v=()=>{Xn.update(()=>A.cancel()),a(),c()};return A.onfinish=()=>{t.set(Mue(u,i)),r&&r(),v()},{then(y,w){return l.then(y,w)},get time(){return Jl(A.currentTime||0)},set time(y){A.currentTime=du(y)},get speed(){return A.playbackRate},set speed(y){A.playbackRate=y},get duration(){return Jl(h)},play:()=>{o||A.play()},pause:()=>A.pause(),stop:()=>{if(o=!0,A.playState==="idle")return;const{currentTime:y}=A;if(y){const w=U_({...i,autoplay:!1});t.setWithVelocity(w.sample(y-A1).value,w.sample(y).value,A1)}v()},complete:()=>A.finish(),cancel:v}}function Ade({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ai,pause:ai,stop:ai,then:s=>(s(),Promise.resolve()),cancel:ai,complete:ai});return e?U_({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const vde={type:"spring",stiffness:500,damping:25,restSpeed:10},yde=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_de={type:"keyframes",duration:.8},xde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wde=(t,{keyframes:e})=>e.length>2?_de:If.has(t)?t.startsWith("scale")?yde(e[1]):vde:xde,Zb=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&wu.test(e)&&!e.startsWith("url(")),Cde=new Set(["brightness","contrast","saturate","opacity"]);function Ede(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(t0)||[];if(!r)return t;const i=n.replace(r,"");let s=Cde.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Sde=/([a-z-]*)\(.*?\)/g,eI={...wu,getAnimatableNone:t=>{const e=t.match(Sde);return e?e.map(Ede).join(" "):t}},bde={...OU,color:rs,backgroundColor:rs,outlineColor:rs,fill:rs,stroke:rs,borderColor:rs,borderTopColor:rs,borderRightColor:rs,borderBottomColor:rs,borderLeftColor:rs,filter:eI,WebkitFilter:eI},UM=t=>bde[t];function zM(t,e){let n=UM(t);return n!==eI&&(n=wu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function Ide({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function VD(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function WD(t){return typeof t=="number"?0:zM("",t)}function Cz(t,e){return t[e]||t.default||t}function Bde(t,[...e]){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n===0?t:e[n-1]);return e}function Mde(t,e,n,r){const i=Zb(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=zM(e,n):VD(s)&&typeof n=="string"?s=WD(n):!Array.isArray(n)&&VD(n)&&typeof s=="string"&&(n=WD(s)),Array.isArray(n)?Bde(s,n):[s,n]}const GM=(t,e,n,r={})=>i=>{const s=Cz(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-du(o);const l=Mde(e,t,n,s),c=l[0],u=l[l.length-1],h=Zb(t,c),p=Zb(t,u);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:A=>{e.set(A),s.onUpdate&&s.onUpdate(A)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Ide(s)||(g={...g,...wde(t,g)}),g.duration&&(g.duration=du(g.duration)),g.repeatDelay&&(g.repeatDelay=du(g.repeatDelay)),!h||!p||Iue.current||s.type===!1)return Ade(g);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const A=gde(e,t,g);if(A)return A}return U_(g)};function z_(t){return!!(Fs(t)&&t.add)}const Tde=t=>/^\-?\d*\.?\d+$/.test(t),Rde=t=>/^0[^.\s]+$/.test(t);function QM(t,e){t.indexOf(e)===-1&&t.push(e)}function HM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class VM{constructor(){this.subscriptions=[]}add(e){return QM(this.subscriptions,e),()=>HM(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pde=t=>!isNaN(parseFloat(t));class Dde{constructor(e,n={}){this.version="10.11.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Gi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Xn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Pde(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new VM);const r=this.events[e].add(n);return e==="change"?()=>{r(),Xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_z(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vp(t,e){return new Dde(t,e)}const Ez=t=>e=>e.test(t),Lde={test:t=>t==="auto",parse:t=>t},Sz=[Bf,Bt,Ya,Uc,Uce,Nce,Lde],Gg=t=>Sz.find(Ez(t)),Fde=[...Sz,rs,wu],kde=t=>Fde.find(Ez(t));function Ode(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vp(n))}function Nde(t,e){const n=Ux(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Zce(s[o]);Ode(t,o,a)}}function Ude(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(Tde(u)||Rde(u))?u=parseFloat(u):!kde(u)&&wu.test(c)&&(u=zM(l,c)),t.addValue(l,Vp(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function zde(t,e){return e?(e[t]||e.default||e).from:void 0}function Gde(t,e,n){const r={};for(const i in t){const s=zde(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Qde({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bz(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const p=t.getValue(h),g=a[h];if(!p||g===void 0||u&&Qde(u,h))continue;const A={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const y=t.getProps()[Sue];y&&(A.elapsed=window.HandoffAppearAnimations(y,h,p,Xn))}p.start(GM(h,p,g,t.shouldReduceMotion&&If.has(h)?{type:!1}:A));const v=p.animation;z_(l)&&(l.add(h),v.then(()=>l.remove(h))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&Nde(t,o)}),c}function tI(t,e,n={}){const r=Ux(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(bz(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=i;return Hde(t,e,c+l,u,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function Hde(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Vde).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(tI(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Vde(t,e){return t.sortNodePosition(e)}function Wde(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>tI(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=tI(t,e,n);else{const i=typeof e=="function"?Ux(t,e,n.custom):e;r=Promise.all(bz(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const jde=[...CM].reverse(),Jde=CM.length;function Kde(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Wde(t,n,r)))}function $de(t){let e=Kde(t);const n=qde();let r=!0;const i=(l,c)=>{const u=Ux(t,c);if(u){const{transition:h,transitionEnd:p,...g}=u;l={...l,...g,...p}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},p=[],g=new Set;let A={},v=1/0;for(let w=0;w<Jde;w++){const x=jde[w],E=n[x],b=u[x]!==void 0?u[x]:h[x],P=ZA(b),R=x===c?E.isActive:null;R===!1&&(v=w);let F=b===h[x]&&b!==u[x]&&P;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...A},!E.isActive&&R===null||!b&&!E.prevProp||Lx(b)||typeof b=="boolean")continue;const T=Yde(E.prevProp,b);let O=T||x===c&&E.isActive&&!F&&P||w>v&&P;const U=Array.isArray(b)?b:[b];let W=U.reduce(i,{});R===!1&&(W={});const{prevResolvedValues:ee={}}=E,Z={...ee,...W},Y=q=>{O=!0,g.delete(q),E.needsAnimating[q]=!0};for(const q in Z){const de=W[q],fe=ee[q];A.hasOwnProperty(q)||(de!==fe?k_(de)&&k_(fe)?!XU(de,fe)||T?Y(q):E.protectedKeys[q]=!0:de!==void 0?Y(q):g.add(q):de!==void 0&&g.has(q)?Y(q):E.protectedKeys[q]=!0)}E.prevProp=b,E.prevResolvedValues=W,E.isActive&&(A={...A,...W}),r&&t.blockInitialAnimation&&(O=!1),O&&!F&&p.push(...U.map(q=>({animation:q,options:{type:x,...l}})))}if(g.size){const w={};g.forEach(x=>{const E=t.getBaseTarget(x);E!==void 0&&(w[x]=E)}),p.push({animation:w})}let y=!!p.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(p):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(g=>{var A;return(A=g.animationState)===null||A===void 0?void 0:A.setActive(l,c)}),n[l].isActive=c;const p=o(u,l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Yde(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XU(e,t):!1}function Pd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qde(){return{animate:Pd(!0),whileInView:Pd(),whileHover:Pd(),whileTap:Pd(),whileDrag:Pd(),whileFocus:Pd(),exit:Pd()}}class Xde extends Lu{constructor(e){super(e),e.animationState||(e.animationState=$de(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Lx(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Zde=0;class efe extends Lu{constructor(){super(...arguments),this.id=Zde++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tfe={animation:{Feature:Xde},exit:{Feature:efe}},jD=(t,e)=>Math.abs(t-e);function nfe(t,e){const n=jD(t.x,e.x),r=jD(t.y,e.y);return Math.sqrt(n**2+r**2)}class Iz{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=zE(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=nfe(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:p}=c,{timestamp:g}=Gi;this.history.push({...p,timestamp:g});const{onStart:A,onMove:v}=this.handlers;u||(A&&A(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=UE(u,this.transformPagePoint),Xn.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,g=zE(c.type==="pointercancel"?this.lastMoveEventInfo:UE(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,g),p&&p(c,g)},!jU(e))return;this.handlers=n,this.transformPagePoint=r;const i=Ox(e),s=UE(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Gi;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,zE(s,this.history)),this.removeListeners=uu(jl(window,"pointermove",this.handlePointerMove),jl(window,"pointerup",this.handlePointerUp),jl(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xu.update(this.updatePoint)}}function UE(t,e){return e?{point:e(t.point)}:t}function JD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zE({point:t},e){return{point:t,delta:JD(t,Bz(e)),offset:JD(t,rfe(e)),velocity:ife(e,.1)}}function rfe(t){return t[0]}function Bz(t){return t[t.length-1]}function ife(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Bz(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>du(e)));)n--;if(!r)return{x:0,y:0};const s=Jl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function co(t){return t.max-t.min}function nI(t,e=0,n=.01){return Math.abs(t-e)<=n}function KD(t,e,n,r=.5){t.origin=r,t.originPoint=ar(e.min,e.max,t.origin),t.scale=co(n)/co(e),(nI(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ar(n.min,n.max,t.origin)-t.originPoint,(nI(t.translate)||isNaN(t.translate))&&(t.translate=0)}function yA(t,e,n,r){KD(t.x,e.x,n.x,r?r.originX:void 0),KD(t.y,e.y,n.y,r?r.originY:void 0)}function $D(t,e,n){t.min=n.min+e.min,t.max=t.min+co(e)}function sfe(t,e,n){$D(t.x,e.x,n.x),$D(t.y,e.y,n.y)}function YD(t,e,n){t.min=e.min-n.min,t.max=t.min+co(e)}function _A(t,e,n){YD(t.x,e.x,n.x),YD(t.y,e.y,n.y)}function ofe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ar(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ar(n,t,r.max):Math.min(t,n)),t}function qD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function afe(t,{top:e,left:n,bottom:r,right:i}){return{x:qD(t.x,n,i),y:qD(t.y,e,r)}}function XD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function lfe(t,e){return{x:XD(t.x,e.x),y:XD(t.y,e.y)}}function cfe(t,e){let n=.5;const r=co(t),i=co(e);return i>r?n=r0(e.min,e.max-r,t.min):r>i&&(n=r0(t.min,t.max-i,e.min)),yf(0,1,n)}function ufe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rI=.35;function dfe(t=rI){return t===!1?t=0:t===!0&&(t=rI),{x:ZD(t,"left","right"),y:ZD(t,"top","bottom")}}function ZD(t,e,n){return{min:eL(t,e),max:eL(t,n)}}function eL(t,e){return typeof t=="number"?t:t[e]||0}const tL=()=>({translate:0,scale:1,origin:0,originPoint:0}),xA=()=>({x:tL(),y:tL()}),nL=()=>({min:0,max:0}),Or=()=>({x:nL(),y:nL()});function za(t){return[t("x"),t("y")]}function Mz({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ffe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hfe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function GE(t){return t===void 0||t===1}function iI({scale:t,scaleX:e,scaleY:n}){return!GE(t)||!GE(e)||!GE(n)}function Od(t){return iI(t)||Tz(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Tz(t){return rL(t.x)||rL(t.y)}function rL(t){return t&&t!=="0%"}function G_(t,e,n){const r=t-n,i=e*r;return n+i}function iL(t,e,n,r,i){return i!==void 0&&(t=G_(t,i,r)),G_(t,n,r)+e}function sI(t,e=0,n=1,r,i){t.min=iL(t.min,e,n,r,i),t.max=iL(t.max,e,n,r,i)}function Rz(t,{x:e,y:n}){sI(t.x,e.translate,e.scale,e.originPoint),sI(t.y,n.translate,n.scale,n.originPoint)}function pfe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Rz(t,o)),r&&Od(s.latestValues)&&gp(t,s.latestValues))}e.x=sL(e.x),e.y=sL(e.y)}function sL(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Hc(t,e){t.min=t.min+e,t.max=t.max+e}function oL(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=ar(t.min,t.max,s);sI(t,e[n],e[r],o,e.scale)}const mfe=["x","scaleX","originX"],gfe=["y","scaleY","originY"];function gp(t,e){oL(t.x,e,mfe),oL(t.y,e,gfe)}function Pz(t,e){return Mz(hfe(t.getBoundingClientRect(),e))}function Afe(t,e,n){const r=Pz(t,n),{scroll:i}=e;return i&&(Hc(r.x,i.offset.x),Hc(r.y,i.offset.y)),r}const vfe=new WeakMap;class yfe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Or(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Ox(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:h,onDragStart:p}=this.getProps();if(u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=KU(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),za(A=>{let v=this.getAxisMotionValue(A).get()||0;if(Ya.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[A];w&&(v=co(w)*(parseFloat(v)/100))}}this.originPoint[A]=v}),p&&Xn.update(()=>p(l,c));const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:A}=c;if(h&&this.currentDirection===null){this.currentDirection=_fe(A),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,A),this.updateAxis("y",c.point,A),this.visualElement.render(),g&&g(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new Iz(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Xn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!v1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ofe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&pp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=afe(r.layoutBox,e):this.constraints=!1,this.elastic=dfe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&za(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ufe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Afe(r,i.root,this.visualElement.getTransformPagePoint());let o=lfe(i.layout.layoutBox,s);if(n){const a=n(ffe(o));this.hasMutatedConstraints=!!a,a&&(o=Mz(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=za(u=>{if(!v1(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,A={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,A)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(GM(e,r,0,n))}stopAnimation(){za(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){za(n=>{const{drag:r}=this.getProps();if(!v1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};za(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=cfe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),za(o=>{if(!v1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ar(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;vfe.set(this.visualElement,this);const e=this.visualElement.current,n=jl(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pp(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ql(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(za(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=rI,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function v1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _fe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xfe extends Lu{constructor(e){super(e),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new yfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const aL=t=>(e,n)=>{t&&Xn.update(()=>t(e,n))};class wfe extends Lu{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(e){this.session=new Iz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aL(e),onStart:aL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Xn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Cfe(){const t=M.useContext(Px);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=M.useId();return M.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function lL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bt.test(t))t=parseFloat(t);else return t;const n=lL(t,e.target.x),r=lL(t,e.target.y);return`${n}% ${r}%`}},Dz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Efe(t){const e=Dz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function oI(t,e,n=1){const[r,i]=Efe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():Jb(i)?oI(i,e,n+1):i}function Sfe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Jb(s))return;const o=oI(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Jb(s))continue;const o=oI(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const cL="_$css",bfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(Dz,g=>(s.push(g),cL)));const o=wu.parse(t);if(o.length>5)return r;const a=wu.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const h=ar(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(i){let g=0;p=p.replace(cL,()=>{const A=s[g];return g++,A})}return p}};class Ife extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Pce(Bfe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Xn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lz(t){const[e,n]=Cfe(),r=M.useContext(bM);return X.createElement(Ife,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(DU),isPresent:e,safeToRemove:n})}const Bfe={borderRadius:{...Qg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qg,borderTopRightRadius:Qg,borderBottomLeftRadius:Qg,borderBottomRightRadius:Qg,boxShadow:bfe},Fz=["TopLeft","TopRight","BottomLeft","BottomRight"],Mfe=Fz.length,uL=t=>typeof t=="string"?parseFloat(t):t,dL=t=>typeof t=="number"||Bt.test(t);function Tfe(t,e,n,r,i,s){i?(t.opacity=ar(0,n.opacity!==void 0?n.opacity:1,Rfe(r)),t.opacityExit=ar(e.opacity!==void 0?e.opacity:1,0,Pfe(r))):s&&(t.opacity=ar(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Mfe;o++){const a=`border${Fz[o]}Radius`;let l=fL(e,a),c=fL(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dL(l)===dL(c)?(t[a]=Math.max(ar(uL(l),uL(c),r),0),(Ya.test(c)||Ya.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ar(e.rotate||0,n.rotate||0,r))}function fL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rfe=kz(0,.5,kM),Pfe=kz(.5,.95,ai);function kz(t,e,n){return r=>r<t?0:r>e?1:n(r0(t,e,r))}function hL(t,e){t.min=e.min,t.max=e.max}function _o(t,e){hL(t.x,e.x),hL(t.y,e.y)}function pL(t,e,n,r,i){return t-=e,t=G_(t,1/n,r),i!==void 0&&(t=G_(t,1/i,r)),t}function Dfe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ya.test(e)&&(e=parseFloat(e),e=ar(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ar(s.min,s.max,r);t===s&&(a-=e),t.min=pL(t.min,e,n,a,i),t.max=pL(t.max,e,n,a,i)}function mL(t,e,[n,r,i],s,o){Dfe(t,e[n],e[r],e[i],e.scale,s,o)}const Lfe=["x","scaleX","originX"],Ffe=["y","scaleY","originY"];function gL(t,e,n,r){mL(t.x,e,Lfe,n?n.x:void 0,r?r.x:void 0),mL(t.y,e,Ffe,n?n.y:void 0,r?r.y:void 0)}function AL(t){return t.translate===0&&t.scale===1}function Oz(t){return AL(t.x)&&AL(t.y)}function aI(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function vL(t){return co(t.x)/co(t.y)}class kfe{constructor(){this.members=[]}add(e){QM(this.members,e),e.scheduleRender()}remove(e){if(HM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yL(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Ofe=(t,e)=>t.depth-e.depth;class Nfe{constructor(){this.children=[],this.isDirty=!1}add(e){QM(this.children,e),this.isDirty=!0}remove(e){HM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ofe),this.isDirty=!1,this.children.forEach(e)}}function Ufe(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xu.read(r),t(s-e))};return Xn.read(r,!0),()=>xu.read(r)}function zfe(t){window.MotionDebug&&window.MotionDebug.record(t)}function Gfe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Qfe(t,e,n){const r=Fs(t)?t:Vp(t);return r.start(GM("",r,e,n)),r.animation}const _L=["","X","Y","Z"],xL=1e3;let Hfe=0;const Nd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Nz({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=Hfe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Nd.totalNodes=Nd.resolvedTargetDeltas=Nd.recalculatedProjection=0,this.nodes.forEach(jfe),this.nodes.forEach(Yfe),this.nodes.forEach(qfe),this.nodes.forEach(Jfe),zfe(Nd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nfe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new VM),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=Gfe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Ufe(p,250),gA.hasAnimatedSinceResize&&(gA.hasAnimatedSinceResize=!1,this.nodes.forEach(CL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||nhe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),x=!this.targetLayout||!aI(this.targetLayout,A)||g,E=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const b={...Cz(v,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else!p&&this.animationProgress===0&&CL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xu.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xfe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wL);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(rhe),this.potentialNodes.clear()),this.nodes.forEach($fe),this.nodes.forEach(Vfe),this.nodes.forEach(Wfe),this.clearAllSnapshots(),RE.update(),RE.preRender(),RE.render())}clearAllSnapshots(){this.nodes.forEach(Kfe),this.sharedNodes.forEach(Zfe)}scheduleUpdateProjection(){Xn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Oz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Od(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ihe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Or();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Hc(a.x,l.offset.x),Hc(a.y,l.offset.y)),a}removeElementScroll(o){const a=Or();_o(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){_o(a,o);const{scroll:p}=this.root;p&&(Hc(a.x,-p.offset.x),Hc(a.y,-p.offset.y))}Hc(a.x,u.offset.x),Hc(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Or();_o(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gp(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Od(u.latestValues)&&gp(l,u.latestValues)}return Od(this.latestValues)&&gp(l,this.latestValues),l}removeTransform(o){const a=Or();_o(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Od(c.latestValues))continue;iI(c.latestValues)&&c.updateSnapshot();const u=Or(),h=c.measurePageBox();_o(u,h),gL(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Od(this.latestValues)&&gL(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Gi.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout?(this.relativeParent=g,this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),_A(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),_o(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Or(),this.targetWithTransforms=Or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==Gi.timestamp&&this.relativeParent.resolveTargetDelta(!0),sfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_o(this.target,this.layout.layoutBox),Rz(this.target,this.targetDelta)):_o(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target?(this.relativeParent=g,this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),_A(this.relativeTargetOrigin,this.target,g.target),_o(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||iI(this.parent.latestValues)||Tz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;_o(this.layoutCorrected,this.layout.layoutBox),pfe(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=xA(),this.projectionDeltaWithTransform=xA());const g=this.treeScale.x,A=this.treeScale.y,v=this.projectionTransform;yA(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=yL(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==g||this.treeScale.y!==A)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Nd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=xA();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Or(),g=l?l.source:void 0,A=this.layout?this.layout.source:void 0,v=g!==A,y=this.getStack(),w=!y||y.members.length<=1,x=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(the));this.animationProgress=0;let E;this.mixTargetDelta=b=>{const P=b/1e3;EL(h.x,o.x,P),EL(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_A(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ehe(this.relativeTarget,this.relativeTargetOrigin,p,P),E&&aI(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Or()),_o(E,this.relativeTarget)),v&&(this.animationValues=u,Tfe(u,c,this.latestValues,P,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xu.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xn.update(()=>{gA.hasAnimatedSinceResize=!0,this.currentAnimation=Qfe(0,xL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Uz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Or();const h=co(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=co(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}_o(a,l),gp(a,u),yA(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kfe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<_L.length;u++){const h="rotate"+_L[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=N1(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=N1(o.pointerEvents)||""),this.hasProjected&&!Od(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=yL(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:A}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${A.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in L_){if(p[v]===void 0)continue;const{correct:y,applyTo:w}=L_[v],x=c.transform==="none"?p[v]:y(p[v],h);if(w){const E=w.length;for(let b=0;b<E;b++)c[w[b]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=h===this?N1(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wL),this.root.sharedNodes.clear()}}}function Vfe(t){t.updateLayout()}function Wfe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?za(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=co(p);p.min=r[h].min,p.max=p.min+g}):Uz(s,n.layoutBox,r)&&za(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=co(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=xA();yA(a,r,n.layoutBox);const l=xA();o?yA(l,t.applyTransform(i,!0),n.measuredBox):yA(l,r,n.layoutBox);const c=!Oz(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const A=Or();_A(A,n.layoutBox,p.layoutBox);const v=Or();_A(v,r,g.layoutBox),aI(A,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=A,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function jfe(t){Nd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Jfe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Kfe(t){t.clearSnapshot()}function wL(t){t.clearMeasurements()}function $fe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Yfe(t){t.resolveTargetDelta()}function qfe(t){t.calcProjection()}function Xfe(t){t.resetRotation()}function Zfe(t){t.removeLeadSnapshot()}function EL(t,e,n){t.translate=ar(e.translate,0,n),t.scale=ar(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function SL(t,e,n,r){t.min=ar(e.min,n.min,r),t.max=ar(e.max,n.max,r)}function ehe(t,e,n,r){SL(t.x,e.x,n.x,r),SL(t.y,e.y,n.y,r)}function the(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nhe={duration:.45,ease:[.4,0,.1,1]};function rhe(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(t.path[s].instance){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function bL(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function ihe(t){bL(t.x),bL(t.y)}function Uz(t,e,n){return t==="position"||t==="preserve-aspect"&&!nI(vL(e),vL(n),.2)}const she=Nz({attachResizeListener:(t,e)=>Ql(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QE={current:void 0},zz=Nz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!QE.current){const t=new she(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),QE.current=t}return QE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ohe={pan:{Feature:wfe},drag:{Feature:xfe,ProjectionNode:zz,MeasureLayout:Lz}},ahe=new Set(["width","height","top","left","right","bottom","x","y"]),Gz=t=>ahe.has(t),lhe=t=>Object.keys(t).some(Gz),IL=t=>t===Bf||t===Bt,BL=(t,e)=>parseFloat(t.split(", ")[e]),ML=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return BL(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?BL(s[1],t):0}},che=new Set(["x","y","z"]),uhe=kx.filter(t=>!che.has(t));function dhe(t){const e=[];return uhe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const TL={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ML(4,13),y:ML(5,14)},fhe=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=TL[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=TL[c](l,s)}),t},hhe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Gz);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=Gg(u);const p=e[l];let g;if(k_(p)){const A=p.length,v=p[0]===null?1:0;u=p[v],h=Gg(u);for(let y=v;y<A&&p[y]!==null;y++)g?FM(Gg(p[y])===g):g=Gg(p[y])}else g=Gg(p);if(h!==g)if(IL(h)&&IL(g)){const A=c.get();typeof A=="string"&&c.set(parseFloat(A)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===Bt&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(u===0||p===0)?u===0?c.set(g.transform(u)):e[l]=h.transform(p):(o||(s=dhe(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=fhe(e,t,a);return s.length&&s.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),Dx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function phe(t,e,n,r){return lhe(e)?hhe(t,e,n,r):{target:e,transitionEnd:r}}const mhe=(t,e,n,r)=>{const i=Sfe(t,e,r);return e=i.target,r=i.transitionEnd,phe(t,e,n,r)},lI={current:null},Qz={current:!1};function ghe(){if(Qz.current=!0,!!Dx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lI.current=t.matches;t.addListener(e),e()}else lI.current=!1}function Ahe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Fs(s))t.addValue(i,s),z_(r)&&r.add(i);else if(Fs(o))t.addValue(i,Vp(s,{owner:t})),z_(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Vp(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const RL=new WeakMap,Hz=Object.keys(e0),vhe=Hz.length,PL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yhe=EM.length;class _he{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Fx(n),this.isVariantNode=PU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const p=u[h];a[h]!==void 0&&Fs(p)&&(p.set(a[h],!1),z_(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,RL.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Qz.current||ghe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){RL.delete(this.current),this.projection&&this.projection.unmount(),xu.update(this.notifyUpdate),xu.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=If.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let a,l;for(let c=0;c<vhe;c++){const u=Hz[c],{isEnabled:h,Feature:p,ProjectionNode:g,MeasureLayout:A}=e0[u];g&&(a=g),h(n)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),A&&(l=A))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:A}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!h||p&&pp(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:A})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Or()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PL.length;r++){const i=PL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Ahe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yhe;r++){const i=EM[r],s=this.props[i];(ZA(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vp(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=LM(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fs(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new VM),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Vz extends _he{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Gde(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Ude(this,r,o);const a=mhe(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function xhe(t){return window.getComputedStyle(t)}class whe extends Vz{readValueFromInstance(e,n){if(If.has(n)){const r=UM(n);return r&&r.default||0}else{const r=xhe(e),i=(kU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Pz(e,n)}build(e,n,r,i){BM(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return DM(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){GU(e,n,r,i)}}class Che extends Vz{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(If.has(n)){const r=UM(n);return r&&r.default||0}return n=QU.has(n)?n:PM(n),e.getAttribute(n)}measureInstanceViewportBox(){return Or()}scrapeMotionValuesFromProps(e,n){return VU(e,n)}build(e,n,r,i){TM(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){HU(e,n,r,i)}mount(e){this.isSVGTag=RM(e.tagName),super.mount(e)}}const Ehe=(t,e)=>IM(t)?new Che(e,{enableHardwareAcceleration:!1}):new whe(e,{enableHardwareAcceleration:!0}),She={layout:{ProjectionNode:zz,MeasureLayout:Lz}},bhe={...tfe,...xue,...ohe,...She},wA=Tce((t,e)=>iue(t,e,bhe,Ehe));function Wz(){const t=M.useRef(!1);return D_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Ihe(){const t=Wz(),[e,n]=M.useState(0),r=M.useCallback(()=>{t.current&&n(e+1)},[e]);return[M.useCallback(()=>Xn.postRender(r),[r]),e]}class Bhe extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Mhe({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),M.createElement(Bhe,{isPresent:e,childRef:r,sizeRef:i},M.cloneElement(t,{ref:r}))}const HE=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=SM(The),l=M.useId(),c=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return M.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=M.createElement(Mhe,{isPresent:n},t)),M.createElement(Px.Provider,{value:c},t)};function The(){return new Map}function Rhe(t){return M.useEffect(()=>()=>t(),[])}const Kh=t=>t.key||"";function Phe(t,e){t.forEach(n=>{const r=Kh(n);e.set(r,n)})}function Dhe(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Lhe=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=Ihe();const l=M.useContext(bM).forceRender;l&&(a=l);const c=Wz(),u=Dhe(t);let h=u;const p=new Set,g=M.useRef(h),A=M.useRef(new Map).current,v=M.useRef(!0);if(D_(()=>{v.current=!1,Phe(u,A),g.current=h}),Rhe(()=>{v.current=!0,A.clear(),p.clear()}),v.current)return M.createElement(M.Fragment,null,h.map(E=>M.createElement(HE,{key:Kh(E),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},E)));h=[...h];const y=g.current.map(Kh),w=u.map(Kh),x=y.length;for(let E=0;E<x;E++){const b=y[E];w.indexOf(b)===-1&&p.add(b)}return o==="wait"&&p.size&&(h=[]),p.forEach(E=>{if(w.indexOf(E)!==-1)return;const b=A.get(E);if(!b)return;const P=y.indexOf(E),R=()=>{A.delete(E),p.delete(E);const F=g.current.findIndex(T=>T.key===E);if(g.current.splice(F,1),!p.size){if(g.current=u,c.current===!1)return;a(),r&&r()}};h.splice(P,0,M.createElement(HE,{key:Kh(b),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},b))}),h=h.map(E=>{const b=E.key;return p.has(b)?E:M.createElement(HE,{key:Kh(E),isPresent:!0,presenceAffectsLayout:s,mode:o},E)}),M.createElement(M.Fragment,null,p.size?h:h.map(E=>M.cloneElement(E)))};function DL(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"}}]})(t)}function Fhe(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}}]})(t)}function khe(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"}}]})(t)}function Ohe(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}}]})(t)}function Nhe(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}}]})(t)}function jz(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"}}]})(t)}function Uhe(t){return ks({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}}]})(t)}const Jz=t=>{Ms.sequence.play({range:[t-.3,t],rate:.3})};function zx(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const zhe=({navList:t})=>{const[e,n,r,i,s]=bu(a=>[a.soundLevel,a.soundControlIsVisible,a.toggleSoundControlVisibility,a.activeNav,a.updateActiveNav],zx),o=(a,l)=>{s(a),Jz(l)};return G("div",{className:"mobile-nav-overlay",children:Tt("nav",{className:"mobile-nav",children:[G("ul",{children:t.map((a,l)=>G("li",{children:G("button",{className:`${i===a.title&&"active"}`,onClick:()=>o(a.title,a.position),"aria-label":a.title,children:a.icon})},`${l}-mobileNavLink`))}),G("ul",{children:G("li",{children:G("button",{className:`sound_control ${e==0&&"no-sound"}`,"aria-label":"sound level control",onClick:()=>r(!n),children:G(jz,{})})})})]})})};const Ghe={hidden:{y:-24,opacity:0},show:{y:0,opacity:1,transition:{duration:.5,delay:.5}},exit:{y:-24,opacity:0,transition:{duration:.5}}},Qhe=()=>{const[t,e,n]=bu(r=>[r.soundLevel,r.updateSoundLevel,r.updateCursorType],zx);return G(wA.div,{variants:Ghe,initial:"hidden",animate:"show",exit:"exit",className:"control",onMouseEnter:()=>n("hover"),onMouseLeave:()=>n("pointer"),children:G("input",{type:"range",min:"0",max:"10",value:t,step:"1",onChange:r=>e(r.target.value)})},"control")},LL=[{title:"about",icon:G(Fhe,{}),position:.7},{title:"team",icon:G(Uhe,{}),position:2.1},{title:"stack",icon:G(khe,{}),position:6.7},{title:"portfolio",icon:G(Nhe,{}),position:7.8},{title:"credits",icon:G(Ohe,{}),position:9}],Hhe=()=>{const[t,e,n,r,i,s]=bu(a=>[a.soundLevel,a.soundControlIsVisible,a.toggleSoundControlVisibility,a.updateCursorType,a.activeNav,a.updateActiveNav],zx),o=(a,l)=>{s(a),Jz(l)};return G("header",{className:"header",children:Tt("div",{className:"container",children:[Tt("nav",{className:"navigation",children:[G("ul",{children:LL.map((a,l)=>G("li",{children:G("button",{className:`${i===a.title&&"active"}`,onMouseEnter:()=>r("hover"),onMouseLeave:()=>r("pointer"),onClick:()=>o(a.title,a.position),children:a.title})},`${l}-navLink`))}),G("ul",{children:G("li",{children:G("button",{className:`sound_control ${t==0&&"no-sound"}`,"aria-label":"sound level control",onMouseEnter:()=>r("hover"),onMouseLeave:()=>r("pointer"),onClick:()=>n(!e),children:G(jz,{})})})}),G(Lhe,{children:e&&G(Qhe,{})})]}),G(zhe,{navList:LL})]})})};const Vhe={hidden:{x:-48,opacity:0},show:{x:0,opacity:1,transition:{duration:.5}},exit:{x:-48,opacity:0,transition:{duration:.5,delay:.5}}},Whe={hidden:{y:-24,opacity:0},show:{y:0,opacity:1,transition:{duration:.5,delay:.5}},exit:{y:-24,opacity:0,transition:{duration:.5}}},jhe={hidden:{y:24,opacity:0},show:{y:0,opacity:1,transition:{duration:.5,delay:.5}},exit:{y:24,opacity:0,transition:{duration:.5}}};function Jhe(t){return ks({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"}}]})(t)}function Khe(t){return ks({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function $he(t){return ks({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"}}]})(t)}function Yhe(t){return ks({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(t)}const qhe=({member:t})=>{const e=bu(n=>n.updateCursorType);return Tt("div",{className:"carousel",children:[G("img",{src:t.image,alt:""}),Tt("div",{className:"member-details",children:[G("p",{children:t.name}),Tt("div",{className:"member-links",children:[G("a",{"aria-label":"linkedin",onMouseEnter:()=>e("hover"),onMouseLeave:()=>e("pointer"),target:"_blank",href:t.links[0].link,children:G(Khe,{})}),G("a",{"aria-label":"github",onMouseEnter:()=>e("hover"),onMouseLeave:()=>e("pointer"),target:"_blank",href:t.links[1].link,children:G(Jhe,{})}),G("a",{"aria-label":"twitter",onMouseEnter:()=>e("hover"),onMouseLeave:()=>e("pointer"),target:"_blank",href:t.links[2].link,children:G($he,{})}),G("a",{"aria-label":"portfolio",onMouseEnter:()=>e("hover"),onMouseLeave:()=>e("pointer"),target:"_blank",href:t.links[3].link,children:G(Yhe,{})})]})]})]})},Xhe=[{name:"Kartik Sangal",image:"/images/cx.png",links:[{title:"linkedin",link:"https://www.linkedin.com/in/kartik-sangal/"},{title:"github",link:"https://t.me/tech_overflow"},{title:"twitter",link:"https://t.me/tech_overflow"},{title:"portfolio",link:"https://t.me/tech_overflow"}]},{name:"Gaurav Sain",image:"/images/zx1.png",links:[{title:"linkedin",link:"https://www.linkedin.com/in/gauravsain001/"},{title:"github",link:"https://t.me/tech_overflow"},{title:"twitter",link:"https://t.me/tech_overflow"},{title:"portfolio",link:"https://t.me/tech_overflow"}]},{name:"Anamika Singh",image:"/images/gh.jpg",links:[{title:"linkedin",link:"https://www.linkedin.com/in/anamika-singh-6535aa2ab/"},{title:"github",link:"https://t.me/tech_overflow"},{title:"twitter",link:"https://t.me/tech_overflow"},{title:"portfolio",link:"https://t.me/tech_overflow"}]},{name:"Ayush",image:"/images/zx2.PNG",links:[{title:"linkedin",link:"https://www.linkedin.com/in/aayush-anand-174809284/"},{title:"github",link:"https://t.me/tech_overflow"},{title:"twitter",link:"https://t.me/tech_overflow"},{title:"portfolio",link:"https://t.me/tech_overflow"}]},{name:"Abhai",image:"/images/zx3.PNG",links:[{title:"linkedin",link:"https://t.me/tech_overflow"},{title:"github",link:"https://t.me/tech_overflow"},{title:"twitter",link:"https://t.me/tech_overflow"},{title:"portfolio",link:"https://t.me/tech_overflow"}]}],Zhe=()=>{const[t,e]=M.useState(0),n=Ms.object("Team Carousel",{teamMemberIndex:"0"});return M.useEffect(()=>n.onValuesChange(r=>{e(r.teamMemberIndex)}),[n]),G(wA.div,{className:"carousel-wrapper",children:G(qhe,{member:Xhe[t]},`member-${t}`)})},epe=[{key:"about",title:"About us",content:G("p",{children:"Welcome to our 3D portfolio, created by Team Archies. This experience helped us boost our confidence and develop our soft and technical skills, gearing us up for future challenges. Check it out and witness the amazing outcome of our teamwork! "})},{key:"team",title:"Our team",content:G(Zhe,{})},{key:"credits",title:"Credits",content:Tt("ul",{className:"credits",children:[G("li",{children:G("a",{href:"https://www.chingu.io/",children:"Kartik Sangal"})}),G("li",{children:G("a",{href:"https://threejs-journey.com/",children:"Gaurav Sain"})}),G("li",{children:G("a",{href:"https://poly.pizza",children:"Anamika Singh"})}),G("li",{children:G("a",{href:"https://www.syntystudios.com",children:"Aayush Anand "})}),G("li",{children:G("a",{href:"https://streakbyte.com",children:"Abhai"})}),G("li",{children:G("a",{href:"https://t.me/tech_overflow",children:"More Credits"})})]})}],tpe=()=>{const t=bu(l=>l.updateCursorType),[e,n]=M.useState("about"),[r,i]=M.useState(!1),s=[2.1,3.1,3.8,4.7,5.3,6.1,11],o=()=>{Ms.sequence.play({range:[Ms.sequence.position,s.find(l=>l>Ms.sequence.position)],rate:.3})},a=Ms.object("Section Overlay",{visible:!1,section:"about"});return M.useEffect(()=>a.onValuesChange(l=>{l.visible==!0?i(!0):i(!1),l.section==="about"?n("about"):l.section==="team"?n("team"):n("credits")}),[a]),G("div",{className:"section-container",children:r&&epe.map(l=>{if(l.key===e)return Tt(wA.div,{variants:Vhe,initial:"hidden",animate:"show",className:"section-overlay",children:[Tt(wA.div,{variants:Whe,initial:"hidden",animate:"show",className:"section-text",children:[G("h1",{children:l.title}),l.content]}),Tt(wA.div,{variants:jhe,initial:"hidden",animate:"show",className:"section-btns",children:[Tt("button",{onMouseEnter:()=>t("hover"),onMouseLeave:()=>t("pointer"),className:"section-btn",onClick:o,children:["Next ",G(DL,{})]}),Tt("a",{onMouseEnter:()=>t("hover"),onMouseLeave:()=>t("pointer"),target:"_blank",className:"section-btn",href:"https://t.me/tech_overflow",children:["github repo ",G(DL,{})]})]})]},l.key)})})};function npe(t){return ks({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"}}]}]})(t)}const rpe=()=>{const t=bu(i=>i.cursorType),[e,n]=M.useState({x:400,y:400}),r=i=>{const{pageX:s,pageY:o}=i;n({x:s,y:o})};return M.useEffect(()=>(document.addEventListener("mousemove",r),()=>{document.removeEventListener("mousemove",r)}),[]),G("div",{className:`cursor ${t==="custom"?"custom":t==="hover"?"hover":"pointer"}`,style:{left:`${e.x}px`,top:`${e.y}px`},children:G(npe,{})})};function ipe({ready:t}){const[e,n,r,i]=bu(o=>[o.soundLevel,o.cursorType,o.updateCursorType,o.updateActiveNav],zx);return Tt(ec,{children:[Tt(cq,{shadows:!0,onMouseEnter:()=>r("custom"),onMouseLeave:()=>r("pointer"),onClick:()=>{const o=[.6,2.1,3.1,3.8,4.7,5.3,6.1,6.7,7.8,9,11];if(n==="custom"){const a=o.find(l=>l>Ms.sequence.position);a<2.1||!a?i("about"):a<6.7?i("team"):a<7.8?i("stack"):a<9?i("portfolio"):i("credits"),Ms.sequence.position<o[o.length-1]?Ms.sequence.play({range:[Ms.sequence.position,a],rate:.3}):Ms.sequence.play({range:[0,o[0]],rate:.3})}},children:[G("color",{args:["#111111"],attach:"background"}),G(Q4,{sheet:Ms,children:G(oae,{ready:t,soundLevel:e})}),G(yce,{})]}),G(Hhe,{}),G(tpe,{}),G(rpe,{})]})}const spe=iB(document.getElementById("root"));spe.render(G(x8,{children:G(ipe,{})}));
